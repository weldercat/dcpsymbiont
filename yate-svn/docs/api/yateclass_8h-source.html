<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Yate: yateclass.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>yateclass.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef __YATECLASS_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define __YATECLASS_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef __cplusplus</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#error C++ is required</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;limits.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#ifndef _WORDSIZE</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#if defined(__arch64__) || defined(__x86_64__) \</span>
<a name="l00038"></a>00038 <span class="preprocessor">    || defined(__amd64__) || defined(__ia64__) \</span>
<a name="l00039"></a>00039 <span class="preprocessor">    || defined(__alpha__) || defined(__sparcv9) || defined(__mips64)</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#define _WORDSIZE 64</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define _WORDSIZE 32</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef _WINDOWS</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#if defined(WIN32) || defined(_WIN32)</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define _WINDOWS</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>
<a name="l00052"></a>00052 <span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;windows.h&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;io.h&gt;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &lt;direct.h&gt;</span>
<a name="l00057"></a>00057 
<a name="l00061"></a>00061 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> __int8 int8_t;
<a name="l00062"></a>00062 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int8 u_int8_t;
<a name="l00063"></a>00063 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int8 uint8_t;
<a name="l00064"></a>00064 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> __int16 int16_t;
<a name="l00065"></a>00065 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int16 u_int16_t;
<a name="l00066"></a>00066 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int16 uint16_t;
<a name="l00067"></a>00067 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> __int32 int32_t;
<a name="l00068"></a>00068 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int32 u_int32_t;
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int32 uint32_t;
<a name="l00070"></a>00070 <span class="keyword">typedef</span> <span class="keywordtype">signed</span> __int64 int64_t;
<a name="l00071"></a>00071 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int64 u_int64_t;
<a name="l00072"></a>00072 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int64 uint64_t;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">typedef</span> <span class="keywordtype">int</span> pid_t;
<a name="l00075"></a>00075 <span class="keyword">typedef</span> <span class="keywordtype">int</span> socklen_t;
<a name="l00076"></a>00076 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> in_addr_t;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="preprocessor">#ifndef strcasecmp</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#define strcasecmp _stricmp</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span>
<a name="l00082"></a>00082 <span class="preprocessor">#ifndef strncasecmp</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor">#define strncasecmp _strnicmp</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 <span class="preprocessor">#define vsnprintf _vsnprintf</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><span class="preprocessor">#define snprintf _snprintf</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#define strdup _strdup</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">#define strtoll _strtoi64</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">#define open _open</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="preprocessor">#define dup2 _dup2</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="preprocessor">#define read _read</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="preprocessor">#define write _write</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">#define close _close</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#define getpid _getpid</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">#define chdir _chdir</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#define mkdir(p,m) _mkdir(p)</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="preprocessor">#define unlink _unlink</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="preprocessor">#define O_RDWR   _O_RDWR</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#define O_RDONLY _O_RDONLY</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#define O_WRONLY _O_WRONLY</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#define O_APPEND _O_APPEND</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span><span class="preprocessor">#define O_BINARY _O_BINARY</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="preprocessor">#define O_EXCL   _O_EXCL</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span><span class="preprocessor">#define O_CREAT  _O_CREAT</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span><span class="preprocessor">#define O_TRUNC  _O_TRUNC</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="preprocessor">#define O_NOCTTY 0</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>
<a name="l00110"></a>00110 <span class="preprocessor">#define S_IRUSR _S_IREAD</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span><span class="preprocessor">#define S_IWUSR _S_IWRITE</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="preprocessor">#define S_IXUSR 0</span>
<a name="l00113"></a>00113 <span class="preprocessor"></span><span class="preprocessor">#define S_IRWXU (_S_IREAD|_S_IWRITE)</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a>00115 <span class="preprocessor">#ifdef LIBYATE_EXPORTS</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span><span class="preprocessor">#define YATE_API __declspec(dllexport)</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span><span class="preprocessor">#ifndef LIBYATE_STATIC</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span><span class="preprocessor">#define YATE_API __declspec(dllimport)</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span>
<a name="l00123"></a>00123 <span class="preprocessor">#define FMT64 "%I64d"</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define FMT64U "%I64u"</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 <span class="preprocessor">#else </span><span class="comment">/* _WINDOWS */</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00129"></a>00129 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 <span class="preprocessor">#if defined(__FreeBSD__)</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="preprocessor">#include &lt;netinet/in_systm.h&gt;</span>
<a name="l00133"></a>00133 <span class="preprocessor">#endif</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a>00135 <span class="preprocessor">#include &lt;netinet/in.h&gt;</span>
<a name="l00136"></a>00136 <span class="preprocessor">#include &lt;netinet/ip.h&gt;</span>
<a name="l00137"></a>00137 <span class="preprocessor">#include &lt;netinet/tcp.h&gt;</span>
<a name="l00138"></a>00138 <span class="preprocessor">#include &lt;arpa/inet.h&gt;</span>
<a name="l00139"></a>00139 <span class="preprocessor">#include &lt;netdb.h&gt;</span>
<a name="l00140"></a>00140 
<a name="l00144"></a>00144 <span class="preprocessor">#ifndef SOCKET</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> SOCKET;
<a name="l00146"></a>00146 <span class="preprocessor">#endif</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span><span class="preprocessor">#ifndef HANDLE</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> HANDLE;
<a name="l00149"></a>00149 <span class="preprocessor">#endif</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span>
<a name="l00151"></a>00151 <span class="preprocessor">#ifndef O_BINARY</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#define O_BINARY 0</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>
<a name="l00155"></a>00155 <span class="preprocessor">#if _WORDSIZE == 64 &amp;&amp; !defined(__APPLE__)</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span><span class="preprocessor">#define FMT64 "%ld"</span>
<a name="l00157"></a>00157 <span class="preprocessor"></span><span class="preprocessor">#define FMT64U "%lu"</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span><span class="preprocessor">#define FMT64 "%lld"</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="preprocessor">#define FMT64U "%llu"</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a>00163 <span class="preprocessor">#endif </span><span class="comment">/* ! _WINDOWS */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#ifndef LLONG_MAX</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><span class="preprocessor">#ifdef _I64_MAX</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#define LLONG_MAX _I64_MAX</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span><span class="preprocessor">#define LLONG_MAX 9223372036854775807LL</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00171"></a>00171 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>
<a name="l00173"></a>00173 <span class="preprocessor">#ifndef LLONG_MIN</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="preprocessor">#ifdef _I64_MIN</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span><span class="preprocessor">#define LLONG_MIN _I64_MIN</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span><span class="preprocessor">#define LLONG_MIN (-LLONG_MAX - 1LL)</span>
<a name="l00178"></a>00178 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>
<a name="l00181"></a>00181 <span class="preprocessor">#ifndef ULLONG_MAX</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#ifdef _UI64_MAX</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="preprocessor">#define ULLONG_MAX _UI64_MAX</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#define ULLONG_MAX 18446744073709551615ULL</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>
<a name="l00189"></a>00189 <span class="preprocessor">#ifndef O_LARGEFILE</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#define O_LARGEFILE 0</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 <span class="preprocessor">#ifndef IPTOS_LOWDELAY</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span><span class="preprocessor">#define IPTOS_LOWDELAY      0x10</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span><span class="preprocessor">#define IPTOS_THROUGHPUT    0x08</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span><span class="preprocessor">#define IPTOS_RELIABILITY   0x04</span>
<a name="l00197"></a>00197 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span><span class="preprocessor">#ifndef IPTOS_MINCOST</span>
<a name="l00199"></a>00199 <span class="preprocessor"></span><span class="preprocessor">#define IPTOS_MINCOST       0x02</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span><span class="preprocessor">#ifndef IPPROTO_SCTP</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span><span class="preprocessor">#define IPPROTO_SCTP        132</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>
<a name="l00205"></a>00205 <span class="preprocessor">#ifndef YATE_API</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="preprocessor">#define YATE_API</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>
<a name="l00209"></a>00209 <span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span><span class="preprocessor">#undef RAND_MAX</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span><span class="preprocessor">#define RAND_MAX 2147483647</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span>
<a name="l00217"></a><a class="code" href="namespaceTelEngine.html">00217</a> <span class="keyword">namespace </span>TelEngine {
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="preprocessor">#ifdef HAVE_GCC_FORMAT_CHECK</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span><span class="preprocessor">#define FORMAT_CHECK(f) __attribute__((format(printf,(f),(f)+1)))</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#define FORMAT_CHECK(f)</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>
<a name="l00225"></a>00225 <span class="preprocessor">#define YIGNORE(v) while (v) { break; }</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span>
<a name="l00227"></a>00227 <span class="preprocessor">#ifdef HAVE_BLOCK_RETURN</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span><span class="preprocessor">#define YSTRING(s) (*({static const String str(s);&amp;str;}))</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span><span class="preprocessor">#define YATOM(s) (*({static const String* str(0);str ? str : String::atom(str,s);}))</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#define YSTRING(s) (s)</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="preprocessor">#define YATOM(s) (s)</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>
<a name="l00235"></a>00235 <span class="preprocessor">#define YSTRING_INIT_HASH ((unsigned) -1)</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span>
<a name="l00241"></a>00241 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#7833720291bf1f8196c54840afb9dd26">abortOnBug</a>();
<a name="l00242"></a>00242 
<a name="l00247"></a>00247 YATE_API <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#7833720291bf1f8196c54840afb9dd26">abortOnBug</a>(<span class="keywordtype">bool</span> doAbort);
<a name="l00248"></a>00248 
<a name="l00254"></a><a class="code" href="namespaceTelEngine.html#b658e6d84759440dbf3c890446075395">00254</a> <span class="keyword">enum</span> <a class="code" href="namespaceTelEngine.html#b658e6d84759440dbf3c890446075395">DebugLevel</a> {
<a name="l00255"></a>00255     DebugFail = 0,
<a name="l00256"></a>00256     DebugTest = 1,
<a name="l00257"></a>00257     DebugGoOn = 2,
<a name="l00258"></a>00258     DebugConf = 3,
<a name="l00259"></a>00259     DebugStub = 4,
<a name="l00260"></a>00260     DebugWarn = 5,
<a name="l00261"></a>00261     DebugMild = 6,
<a name="l00262"></a>00262     DebugCall = 7,
<a name="l00263"></a>00263     DebugNote = 8,
<a name="l00264"></a>00264     DebugInfo = 9,
<a name="l00265"></a>00265     DebugAll = 10
<a name="l00266"></a>00266 };
<a name="l00267"></a>00267 
<a name="l00272"></a>00272 YATE_API <span class="keywordtype">int</span> <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">debugLevel</a>();
<a name="l00273"></a>00273 
<a name="l00279"></a>00279 YATE_API <span class="keywordtype">int</span> <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">debugLevel</a>(<span class="keywordtype">int</span> level);
<a name="l00280"></a>00280 
<a name="l00286"></a>00286 YATE_API <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#bf37fbbcd97a2f3c87aa3e0e259cc9c9">debugAt</a>(<span class="keywordtype">int</span> level);
<a name="l00287"></a>00287 
<a name="l00294"></a>00294 YATE_API <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#8903cb5ac2cb0151126a6ed05194552a">debugColor</a>(<span class="keywordtype">int</span> level);
<a name="l00295"></a>00295 
<a name="l00301"></a>00301 YATE_API <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#1535fc3c240e5d44f04926826ba57615">debugLevelName</a>(<span class="keywordtype">int</span> level);
<a name="l00302"></a>00302 
<a name="l00308"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html">00308</a> <span class="keyword">class </span>YATE_API DebugEnabler
<a name="l00309"></a>00309 {
<a name="l00310"></a>00310 <span class="keyword">public</span>:
<a name="l00316"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#3f9f30882c176143e4f0859ad6bd85a8">00316</a>     <span class="keyword">inline</span> DebugEnabler(<span class="keywordtype">int</span> level = <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">TelEngine::debugLevel</a>(), <span class="keywordtype">bool</span> enabled = <span class="keyword">true</span>)
<a name="l00317"></a>00317         : m_level(DebugFail), m_enabled(enabled), m_chain(0), m_name(0)
<a name="l00318"></a>00318         { <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">debugLevel</a>(level); }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="keyword">inline</span> ~DebugEnabler()
<a name="l00321"></a>00321         { m_name = 0; m_chain = 0; }
<a name="l00322"></a>00322 
<a name="l00327"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#a290db3e620b8662defa6786f72eb087">00327</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">debugLevel</a>()<span class="keyword"> const</span>
<a name="l00328"></a>00328 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_chain ? m_chain-&gt;debugLevel() : m_level; }
<a name="l00329"></a>00329 
<a name="l00335"></a>00335     <span class="keywordtype">int</span> <a class="code" href="namespaceTelEngine.html#312b12a37958f0e2bc028e63732a1690">debugLevel</a>(<span class="keywordtype">int</span> level);
<a name="l00336"></a>00336 
<a name="l00341"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#7fdea538940319f6e2e183bb5c88d7b4">00341</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> debugEnabled()<span class="keyword"> const</span>
<a name="l00342"></a>00342 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_chain ? m_chain-&gt;debugEnabled() : m_enabled; }
<a name="l00343"></a>00343 
<a name="l00348"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#35f55e108977290c1f8e42298e1c32c3">00348</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> debugEnabled(<span class="keywordtype">bool</span> enable)
<a name="l00349"></a>00349         { m_enabled = enable; m_chain = 0; }
<a name="l00350"></a>00350 
<a name="l00355"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#ffa7b6e322d1bf7761ae0314720b156c">00355</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* debugName()<span class="keyword"> const</span>
<a name="l00356"></a>00356 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_name; }
<a name="l00357"></a>00357 
<a name="l00363"></a>00363     <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#bf37fbbcd97a2f3c87aa3e0e259cc9c9">debugAt</a>(<span class="keywordtype">int</span> level) <span class="keyword">const</span>;
<a name="l00364"></a>00364 
<a name="l00369"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#97d1b8c7ddcfcb58da441d3d47b56fba">00369</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> debugChained()<span class="keyword"> const</span>
<a name="l00370"></a>00370 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_chain != 0; }
<a name="l00371"></a>00371 
<a name="l00376"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#03116f3831321a668da764b21ade3b3b">00376</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> debugChain(<span class="keyword">const</span> DebugEnabler* chain = 0)
<a name="l00377"></a>00377         { m_chain = (chain != <span class="keyword">this</span>) ? chain : 0; }
<a name="l00378"></a>00378 
<a name="l00383"></a>00383     <span class="keywordtype">void</span> debugCopy(<span class="keyword">const</span> DebugEnabler* original = 0);
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="keyword">protected</span>:
<a name="l00390"></a><a class="code" href="classTelEngine_1_1DebugEnabler.html#22d5f9a6466d35e78ffc1e0ce82bb2f8">00390</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> debugName(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)
<a name="l00391"></a>00391         { m_name = name; }
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 <span class="keyword">private</span>:
<a name="l00394"></a>00394     <span class="keywordtype">int</span> m_level;
<a name="l00395"></a>00395     <span class="keywordtype">bool</span> m_enabled;
<a name="l00396"></a>00396     <span class="keyword">const</span> DebugEnabler* m_chain;
<a name="l00397"></a>00397     <span class="keyword">const</span> <span class="keywordtype">char</span>* m_name;
<a name="l00398"></a>00398 };
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="preprocessor">#if 0 </span><span class="comment">/* for documentation generator */</span>
<a name="l00401"></a>00401 
<a name="l00406"></a>00406 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c51d216c1eec4e55a2a4500085bc3c94">DDebug</a>(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00407"></a>00407 
<a name="l00413"></a>00413 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c51d216c1eec4e55a2a4500085bc3c94">DDebug</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* facility, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00414"></a>00414 
<a name="l00420"></a>00420 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c51d216c1eec4e55a2a4500085bc3c94">DDebug</a>(<span class="keyword">const</span> DebugEnabler* local, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00421"></a>00421 
<a name="l00427"></a>00427 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#d2f1745694b4568b6767a40f29787a36">XDebug</a>(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00428"></a>00428 
<a name="l00434"></a>00434 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#d2f1745694b4568b6767a40f29787a36">XDebug</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* facility, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00435"></a>00435 
<a name="l00441"></a>00441 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#d2f1745694b4568b6767a40f29787a36">XDebug</a>(<span class="keyword">const</span> DebugEnabler* local, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00442"></a>00442 
<a name="l00448"></a>00448 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c0b2bf68bae1026e6690f2516f142354">NDebug</a>(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00449"></a>00449 
<a name="l00455"></a>00455 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c0b2bf68bae1026e6690f2516f142354">NDebug</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* facility, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00456"></a>00456 
<a name="l00462"></a>00462 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c0b2bf68bae1026e6690f2516f142354">NDebug</a>(<span class="keyword">const</span> DebugEnabler* local, <span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...);
<a name="l00463"></a>00463 <span class="preprocessor">#endif</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span>
<a name="l00465"></a>00465 <span class="preprocessor">#if defined(_DEBUG) || defined(DEBUG) || defined(XDEBUG)</span>
<a name="l00466"></a>00466 <span class="preprocessor"></span><span class="preprocessor">#undef DEBUG</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span><span class="preprocessor">#define DEBUG   1</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span>
<a name="l00470"></a>00470 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00471"></a>00471 <span class="preprocessor"></span><span class="preprocessor">#define DDebug Debug</span>
<a name="l00472"></a>00472 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00473"></a>00473 <span class="preprocessor"></span><span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l00474"></a>00474 <span class="preprocessor"></span><span class="preprocessor">#define DDebug do { break; } while</span>
<a name="l00475"></a>00475 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00476"></a>00476 <span class="preprocessor"></span><span class="preprocessor">#define DDebug(arg...)</span>
<a name="l00477"></a>00477 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00479"></a>00479 <span class="preprocessor"></span>
<a name="l00480"></a>00480 <span class="preprocessor">#ifdef XDEBUG</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span><span class="preprocessor">#define XDebug Debug</span>
<a name="l00482"></a>00482 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span><span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span><span class="preprocessor">#define XDebug do { break; } while</span>
<a name="l00485"></a>00485 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00486"></a>00486 <span class="preprocessor"></span><span class="preprocessor">#define XDebug(arg...)</span>
<a name="l00487"></a>00487 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00488"></a>00488 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00489"></a>00489 <span class="preprocessor"></span>
<a name="l00490"></a>00490 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00491"></a>00491 <span class="preprocessor"></span><span class="preprocessor">#define NDebug Debug</span>
<a name="l00492"></a>00492 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00493"></a>00493 <span class="preprocessor"></span><span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l00494"></a>00494 <span class="preprocessor"></span><span class="preprocessor">#define NDebug do { break; } while</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00496"></a>00496 <span class="preprocessor"></span><span class="preprocessor">#define NDebug(arg...)</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00498"></a>00498 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00499"></a>00499 <span class="preprocessor"></span>
<a name="l00505"></a>00505 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#3340bc2f81fe3a2eb7b8ed6778d84a37">Debug</a>(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(2);
<a name="l00506"></a>00506 
<a name="l00513"></a>00513 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#3340bc2f81fe3a2eb7b8ed6778d84a37">Debug</a>(const <span class="keywordtype">char</span>* facility, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(3);
<a name="l00514"></a>00514 
<a name="l00521"></a>00521 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#3340bc2f81fe3a2eb7b8ed6778d84a37">Debug</a>(const DebugEnabler* local, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(3);
<a name="l00522"></a>00522 
<a name="l00529"></a>00529 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#b53f8d5780a98a85f7773fe9a7becc27">Alarm</a>(const <span class="keywordtype">char</span>* component, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(3);
<a name="l00530"></a>00530 
<a name="l00537"></a>00537 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#b53f8d5780a98a85f7773fe9a7becc27">Alarm</a>(const DebugEnabler* component, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(3);
<a name="l00538"></a>00538 
<a name="l00546"></a>00546 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#b53f8d5780a98a85f7773fe9a7becc27">Alarm</a>(const <span class="keywordtype">char</span>* component, const <span class="keywordtype">char</span>* info, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(4);
<a name="l00547"></a>00547 
<a name="l00555"></a>00555 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#b53f8d5780a98a85f7773fe9a7becc27">Alarm</a>(const DebugEnabler* component, const <span class="keywordtype">char</span>* info, <span class="keywordtype">int</span> level, const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(4);
<a name="l00556"></a>00556 
<a name="l00561"></a>00561 YATE_API <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#838721d03f9f64e9180413493d5aedd2">Output</a>(const <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(1);
<a name="l00562"></a>00562 
<a name="l00569"></a><a class="code" href="classTelEngine_1_1Debugger.html">00569</a> class YATE_API <a class="code" href="classTelEngine_1_1Debugger.html" title="An object that logs messages on creation and destruction.">Debugger</a>
<a name="l00570"></a>00570 {
<a name="l00571"></a>00571 <span class="keyword">public</span>:
<a name="l00575"></a><a class="code" href="classTelEngine_1_1Debugger.html#01abbfadc55f379e016b8f8a3db4eb66">00575</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Debugger.html#01abbfadc55f379e016b8f8a3db4eb66">Formatting</a> {
<a name="l00576"></a>00576         None = 0,
<a name="l00577"></a>00577         Relative,  <span class="comment">// from program start</span>
<a name="l00578"></a>00578         Absolute,  <span class="comment">// from EPOCH (1-1-1970)</span>
<a name="l00579"></a>00579         Textual,   <span class="comment">// absolute GMT in YYYYMMDDhhmmss.uuuuuu format</span>
<a name="l00580"></a>00580         TextLocal, <span class="comment">// local time in YYYYMMDDhhmmss.uuuuuu format</span>
<a name="l00581"></a>00581         TextSep,   <span class="comment">// absolute GMT in YYYY-MM-DD_hh:mm:ss.uuuuuu format</span>
<a name="l00582"></a>00582         TextLSep,  <span class="comment">// local time in YYYY-MM-DD_hh:mm:ss.uuuuuu format</span>
<a name="l00583"></a>00583     };
<a name="l00584"></a>00584 
<a name="l00590"></a>00590     <span class="keyword">explicit</span> Debugger(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* format = 0, ...);
<a name="l00591"></a>00591 
<a name="l00598"></a>00598     Debugger(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* format = 0, ...);
<a name="l00599"></a>00599 
<a name="l00603"></a>00603     ~Debugger();
<a name="l00604"></a>00604 
<a name="l00609"></a>00609     <span class="keyword">static</span> <span class="keywordtype">void</span> setOutput(<span class="keywordtype">void</span> (*outFunc)(<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keywordtype">int</span>) = 0);
<a name="l00610"></a>00610 
<a name="l00615"></a>00615     <span class="keyword">static</span> <span class="keywordtype">void</span> setIntOut(<span class="keywordtype">void</span> (*outFunc)(<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keywordtype">int</span>) = 0);
<a name="l00616"></a>00616 
<a name="l00621"></a>00621     <span class="keyword">static</span> <span class="keywordtype">void</span> setAlarmHook(<span class="keywordtype">void</span> (*alarmFunc)(<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keywordtype">int</span>,<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keyword">const</span> <span class="keywordtype">char</span>*) = 0);
<a name="l00622"></a>00622 
<a name="l00627"></a>00627     <span class="keyword">static</span> <span class="keywordtype">void</span> setRelayHook(<span class="keywordtype">void</span> (*relayFunc)(<span class="keywordtype">int</span>,<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keyword">const</span> <span class="keywordtype">char</span>*,<span class="keyword">const</span> <span class="keywordtype">char</span>*) = 0);
<a name="l00628"></a>00628 
<a name="l00634"></a>00634     <span class="keyword">static</span> <span class="keywordtype">void</span> enableOutput(<span class="keywordtype">bool</span> enable = <span class="keyword">true</span>, <span class="keywordtype">bool</span> colorize = <span class="keyword">false</span>);
<a name="l00635"></a>00635 
<a name="l00640"></a>00640     <span class="keyword">static</span> uint32_t getStartTimeSec();
<a name="l00641"></a>00641 
<a name="l00646"></a>00646     <span class="keyword">static</span> Formatting getFormatting();
<a name="l00647"></a>00647 
<a name="l00653"></a>00653     <span class="keyword">static</span> <span class="keywordtype">void</span> setFormatting(Formatting format, uint32_t startTimeSec = 0);
<a name="l00654"></a>00654 
<a name="l00661"></a>00661     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> formatTime(<span class="keywordtype">char</span>* buf, Formatting format = getFormatting());
<a name="l00662"></a>00662 
<a name="l00671"></a>00671     <span class="keyword">static</span> <span class="keywordtype">void</span> relayOutput(<span class="keywordtype">int</span> level, <span class="keywordtype">char</span>* buffer, <span class="keyword">const</span> <span class="keywordtype">char</span>* component = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* info = 0);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 <span class="keyword">private</span>:
<a name="l00674"></a>00674     <span class="keyword">const</span> <span class="keywordtype">char</span>* m_name;
<a name="l00675"></a>00675     <span class="keywordtype">int</span> m_level;
<a name="l00676"></a>00676 };
<a name="l00677"></a>00677 
<a name="l00682"></a><a class="code" href="structTelEngine_1_1TokenDict.html">00682</a> <span class="keyword">struct </span><a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a> {
<a name="l00686"></a><a class="code" href="structTelEngine_1_1TokenDict.html#1b07b985c8c5b1d267df858fb9d378e1">00686</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structTelEngine_1_1TokenDict.html#1b07b985c8c5b1d267df858fb9d378e1">token</a>;
<a name="l00687"></a>00687 
<a name="l00691"></a><a class="code" href="structTelEngine_1_1TokenDict.html#c4f474c82e82cbb89ca7c36dd52be0ed">00691</a>     <span class="keywordtype">int</span> <a class="code" href="structTelEngine_1_1TokenDict.html#c4f474c82e82cbb89ca7c36dd52be0ed">value</a>;
<a name="l00692"></a>00692 };
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 <span class="keyword">class </span><a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>;
<a name="l00695"></a>00695 <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>;
<a name="l00696"></a>00696 <span class="keyword">class </span><a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>;
<a name="l00697"></a>00697 <span class="keyword">class </span><a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>;
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 <span class="preprocessor">#if 0 </span><span class="comment">/* for documentation generator */</span>
<a name="l00700"></a>00700 
<a name="l00704"></a>00704 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#c53e9f4ba8408d7c719b4108bade29fe">YIGNORE</a>(primitive value);
<a name="l00705"></a>00705 
<a name="l00711"></a>00711 constant <a class="code" href="namespaceTelEngine.html#e9a607b451e9b74e107ded87f2e112c0">YSTRING</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">string</span>);
<a name="l00712"></a>00712 
<a name="l00718"></a>00718 constant <a class="code" href="namespaceTelEngine.html#09d6423f46514a352ac9231a325085b0">YATOM</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">string</span>);
<a name="l00719"></a>00719 
<a name="l00725"></a>00725 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base);
<a name="l00726"></a>00726 
<a name="l00733"></a>00733 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#66519c836bbd2326e84fe51f3d8906aa">YCLASS2</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base1,<span class="keyword">class</span> base2);
<a name="l00734"></a>00734 
<a name="l00742"></a>00742 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#1b8324173d6d0aa534232a8e9e8353d6">YCLASS3</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base1,<span class="keyword">class</span> base2,<span class="keyword">class</span> base3);
<a name="l00743"></a>00743 
<a name="l00749"></a>00749 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#408a7bc741485bf01d2ebffe5b07e5e4">YCLASSIMP</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base);
<a name="l00750"></a>00750 
<a name="l00757"></a>00757 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#05f29a94ecef1d64c36a81f64eadcce5">YCLASSIMP2</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base1,<span class="keyword">class</span> base2);
<a name="l00758"></a>00758 
<a name="l00766"></a>00766 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#e6be26e4ffa75cde6357b31d6e21a194">YCLASSIMP3</a>(<span class="keyword">class</span> type,<span class="keyword">class</span> base1,<span class="keyword">class</span> base2,<span class="keyword">class</span> base3);
<a name="l00767"></a>00767 
<a name="l00774"></a>00774 <span class="keyword">class</span>* <a class="code" href="namespaceTelEngine.html#bfea7dbb1174ff0a57ef7012744bfd07">YOBJECT</a>(<span class="keyword">class</span> type,<a class="code" href="classTelEngine_1_1GenObject.html">GenObject</a>* pntr);
<a name="l00775"></a>00775 
<a name="l00780"></a>00780 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(<span class="keyword">class</span> type);
<a name="l00781"></a>00781 <span class="preprocessor">#endif</span>
<a name="l00782"></a>00782 <span class="preprocessor"></span>
<a name="l00783"></a>00783 <span class="preprocessor">#define YCLASS(type,base) \</span>
<a name="l00784"></a>00784 <span class="preprocessor">public: virtual void* getObject(const String&amp; name) const \</span>
<a name="l00785"></a>00785 <span class="preprocessor">{ return (name == YATOM(#type)) ? const_cast&lt;type*&gt;(this) : base::getObject(name); }</span>
<a name="l00786"></a>00786 <span class="preprocessor"></span>
<a name="l00787"></a>00787 <span class="preprocessor">#define YCLASS2(type,base1,base2) \</span>
<a name="l00788"></a>00788 <span class="preprocessor">public: virtual void* getObject(const String&amp; name) const \</span>
<a name="l00789"></a>00789 <span class="preprocessor">{ if (name == YATOM(#type)) return const_cast&lt;type*&gt;(this); \</span>
<a name="l00790"></a>00790 <span class="preprocessor">  void* tmp = base1::getObject(name); \</span>
<a name="l00791"></a>00791 <span class="preprocessor">  return tmp ? tmp : base2::getObject(name); }</span>
<a name="l00792"></a>00792 <span class="preprocessor"></span>
<a name="l00793"></a>00793 <span class="preprocessor">#define YCLASS3(type,base1,base2,base3) \</span>
<a name="l00794"></a>00794 <span class="preprocessor">public: virtual void* getObject(const String&amp; name) const \</span>
<a name="l00795"></a>00795 <span class="preprocessor">{ if (name == YATOM(#type)) return const_cast&lt;type*&gt;(this); \</span>
<a name="l00796"></a>00796 <span class="preprocessor">  void* tmp = base1::getObject(name); \</span>
<a name="l00797"></a>00797 <span class="preprocessor">  if (tmp) return tmp; \</span>
<a name="l00798"></a>00798 <span class="preprocessor">  tmp = base2::getObject(name); \</span>
<a name="l00799"></a>00799 <span class="preprocessor">  return tmp ? tmp : base3::getObject(name); }</span>
<a name="l00800"></a>00800 <span class="preprocessor"></span>
<a name="l00801"></a>00801 <span class="preprocessor">#define YCLASSIMP(type,base) \</span>
<a name="l00802"></a>00802 <span class="preprocessor">void* type::getObject(const String&amp; name) const \</span>
<a name="l00803"></a>00803 <span class="preprocessor">{ return (name == YATOM(#type)) ? const_cast&lt;type*&gt;(this) : base::getObject(name); }</span>
<a name="l00804"></a>00804 <span class="preprocessor"></span>
<a name="l00805"></a>00805 <span class="preprocessor">#define YCLASSIMP2(type,base1,base2) \</span>
<a name="l00806"></a>00806 <span class="preprocessor">void* type::getObject(const String&amp; name) const \</span>
<a name="l00807"></a>00807 <span class="preprocessor">{ if (name == YATOM(#type)) return const_cast&lt;type*&gt;(this); \</span>
<a name="l00808"></a>00808 <span class="preprocessor">  void* tmp = base1::getObject(name); \</span>
<a name="l00809"></a>00809 <span class="preprocessor">  return tmp ? tmp : base2::getObject(name); }</span>
<a name="l00810"></a>00810 <span class="preprocessor"></span>
<a name="l00811"></a>00811 <span class="preprocessor">#define YCLASSIMP3(type,base1,base2,base3) \</span>
<a name="l00812"></a>00812 <span class="preprocessor">void* type::getObject(const String&amp; name) const \</span>
<a name="l00813"></a>00813 <span class="preprocessor">{ if (name == YATOM(#type)) return const_cast&lt;type*&gt;(this); \</span>
<a name="l00814"></a>00814 <span class="preprocessor">  void* tmp = base1::getObject(name); \</span>
<a name="l00815"></a>00815 <span class="preprocessor">  if (tmp) return tmp; \</span>
<a name="l00816"></a>00816 <span class="preprocessor">  tmp = base2::getObject(name); \</span>
<a name="l00817"></a>00817 <span class="preprocessor">  return tmp ? tmp : base3::getObject(name); }</span>
<a name="l00818"></a>00818 <span class="preprocessor"></span>
<a name="l00819"></a>00819 <span class="preprocessor">#define YOBJECT(type,pntr) (static_cast&lt;type*&gt;(GenObject::getObject(YATOM(#type),pntr)))</span>
<a name="l00820"></a>00820 <span class="preprocessor"></span>
<a name="l00821"></a>00821 <span class="preprocessor">#define YNOCOPY(type) private: \</span>
<a name="l00822"></a>00822 <span class="preprocessor">type(const type&amp;); \</span>
<a name="l00823"></a>00823 <span class="preprocessor">void operator=(const type&amp;)</span>
<a name="l00824"></a>00824 <span class="preprocessor"></span>
<a name="l00825"></a>00825 
<a name="l00829"></a><a class="code" href="classTelEngine_1_1GenObject.html">00829</a> <span class="keyword">class </span>YATE_API GenObject
<a name="l00830"></a>00830 {
<a name="l00831"></a>00831     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(GenObject); <span class="comment">// no automatic copies please</span>
<a name="l00832"></a>00832 <span class="keyword">public</span>:
<a name="l00836"></a>00836     GenObject();
<a name="l00837"></a>00837 
<a name="l00841"></a><a class="code" href="classTelEngine_1_1GenObject.html#44d49eb13e92775d9193b9685049bed4">00841</a>     <span class="keyword">virtual</span> ~GenObject() { setObjCounter(0); }
<a name="l00842"></a>00842 
<a name="l00849"></a>00849     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> alive() <span class="keyword">const</span>;
<a name="l00850"></a>00850 
<a name="l00854"></a>00854     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">destruct</a>();
<a name="l00855"></a>00855 
<a name="l00862"></a>00862     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; toString() <span class="keyword">const</span>;
<a name="l00863"></a>00863 
<a name="l00869"></a>00869     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00870"></a>00870 
<a name="l00877"></a><a class="code" href="classTelEngine_1_1GenObject.html#66556e4fcfee42e072834db1b0e1227c">00877</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keyword">const</span> GenObject* obj)
<a name="l00878"></a>00878         { <span class="keywordflow">return</span> obj ? obj-&gt;<a class="code" href="classTelEngine_1_1GenObject.html#37d5306d8f94809a01a02a1b04d1d9e0">getObject</a>(name) : 0; }
<a name="l00879"></a>00879 
<a name="l00884"></a><a class="code" href="classTelEngine_1_1GenObject.html#b58f65825b11407b047960fdb7657fca">00884</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> getObjCounting()
<a name="l00885"></a>00885         { <span class="keywordflow">return</span> s_counting; }
<a name="l00886"></a>00886 
<a name="l00891"></a><a class="code" href="classTelEngine_1_1GenObject.html#44ce5e4788890dc18fe425a02eee52ff">00891</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> setObjCounting(<span class="keywordtype">bool</span> enable)
<a name="l00892"></a>00892         { s_counting = enable; }
<a name="l00893"></a>00893 
<a name="l00898"></a><a class="code" href="classTelEngine_1_1GenObject.html#75c18afdcad08bb68a01c862185e1563">00898</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* getObjCounter()<span class="keyword"> const</span>
<a name="l00899"></a>00899 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_counter; }
<a name="l00900"></a>00900 
<a name="l00906"></a>00906     <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* setObjCounter(<a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* counter);
<a name="l00907"></a>00907 
<a name="l00914"></a>00914     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* getObjCounter(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keywordtype">bool</span> create = <span class="keyword">true</span>);
<a name="l00915"></a>00915 
<a name="l00920"></a>00920     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; getObjCounters();
<a name="l00921"></a>00921 
<a name="l00922"></a>00922 <span class="keyword">private</span>:
<a name="l00923"></a>00923     <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* m_counter;
<a name="l00924"></a>00924     <span class="keyword">static</span> <span class="keywordtype">bool</span> s_counting;
<a name="l00925"></a>00925 };
<a name="l00926"></a>00926 
<a name="l00932"></a><a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">00932</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">destruct</a>(GenObject* obj)
<a name="l00933"></a>00933     { <span class="keywordflow">if</span> (obj) obj-&gt;<a class="code" href="classTelEngine_1_1GenObject.html#757ca89703a72ac56715edb379958716">destruct</a>(); }
<a name="l00934"></a>00934 
<a name="l00941"></a><a class="code" href="namespaceTelEngine.html#0460605dd8c15343b1b1a81b81342d77">00941</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> Obj&gt; <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">destruct</a>(Obj*&amp; obj)
<a name="l00942"></a>00942     { <span class="keywordflow">if</span> (obj) { obj-&gt;destruct(); obj = 0; } }
<a name="l00943"></a>00943 
<a name="l00948"></a><a class="code" href="classTelEngine_1_1RefObject.html">00948</a> <span class="keyword">class </span>YATE_API RefObject : <span class="keyword">public</span> GenObject
<a name="l00949"></a>00949 {
<a name="l00950"></a>00950     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(RefObject); <span class="comment">// no automatic copies please</span>
<a name="l00951"></a>00951 <span class="keyword">public</span>:
<a name="l00956"></a>00956     RefObject();
<a name="l00957"></a>00957 
<a name="l00961"></a>00961     <span class="keyword">virtual</span> ~RefObject();
<a name="l00962"></a>00962 
<a name="l00968"></a>00968     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00969"></a>00969 
<a name="l00976"></a>00976     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> alive() <span class="keyword">const</span>;
<a name="l00977"></a>00977 
<a name="l00982"></a>00982     <span class="keywordtype">bool</span> ref();
<a name="l00983"></a>00983 
<a name="l00992"></a>00992     <span class="keywordtype">bool</span> deref();
<a name="l00993"></a>00993 
<a name="l00998"></a><a class="code" href="classTelEngine_1_1RefObject.html#f69eba190b1a2d72856b33fd6b4cc75a">00998</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> refcount()<span class="keyword"> const</span>
<a name="l00999"></a>00999 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_refcount; }
<a name="l01000"></a>01000 
<a name="l01005"></a>01005     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">destruct</a>();
<a name="l01006"></a>01006 
<a name="l01012"></a>01012     <span class="keyword">static</span> <span class="keywordtype">bool</span> efficientIncDec();
<a name="l01013"></a>01013 
<a name="l01014"></a>01014 <span class="keyword">protected</span>:
<a name="l01020"></a>01020     <span class="keyword">virtual</span> <span class="keywordtype">void</span> zeroRefs();
<a name="l01021"></a>01021 
<a name="l01027"></a>01027     <span class="keywordtype">bool</span> resurrect();
<a name="l01028"></a>01028 
<a name="l01034"></a>01034     <span class="keyword">virtual</span> <span class="keywordtype">void</span> destroyed();
<a name="l01035"></a>01035 
<a name="l01036"></a>01036 <span class="keyword">private</span>:
<a name="l01037"></a>01037     <span class="keywordtype">int</span> m_refcount;
<a name="l01038"></a>01038     <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>* m_mutex;
<a name="l01039"></a>01039 };
<a name="l01040"></a>01040 
<a name="l01046"></a><a class="code" href="classTelEngine_1_1RefPointerBase.html">01046</a> <span class="keyword">class </span>YATE_API RefPointerBase
<a name="l01047"></a>01047 {
<a name="l01048"></a>01048 <span class="keyword">protected</span>:
<a name="l01052"></a><a class="code" href="classTelEngine_1_1RefPointerBase.html#13e5a87792ff2ea64b288373a8369913">01052</a>     <span class="keyword">inline</span> RefPointerBase()
<a name="l01053"></a>01053         : m_pointer(0) { }
<a name="l01054"></a>01054 
<a name="l01061"></a>01061     <span class="keywordtype">void</span> assign(RefObject* oldptr, RefObject* newptr, <span class="keywordtype">void</span>* pointer);
<a name="l01062"></a>01062 
<a name="l01066"></a><a class="code" href="classTelEngine_1_1RefPointerBase.html#b5181342c757c0ef6790dec64f5f513b">01066</a>     <span class="keywordtype">void</span>* m_pointer;
<a name="l01067"></a>01067 };
<a name="l01068"></a>01068 
<a name="l01072"></a><a class="code" href="classTelEngine_1_1RefPointer.html">01072</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> Obj = RefObject&gt; <span class="keyword">class </span><a class="code" href="classTelEngine_1_1RefPointer.html" title="Templated smart pointer class.">RefPointer</a> : <span class="keyword">public</span> RefPointerBase
<a name="l01073"></a>01073 {
<a name="l01074"></a>01074 <span class="keyword">protected</span>:
<a name="l01079"></a><a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">01079</a>     <span class="keyword">inline</span> Obj* <a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>()<span class="keyword"> const</span>
<a name="l01080"></a>01080 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>Obj*<span class="keyword">&gt;</span>(<a class="code" href="classTelEngine_1_1RefPointerBase.html#b5181342c757c0ef6790dec64f5f513b">m_pointer</a>); }
<a name="l01081"></a>01081 
<a name="l01086"></a><a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">01086</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(Obj* <span class="keywordtype">object</span> = 0)
<a name="l01087"></a>01087         { <a class="code" href="classTelEngine_1_1RefPointerBase.html#df7f01a15d6c497bce76471b31a1c792">RefPointerBase::assign</a>(<a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>(),<span class="keywordtype">object</span>,<span class="keywordtype">object</span>); }
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 <span class="keyword">public</span>:
<a name="l01093"></a><a class="code" href="classTelEngine_1_1RefPointer.html#c99827a63051de35289dc23406a0da69">01093</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html#c99827a63051de35289dc23406a0da69">RefPointer</a>()
<a name="l01094"></a>01094         { }
<a name="l01095"></a>01095 
<a name="l01100"></a><a class="code" href="classTelEngine_1_1RefPointer.html#e2020e97958c59ddc898a39dfeb453c7">01100</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html#c99827a63051de35289dc23406a0da69">RefPointer</a>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1RefPointer.html" title="Templated smart pointer class.">RefPointer&lt;Obj&gt;</a>&amp; value)
<a name="l01101"></a>01101         : <a class="code" href="classTelEngine_1_1RefPointerBase.html#13e5a87792ff2ea64b288373a8369913">RefPointerBase</a>()
<a name="l01102"></a>01102         { <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(value); }
<a name="l01103"></a>01103 
<a name="l01108"></a><a class="code" href="classTelEngine_1_1RefPointer.html#f544d1ca47deb1839e765a73abeec20e">01108</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html#c99827a63051de35289dc23406a0da69">RefPointer</a>(Obj* <span class="keywordtype">object</span>)
<a name="l01109"></a>01109         { <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(<span class="keywordtype">object</span>); }
<a name="l01110"></a>01110 
<a name="l01114"></a><a class="code" href="classTelEngine_1_1RefPointer.html#8baf14fb2863446cc01fa561cb0d6007">01114</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html#8baf14fb2863446cc01fa561cb0d6007">~RefPointer</a>()
<a name="l01115"></a>01115         { <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(); }
<a name="l01116"></a>01116 
<a name="l01120"></a><a class="code" href="classTelEngine_1_1RefPointer.html#51e4b36d6283b4573310c701ca1ff158">01120</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html" title="Templated smart pointer class.">RefPointer&lt;Obj&gt;</a>&amp; <a class="code" href="classTelEngine_1_1RefPointer.html#51e4b36d6283b4573310c701ca1ff158">operator=</a>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1RefPointer.html" title="Templated smart pointer class.">RefPointer&lt;Obj&gt;</a>&amp; value)
<a name="l01121"></a>01121         { <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(value.<a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>()); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01122"></a>01122 
<a name="l01126"></a><a class="code" href="classTelEngine_1_1RefPointer.html#cf62fbc5932edf9e8b8f4bf7f0b5d438">01126</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html" title="Templated smart pointer class.">RefPointer&lt;Obj&gt;</a>&amp; <a class="code" href="classTelEngine_1_1RefPointer.html#51e4b36d6283b4573310c701ca1ff158">operator=</a>(Obj* <span class="keywordtype">object</span>)
<a name="l01127"></a>01127         { <a class="code" href="classTelEngine_1_1RefPointer.html#5b437cef1813ccc1e78f8f195b247757">assign</a>(<span class="keywordtype">object</span>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01128"></a>01128 
<a name="l01133"></a><a class="code" href="classTelEngine_1_1RefPointer.html#6fbc2344a28ad0d89fde992e5e5beff0">01133</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefPointer.html#6fbc2344a28ad0d89fde992e5e5beff0">operator Obj*</a>()<span class="keyword"> const</span>
<a name="l01134"></a>01134 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>(); }
<a name="l01135"></a>01135 
<a name="l01139"></a><a class="code" href="classTelEngine_1_1RefPointer.html#fc51824baeacbdce83ed7585469e5864">01139</a>     <span class="keyword">inline</span> Obj* <a class="code" href="classTelEngine_1_1RefPointer.html#fc51824baeacbdce83ed7585469e5864">operator-&gt;</a>()<span class="keyword"> const</span>
<a name="l01140"></a>01140 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>(); }
<a name="l01141"></a>01141 
<a name="l01145"></a><a class="code" href="classTelEngine_1_1RefPointer.html#6353c29abece30608b11f3b233c56f8d">01145</a>     <span class="keyword">inline</span> Obj&amp; <a class="code" href="classTelEngine_1_1RefPointer.html#6353c29abece30608b11f3b233c56f8d">operator*</a>()<span class="keyword"> const</span>
<a name="l01146"></a>01146 <span class="keyword">        </span>{ <span class="keywordflow">return</span> *<a class="code" href="classTelEngine_1_1RefPointer.html#1e0589b26e454f5a10124f67657db967">pointer</a>(); }
<a name="l01147"></a>01147 };
<a name="l01148"></a>01148 
<a name="l01152"></a><a class="code" href="classTelEngine_1_1GenPointer.html">01152</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> Obj = GenObject&gt; <span class="keyword">class </span><a class="code" href="classTelEngine_1_1GenPointer.html" title="Templated pointer that can be inserted in a list.">GenPointer</a> : <span class="keyword">public</span> GenObject
<a name="l01153"></a>01153 {
<a name="l01154"></a>01154 <span class="keyword">private</span>:
<a name="l01158"></a>01158     Obj* m_pointer;
<a name="l01159"></a>01159 
<a name="l01160"></a>01160 <span class="keyword">public</span>:
<a name="l01164"></a><a class="code" href="classTelEngine_1_1GenPointer.html#6b8d7eaffb44ac075b2d565d785f70f2">01164</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html#6b8d7eaffb44ac075b2d565d785f70f2">GenPointer</a>()
<a name="l01165"></a>01165         : m_pointer(0)
<a name="l01166"></a>01166         { }
<a name="l01167"></a>01167 
<a name="l01172"></a><a class="code" href="classTelEngine_1_1GenPointer.html#9098538b67b8bca39859d669c5f9e6ce">01172</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html#6b8d7eaffb44ac075b2d565d785f70f2">GenPointer</a>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1GenPointer.html" title="Templated pointer that can be inserted in a list.">GenPointer&lt;Obj&gt;</a>&amp; value)
<a name="l01173"></a>01173         : m_pointer(value)
<a name="l01174"></a>01174         { }
<a name="l01175"></a>01175 
<a name="l01180"></a><a class="code" href="classTelEngine_1_1GenPointer.html#9683031baf8a0d5a3eafd6af8aaf199b">01180</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html#6b8d7eaffb44ac075b2d565d785f70f2">GenPointer</a>(Obj* <span class="keywordtype">object</span>)
<a name="l01181"></a>01181         : m_pointer(object)
<a name="l01182"></a>01182         { }
<a name="l01183"></a>01183 
<a name="l01187"></a><a class="code" href="classTelEngine_1_1GenPointer.html#6a7ed5dde572499b466858976d4fdf8e">01187</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html" title="Templated pointer that can be inserted in a list.">GenPointer&lt;Obj&gt;</a>&amp; <a class="code" href="classTelEngine_1_1GenPointer.html#6a7ed5dde572499b466858976d4fdf8e">operator=</a>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1GenPointer.html" title="Templated pointer that can be inserted in a list.">GenPointer&lt;Obj&gt;</a>&amp; value)
<a name="l01188"></a>01188         { m_pointer = value; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01189"></a>01189 
<a name="l01193"></a><a class="code" href="classTelEngine_1_1GenPointer.html#9d5246c570f4b1eef4140435bbe30825">01193</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html" title="Templated pointer that can be inserted in a list.">GenPointer&lt;Obj&gt;</a>&amp; <a class="code" href="classTelEngine_1_1GenPointer.html#6a7ed5dde572499b466858976d4fdf8e">operator=</a>(Obj* <span class="keywordtype">object</span>)
<a name="l01194"></a>01194         { m_pointer = object; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01195"></a>01195 
<a name="l01200"></a><a class="code" href="classTelEngine_1_1GenPointer.html#6fbc2344a28ad0d89fde992e5e5beff0">01200</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1GenPointer.html#6fbc2344a28ad0d89fde992e5e5beff0">operator Obj*</a>()<span class="keyword"> const</span>
<a name="l01201"></a>01201 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_pointer; }
<a name="l01202"></a>01202 
<a name="l01206"></a><a class="code" href="classTelEngine_1_1GenPointer.html#fc51824baeacbdce83ed7585469e5864">01206</a>     <span class="keyword">inline</span> Obj* <a class="code" href="classTelEngine_1_1GenPointer.html#fc51824baeacbdce83ed7585469e5864">operator-&gt;</a>()<span class="keyword"> const</span>
<a name="l01207"></a>01207 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_pointer; }
<a name="l01208"></a>01208 
<a name="l01212"></a><a class="code" href="classTelEngine_1_1GenPointer.html#6353c29abece30608b11f3b233c56f8d">01212</a>     <span class="keyword">inline</span> Obj&amp; <a class="code" href="classTelEngine_1_1GenPointer.html#6353c29abece30608b11f3b233c56f8d">operator*</a>()<span class="keyword"> const</span>
<a name="l01213"></a>01213 <span class="keyword">        </span>{ <span class="keywordflow">return</span> *m_pointer; }
<a name="l01214"></a>01214 };
<a name="l01215"></a>01215 
<a name="l01220"></a><a class="code" href="classTelEngine_1_1ObjList.html">01220</a> <span class="keyword">class </span>YATE_API ObjList : <span class="keyword">public</span> GenObject
<a name="l01221"></a>01221 {
<a name="l01222"></a>01222     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(ObjList); <span class="comment">// no automatic copies please</span>
<a name="l01223"></a>01223 <span class="keyword">public</span>:
<a name="l01227"></a>01227     ObjList();
<a name="l01228"></a>01228 
<a name="l01232"></a>01232     <span class="keyword">virtual</span> ~ObjList();
<a name="l01233"></a>01233 
<a name="l01239"></a>01239     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l01240"></a>01240 
<a name="l01245"></a>01245     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length() <span class="keyword">const</span>;
<a name="l01246"></a>01246 
<a name="l01251"></a>01251     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count() <span class="keyword">const</span>;
<a name="l01252"></a>01252 
<a name="l01257"></a><a class="code" href="classTelEngine_1_1ObjList.html#ba7e00b70c112cd43547b6a1bb3bdd18">01257</a>     <span class="keyword">inline</span> GenObject* <span class="keyword">get</span>() <span class="keyword">const</span>
<a name="l01258"></a>01258         { <span class="keywordflow">return</span> m_obj; }
<a name="l01259"></a>01259 
<a name="l01266"></a>01266     GenObject* <span class="keyword">set</span>(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">bool</span> delold = <span class="keyword">true</span>);
<a name="l01267"></a>01267 
<a name="l01272"></a><a class="code" href="classTelEngine_1_1ObjList.html#59ccd33afee3196105366db4732d91e3">01272</a>     <span class="keyword">inline</span> ObjList* next()<span class="keyword"> const</span>
<a name="l01273"></a>01273 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_next; }
<a name="l01274"></a>01274 
<a name="l01279"></a>01279     ObjList* last() <span class="keyword">const</span>;
<a name="l01280"></a>01280 
<a name="l01285"></a>01285     ObjList* skipNull() <span class="keyword">const</span>;
<a name="l01286"></a>01286 
<a name="l01291"></a>01291     ObjList* skipNext() <span class="keyword">const</span>;
<a name="l01292"></a>01292 
<a name="l01298"></a>01298     GenObject* at(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l01299"></a>01299 
<a name="l01305"></a>01305     ObjList* <a class="code" href="namespaceTelEngine.html#34348e2ebded1289d783a230cf2ac8cc">operator+</a>(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l01306"></a>01306 
<a name="l01312"></a><a class="code" href="classTelEngine_1_1ObjList.html#792e7ddef067135cadf010ee9382954f">01312</a>     <span class="keyword">inline</span> GenObject* operator[](<span class="keywordtype">signed</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01313"></a>01313 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l01314"></a>01314 
<a name="l01320"></a><a class="code" href="classTelEngine_1_1ObjList.html#27e7503e6886ae1bbe4bf2bd21e2769d">01320</a>     <span class="keyword">inline</span> GenObject* operator[](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01321"></a>01321 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l01322"></a>01322 
<a name="l01328"></a>01328     GenObject* operator[](<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str) <span class="keyword">const</span>;
<a name="l01329"></a>01329 
<a name="l01335"></a>01335     ObjList* find(<span class="keyword">const</span> GenObject* obj) <span class="keyword">const</span>;
<a name="l01336"></a>01336 
<a name="l01342"></a>01342     ObjList* find(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str) <span class="keyword">const</span>;
<a name="l01343"></a>01343 
<a name="l01349"></a>01349     <span class="keywordtype">int</span> index(<span class="keyword">const</span> GenObject* obj) <span class="keyword">const</span>;
<a name="l01350"></a>01350 
<a name="l01356"></a>01356     <span class="keywordtype">int</span> index(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str) <span class="keyword">const</span>;
<a name="l01357"></a>01357 
<a name="l01364"></a>01364     ObjList* insert(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">bool</span> compact = <span class="keyword">true</span>);
<a name="l01365"></a>01365 
<a name="l01372"></a>01372     ObjList* append(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">bool</span> compact = <span class="keyword">true</span>);
<a name="l01373"></a>01373 
<a name="l01380"></a>01380     ObjList* setUnique(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">bool</span> compact = <span class="keyword">true</span>);
<a name="l01381"></a>01381 
<a name="l01387"></a>01387     GenObject* <span class="keyword">remove</span>(<span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>);
<a name="l01388"></a>01388 
<a name="l01395"></a>01395     GenObject* <span class="keyword">remove</span>(GenObject* obj, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>);
<a name="l01396"></a>01396 
<a name="l01403"></a>01403     GenObject* <span class="keyword">remove</span>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>);
<a name="l01404"></a>01404 
<a name="l01408"></a>01408     <span class="keywordtype">void</span> clear();
<a name="l01409"></a>01409 
<a name="l01413"></a>01413     <span class="keywordtype">void</span> compact();
<a name="l01414"></a>01414 
<a name="l01419"></a><a class="code" href="classTelEngine_1_1ObjList.html#a7ca9eaf13eecdf402c39a55add54969">01419</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> autoDelete()
<a name="l01420"></a>01420         { <span class="keywordflow">return</span> m_delete; }
<a name="l01421"></a>01421 
<a name="l01426"></a><a class="code" href="classTelEngine_1_1ObjList.html#8b532de471e1162996574a61931dacef">01426</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setDelete(<span class="keywordtype">bool</span> autodelete)
<a name="l01427"></a>01427         { m_delete = autodelete; }
<a name="l01428"></a>01428 
<a name="l01433"></a>01433     <span class="keyword">static</span> <span class="keyword">const</span> ObjList&amp; empty();
<a name="l01434"></a>01434 
<a name="l01447"></a>01447     <span class="keywordtype">void</span> sort(<span class="keywordtype">int</span> (*callbackCompare)(GenObject* obj1, GenObject* obj2, <span class="keywordtype">void</span>* context), <span class="keywordtype">void</span>* context = 0);
<a name="l01448"></a>01448 <span class="keyword">private</span>:
<a name="l01449"></a>01449     ObjList* m_next;
<a name="l01450"></a>01450     GenObject* m_obj;
<a name="l01451"></a>01451     <span class="keywordtype">bool</span> m_delete;
<a name="l01452"></a>01452 };
<a name="l01453"></a>01453 
<a name="l01458"></a><a class="code" href="classTelEngine_1_1ObjVector.html">01458</a> <span class="keyword">class </span>YATE_API ObjVector : <span class="keyword">public</span> GenObject
<a name="l01459"></a>01459 {
<a name="l01460"></a>01460     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(ObjVector); <span class="comment">// no automatic copies please</span>
<a name="l01461"></a>01461 <span class="keyword">public</span>:
<a name="l01466"></a><a class="code" href="classTelEngine_1_1ObjVector.html#17a216f36bc60064cf792cd25a85f665">01466</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> ObjVector(<span class="keywordtype">bool</span> autodelete = <span class="keyword">true</span>)
<a name="l01467"></a>01467         : m_length(0), m_objects(0), m_delete(autodelete)
<a name="l01468"></a>01468         { }
<a name="l01469"></a>01469 
<a name="l01475"></a>01475     ObjVector(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxLen, <span class="keywordtype">bool</span> autodelete = <span class="keyword">true</span>);
<a name="l01476"></a>01476 
<a name="l01484"></a>01484     ObjVector(ObjList&amp; list, <span class="keywordtype">bool</span> move = <span class="keyword">true</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxLen = 0, <span class="keywordtype">bool</span> autodelete = <span class="keyword">true</span>);
<a name="l01485"></a>01485 
<a name="l01489"></a>01489     <span class="keyword">virtual</span> ~ObjVector();
<a name="l01490"></a>01490 
<a name="l01496"></a>01496     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l01497"></a>01497 
<a name="l01502"></a><a class="code" href="classTelEngine_1_1ObjVector.html#def4df49627e93e9be26936447917e68">01502</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l01503"></a>01503 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length; }
<a name="l01504"></a>01504 
<a name="l01509"></a>01509     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count() <span class="keyword">const</span>;
<a name="l01510"></a>01510 
<a name="l01515"></a>01515     <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>() <span class="keyword">const</span>;
<a name="l01516"></a>01516 
<a name="l01522"></a><a class="code" href="classTelEngine_1_1ObjVector.html#2ef9489119320c5e0dcb95412cc3db17">01522</a>     <span class="keyword">inline</span> GenObject* at(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01523"></a>01523 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (index &gt;= 0 &amp;&amp; index &lt; (<span class="keywordtype">int</span>)m_length) ? m_objects[index] : 0; }
<a name="l01524"></a>01524 
<a name="l01530"></a><a class="code" href="classTelEngine_1_1ObjVector.html#792e7ddef067135cadf010ee9382954f">01530</a>     <span class="keyword">inline</span> GenObject* operator[](<span class="keywordtype">signed</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01531"></a>01531 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l01532"></a>01532 
<a name="l01538"></a><a class="code" href="classTelEngine_1_1ObjVector.html#27e7503e6886ae1bbe4bf2bd21e2769d">01538</a>     <span class="keyword">inline</span> GenObject* operator[](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01539"></a>01539 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l01540"></a>01540 
<a name="l01548"></a>01548     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> assign(ObjList&amp; list, <span class="keywordtype">bool</span> move = <span class="keyword">true</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxLen = 0);
<a name="l01549"></a>01549 
<a name="l01555"></a>01555     GenObject* take(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index);
<a name="l01556"></a>01556 
<a name="l01563"></a>01563     <span class="keywordtype">bool</span> <span class="keyword">set</span>(GenObject* obj, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index);
<a name="l01564"></a>01564 
<a name="l01570"></a>01570     <span class="keywordtype">int</span> index(<span class="keyword">const</span> GenObject* obj) <span class="keyword">const</span>;
<a name="l01571"></a>01571 
<a name="l01577"></a>01577     <span class="keywordtype">int</span> index(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str) <span class="keyword">const</span>;
<a name="l01578"></a>01578 
<a name="l01582"></a>01582     <span class="keywordtype">void</span> clear();
<a name="l01583"></a>01583 
<a name="l01588"></a><a class="code" href="classTelEngine_1_1ObjVector.html#a7ca9eaf13eecdf402c39a55add54969">01588</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> autoDelete()
<a name="l01589"></a>01589         { <span class="keywordflow">return</span> m_delete; }
<a name="l01590"></a>01590 
<a name="l01595"></a><a class="code" href="classTelEngine_1_1ObjVector.html#8b532de471e1162996574a61931dacef">01595</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setDelete(<span class="keywordtype">bool</span> autodelete)
<a name="l01596"></a>01596         { m_delete = autodelete; }
<a name="l01597"></a>01597 
<a name="l01598"></a>01598 <span class="keyword">private</span>:
<a name="l01599"></a>01599     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_length;
<a name="l01600"></a>01600     GenObject** m_objects;
<a name="l01601"></a>01601     <span class="keywordtype">bool</span> m_delete;
<a name="l01602"></a>01602 };
<a name="l01603"></a>01603 
<a name="l01612"></a><a class="code" href="classTelEngine_1_1Array.html">01612</a> <span class="keyword">class </span>YATE_API Array : <span class="keyword">public</span> RefObject
<a name="l01613"></a>01613 {
<a name="l01614"></a>01614 <span class="keyword">public</span>:
<a name="l01620"></a>01620     <span class="keyword">explicit</span> Array(<span class="keywordtype">int</span> columns = 0, <span class="keywordtype">int</span> rows = 0);
<a name="l01621"></a>01621 
<a name="l01625"></a>01625     <span class="keyword">virtual</span> ~Array();
<a name="l01626"></a>01626 
<a name="l01632"></a>01632     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l01633"></a>01633 
<a name="l01640"></a>01640     <span class="keywordtype">bool</span> addRow(ObjList* row = 0, <span class="keywordtype">int</span> index = -1);
<a name="l01641"></a>01641 
<a name="l01648"></a>01648     <span class="keywordtype">bool</span> addColumn(ObjList* column = 0, <span class="keywordtype">int</span> index = -1);
<a name="l01649"></a>01649 
<a name="l01655"></a>01655     <span class="keywordtype">bool</span> delRow(<span class="keywordtype">int</span> index);
<a name="l01656"></a>01656 
<a name="l01662"></a>01662     <span class="keywordtype">bool</span> delColumn(<span class="keywordtype">int</span> index);
<a name="l01663"></a>01663 
<a name="l01670"></a>01670     GenObject* <span class="keyword">get</span>(<span class="keywordtype">int</span> column, <span class="keywordtype">int</span> row) <span class="keyword">const</span>;
<a name="l01671"></a>01671 
<a name="l01678"></a>01678     GenObject* take(<span class="keywordtype">int</span> column, <span class="keywordtype">int</span> row);
<a name="l01679"></a>01679 
<a name="l01687"></a>01687     <span class="keywordtype">bool</span> <span class="keyword">set</span>(GenObject* obj, <span class="keywordtype">int</span> column, <span class="keywordtype">int</span> row);
<a name="l01688"></a>01688 
<a name="l01693"></a><a class="code" href="classTelEngine_1_1Array.html#d343f9bbb050d9037167e80e423ab4e8">01693</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> getRows()<span class="keyword"> const</span>
<a name="l01694"></a>01694 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_rows; }
<a name="l01695"></a>01695 
<a name="l01700"></a><a class="code" href="classTelEngine_1_1Array.html#6b5395e749ae5c217093d74f68f1ca3a">01700</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> getColumns()<span class="keyword"> const</span>
<a name="l01701"></a>01701 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_columns; }
<a name="l01702"></a>01702 
<a name="l01710"></a><a class="code" href="classTelEngine_1_1Array.html#1e5e929869cab5bd17478b61a8261965">01710</a>     <span class="keyword">inline</span> ObjList* getColumn(<span class="keywordtype">int</span> column)<span class="keyword"> const </span>{
<a name="l01711"></a>01711             <span class="keywordflow">if</span> (column &gt;= 0 || column &lt; m_columns)
<a name="l01712"></a>01712                 <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>ObjList*<span class="keyword">&gt;</span>(m_obj[column]);
<a name="l01713"></a>01713             <span class="keywordflow">return</span> 0;
<a name="l01714"></a>01714         }
<a name="l01715"></a>01715 
<a name="l01716"></a>01716 <span class="keyword">private</span>:
<a name="l01717"></a>01717     <span class="keywordtype">int</span> m_rows;
<a name="l01718"></a>01718     <span class="keywordtype">int</span> m_columns;
<a name="l01719"></a>01719     ObjList m_obj;
<a name="l01720"></a>01720 };
<a name="l01721"></a>01721 
<a name="l01722"></a>01722 <span class="keyword">class </span>Regexp;
<a name="l01723"></a>01723 <span class="keyword">class </span>StringMatchPrivate;
<a name="l01724"></a>01724 
<a name="l01729"></a><a class="code" href="classTelEngine_1_1UChar.html">01729</a> <span class="keyword">class </span>YATE_API UChar
<a name="l01730"></a>01730 {
<a name="l01731"></a>01731 <span class="keyword">public</span>:
<a name="l01736"></a><a class="code" href="classTelEngine_1_1UChar.html#5f0dd6020299481a62dac8a296b8f62d">01736</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> UChar(uint32_t code = 0)
<a name="l01737"></a>01737         : m_chr(code)
<a name="l01738"></a>01738         { encode(); }
<a name="l01739"></a>01739 
<a name="l01744"></a><a class="code" href="classTelEngine_1_1UChar.html#94695c593aabc26ffecaad5084235835">01744</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> UChar(int32_t code)
<a name="l01745"></a>01745         : m_chr((code &lt; 0) ? 0 : code)
<a name="l01746"></a>01746         { encode(); }
<a name="l01747"></a>01747 
<a name="l01752"></a><a class="code" href="classTelEngine_1_1UChar.html#edad571e988b83ac2a97d47d1a3916b3">01752</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> UChar(<span class="keywordtype">signed</span> <span class="keywordtype">char</span> code)
<a name="l01753"></a>01753         : m_chr((unsigned char)code)
<a name="l01754"></a>01754         { encode(); }
<a name="l01755"></a>01755 
<a name="l01760"></a><a class="code" href="classTelEngine_1_1UChar.html#dcbb19f41452f887fca0359b033650ff">01760</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> UChar(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> code)
<a name="l01761"></a>01761         : m_chr(code)
<a name="l01762"></a>01762         { encode(); }
<a name="l01763"></a>01763 
<a name="l01769"></a><a class="code" href="classTelEngine_1_1UChar.html#85a0745d6ebb22ab89a39b1d87ada059">01769</a>     <span class="keyword">inline</span> UChar&amp; operator=(uint32_t code)
<a name="l01770"></a>01770         { m_chr = code; encode(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01771"></a>01771 
<a name="l01777"></a><a class="code" href="classTelEngine_1_1UChar.html#71e07ccdffa169dc25b0b5af4f8276a1">01777</a>     <span class="keyword">inline</span> UChar&amp; operator=(<span class="keywordtype">char</span> code)
<a name="l01778"></a>01778         { m_chr = (<span class="keywordtype">unsigned</span> char)code; encode(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l01779"></a>01779 
<a name="l01784"></a><a class="code" href="classTelEngine_1_1UChar.html#eaec8351fb51a60fbeedc6c62e4359c8">01784</a>     <span class="keyword">inline</span> uint32_t code()<span class="keyword"> const</span>
<a name="l01785"></a>01785 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_chr; }
<a name="l01786"></a>01786 
<a name="l01791"></a><a class="code" href="classTelEngine_1_1UChar.html#14989d8fe448c5f947832aea3dae615a">01791</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>()<span class="keyword"> const</span>
<a name="l01792"></a>01792 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_str; }
<a name="l01793"></a>01793 
<a name="l01798"></a><a class="code" href="classTelEngine_1_1UChar.html#f4e65277e4f9ecbe4f7cd87ab63be71e">01798</a>     <span class="keyword">inline</span> operator const char*()<span class="keyword"> const</span>
<a name="l01799"></a>01799 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_str; };
<a name="l01800"></a>01800 
<a name="l01808"></a>01808     <span class="keywordtype">bool</span> decode(<span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; str, uint32_t maxChar = 0x10ffff, <span class="keywordtype">bool</span> overlong = <span class="keyword">false</span>);
<a name="l01809"></a>01809 
<a name="l01810"></a>01810 <span class="keyword">private</span>:
<a name="l01811"></a>01811     <span class="keywordtype">void</span> encode();
<a name="l01812"></a>01812     uint32_t m_chr;
<a name="l01813"></a>01813     <span class="keywordtype">char</span> m_str[8];
<a name="l01814"></a>01814 };
<a name="l01815"></a>01815 
<a name="l01823"></a><a class="code" href="classTelEngine_1_1String.html">01823</a> <span class="keyword">class </span>YATE_API String : <span class="keyword">public</span> GenObject
<a name="l01824"></a>01824 {
<a name="l01825"></a>01825 <span class="keyword">public</span>:
<a name="l01826"></a>01826     <span class="keyword">enum</span> Align {
<a name="l01827"></a>01827         Left = 0,
<a name="l01828"></a>01828         Center,
<a name="l01829"></a>01829         Right
<a name="l01830"></a>01830     };
<a name="l01831"></a>01831 
<a name="l01835"></a>01835     String();
<a name="l01836"></a>01836 
<a name="l01842"></a>01842     String(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">int</span> len = -1);
<a name="l01843"></a>01843 
<a name="l01849"></a>01849     <span class="keyword">explicit</span> String(<span class="keywordtype">char</span> value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> repeat = 1);
<a name="l01850"></a>01850 
<a name="l01855"></a>01855     <span class="keyword">explicit</span> String(int32_t value);
<a name="l01856"></a>01856 
<a name="l01861"></a>01861     <span class="keyword">explicit</span> String(uint32_t value);
<a name="l01862"></a>01862 
<a name="l01867"></a>01867     <span class="keyword">explicit</span> String(int64_t value);
<a name="l01868"></a>01868 
<a name="l01873"></a>01873     <span class="keyword">explicit</span> String(uint64_t value);
<a name="l01874"></a>01874 
<a name="l01879"></a>01879     <span class="keyword">explicit</span> String(<span class="keywordtype">bool</span> value);
<a name="l01880"></a>01880 
<a name="l01885"></a>01885     <span class="keyword">explicit</span> String(<span class="keywordtype">double</span> value);
<a name="l01886"></a>01886 
<a name="l01891"></a>01891     String(<span class="keyword">const</span> String&amp; value);
<a name="l01892"></a>01892 
<a name="l01897"></a>01897     String(<span class="keyword">const</span> String* value);
<a name="l01898"></a>01898 
<a name="l01902"></a>01902     <span class="keyword">virtual</span> ~String();
<a name="l01903"></a>01903 
<a name="l01909"></a>01909     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l01910"></a>01910 
<a name="l01915"></a>01915     <span class="keyword">static</span> <span class="keyword">const</span> String&amp; empty();
<a name="l01916"></a>01916 
<a name="l01922"></a><a class="code" href="classTelEngine_1_1String.html#cec8725175d7a8e07950bc50adf4b195">01922</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* boolText(<span class="keywordtype">bool</span> value)
<a name="l01923"></a>01923         { <span class="keywordflow">return</span> value ? <span class="stringliteral">"true"</span> : <span class="stringliteral">"false"</span>; }
<a name="l01924"></a>01924 
<a name="l01929"></a><a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">01929</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>()<span class="keyword"> const</span>
<a name="l01930"></a>01930 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_string; }
<a name="l01931"></a>01931 
<a name="l01936"></a><a class="code" href="classTelEngine_1_1String.html#85156346632a6f74bccc4cb4cbb73a4f">01936</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* safe()<span class="keyword"> const</span>
<a name="l01937"></a>01937 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_string ? m_string : <span class="stringliteral">""</span>; }
<a name="l01938"></a>01938 
<a name="l01944"></a><a class="code" href="classTelEngine_1_1String.html#6874edf24da9ff8ea3236b34fe681f5b">01944</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* safe(<span class="keyword">const</span> <span class="keywordtype">char</span>* defStr)<span class="keyword"> const</span>
<a name="l01945"></a>01945 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_string ? m_string : (defStr ? defStr : <span class="stringliteral">""</span>); }
<a name="l01946"></a>01946 
<a name="l01951"></a><a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">01951</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l01952"></a>01952 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length; }
<a name="l01953"></a>01953 
<a name="l01958"></a><a class="code" href="classTelEngine_1_1String.html#5fc3ccc049f9327dc84116f44bde5c26">01958</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>()<span class="keyword"> const</span>
<a name="l01959"></a>01959 <span class="keyword">        </span>{ <span class="keywordflow">return</span> !m_string; }
<a name="l01960"></a>01960 
<a name="l01968"></a>01968     <span class="keyword">static</span> <span class="keywordtype">int</span> lenUtf8(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, uint32_t maxChar = 0x10ffff, <span class="keywordtype">bool</span> overlong = <span class="keyword">false</span>);
<a name="l01969"></a>01969 
<a name="l01976"></a><a class="code" href="classTelEngine_1_1String.html#663753f1bdee2de4028b4498bf34202e">01976</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> lenUtf8(uint32_t maxChar = 0x10ffff, <span class="keywordtype">bool</span> overlong = <span class="keyword">false</span>)<span class="keyword"> const</span>
<a name="l01977"></a>01977 <span class="keyword">        </span>{ <span class="keywordflow">return</span> lenUtf8(m_string,maxChar,overlong); }
<a name="l01978"></a>01978 
<a name="l01979"></a>01979 
<a name="l01987"></a>01987     <span class="keywordtype">int</span> fixUtf8(<span class="keyword">const</span> <span class="keywordtype">char</span>* replace = 0, uint32_t maxChar = 0x10ffff, <span class="keywordtype">bool</span> overlong = <span class="keyword">false</span>);
<a name="l01988"></a>01988 
<a name="l01994"></a><a class="code" href="classTelEngine_1_1String.html#37e18340b05c9241779f89181965b460">01994</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> checkBOM(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l01995"></a>01995         { <span class="keywordflow">return</span> str &amp;&amp; (str[0] == '\357') &amp;&amp; (str[1] == '\273') &amp;&amp; (str[2] == '\277'); }
<a name="l01996"></a>01996 
<a name="l02001"></a><a class="code" href="classTelEngine_1_1String.html#073d3155f60faa66976dc4964140046b">02001</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> checkBOM()<span class="keyword"> const</span>
<a name="l02002"></a>02002 <span class="keyword">        </span>{ <span class="keywordflow">return</span> checkBOM(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>()); }
<a name="l02003"></a>02003 
<a name="l02009"></a><a class="code" href="classTelEngine_1_1String.html#c61dea4a384658447823aa01b164fab9">02009</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> stripBOM(<span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; str)
<a name="l02010"></a>02010         { <span class="keywordflow">return</span> checkBOM(str) &amp;&amp; (str += 3); }
<a name="l02011"></a>02011 
<a name="l02017"></a><a class="code" href="classTelEngine_1_1String.html#1e9765bf8069b002c333faca2a3cbb9a">02017</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> stripBOM(<span class="keywordtype">char</span>*&amp; str)
<a name="l02018"></a>02018         { <span class="keywordflow">return</span> checkBOM(str) &amp;&amp; (str += 3); }
<a name="l02019"></a>02019 
<a name="l02024"></a><a class="code" href="classTelEngine_1_1String.html#9354b3384d4168d1e968be354d659ddb">02024</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> stripBOM()
<a name="l02025"></a>02025         { <span class="keywordflow">return</span> checkBOM(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>()) &amp;&amp; &amp;(*<span class="keyword">this</span> = <a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>() + 3); }
<a name="l02026"></a>02026 
<a name="l02031"></a><a class="code" href="classTelEngine_1_1String.html#ca8f08c16393e3a7121f43b2faf06cf4">02031</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash()<span class="keyword"> const</span>
<a name="l02032"></a>02032 <span class="keyword">        </span>{
<a name="l02033"></a>02033             <span class="keywordflow">if</span> (m_hash == YSTRING_INIT_HASH)
<a name="l02034"></a>02034                 m_hash = hash(m_string);
<a name="l02035"></a>02035             <span class="keywordflow">return</span> m_hash;
<a name="l02036"></a>02036         }
<a name="l02037"></a>02037 
<a name="l02044"></a>02044     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h = 0);
<a name="l02045"></a>02045 
<a name="l02049"></a>02049     <span class="keywordtype">void</span> clear();
<a name="l02050"></a>02050 
<a name="l02056"></a>02056     <span class="keywordtype">char</span> at(<span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l02057"></a>02057 
<a name="l02064"></a>02064     String substr(<span class="keywordtype">int</span> offs, <span class="keywordtype">int</span> len = -1) <span class="keyword">const</span>;
<a name="l02065"></a>02065 
<a name="l02069"></a>02069     String&amp; trimBlanks();
<a name="l02070"></a>02070 
<a name="l02075"></a>02075     String&amp; trimSpaces();
<a name="l02076"></a>02076 
<a name="l02081"></a>02081     <span class="keyword">virtual</span> <span class="keyword">const</span> String&amp; toString() <span class="keyword">const</span>;
<a name="l02082"></a>02082 
<a name="l02093"></a>02093     <span class="keywordtype">int</span> toInteger(<span class="keywordtype">int</span> defvalue = 0, <span class="keywordtype">int</span> base = 0, <span class="keywordtype">int</span> minvalue = INT_MIN,
<a name="l02094"></a>02094         <span class="keywordtype">int</span> maxvalue = INT_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l02095"></a>02095 
<a name="l02103"></a>02103     <span class="keywordtype">int</span> toInteger(<span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* tokens, <span class="keywordtype">int</span> defvalue = 0, <span class="keywordtype">int</span> base = 0) <span class="keyword">const</span>;
<a name="l02104"></a>02104 
<a name="l02115"></a>02115     <span class="keywordtype">long</span> <span class="keywordtype">int</span> toLong(<span class="keywordtype">long</span> <span class="keywordtype">int</span> defvalue = 0, <span class="keywordtype">int</span> base = 0, <span class="keywordtype">long</span> <span class="keywordtype">int</span> minvalue = LONG_MIN,
<a name="l02116"></a>02116         <span class="keywordtype">long</span> <span class="keywordtype">int</span> maxvalue = LONG_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l02117"></a>02117 
<a name="l02128"></a>02128     int64_t toInt64(int64_t defvalue = 0, <span class="keywordtype">int</span> base = 0, int64_t minvalue = LLONG_MIN,
<a name="l02129"></a>02129         int64_t maxvalue = LLONG_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l02130"></a>02130 
<a name="l02136"></a>02136     <span class="keywordtype">double</span> toDouble(<span class="keywordtype">double</span> defvalue = 0.0) <span class="keyword">const</span>;
<a name="l02137"></a>02137 
<a name="l02143"></a>02143     <span class="keywordtype">bool</span> toBoolean(<span class="keywordtype">bool</span> defvalue = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l02144"></a>02144 
<a name="l02149"></a>02149     <span class="keywordtype">bool</span> isBoolean() <span class="keyword">const</span>;
<a name="l02150"></a>02150 
<a name="l02155"></a>02155     String&amp; toUpper();
<a name="l02156"></a>02156 
<a name="l02161"></a>02161     String&amp; toLower();
<a name="l02162"></a>02162 
<a name="l02168"></a><a class="code" href="classTelEngine_1_1String.html#d8c5ffe1db97bd256e089a49943cdec8">02168</a>     <span class="keyword">inline</span> <span class="keywordtype">char</span> operator[](<span class="keywordtype">signed</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l02169"></a>02169 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l02170"></a>02170 
<a name="l02176"></a><a class="code" href="classTelEngine_1_1String.html#27cf05c8999b3dd17f643440be716ec0">02176</a>     <span class="keyword">inline</span> <span class="keywordtype">char</span> operator[](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l02177"></a>02177 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l02178"></a>02178 
<a name="l02183"></a><a class="code" href="classTelEngine_1_1String.html#f4e65277e4f9ecbe4f7cd87ab63be71e">02183</a>     <span class="keyword">inline</span> operator const char*()<span class="keyword"> const</span>
<a name="l02184"></a>02184 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_string; };
<a name="l02185"></a>02185 
<a name="l02192"></a>02192     String&amp; assign(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">int</span> len = -1);
<a name="l02193"></a>02193 
<a name="l02200"></a>02200     String&amp; assign(<span class="keywordtype">char</span> value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> repeat = 1);
<a name="l02201"></a>02201 
<a name="l02210"></a>02210     String&amp; hexify(<span class="keywordtype">void</span>* data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">char</span> sep = 0, <span class="keywordtype">bool</span> upCase = <span class="keyword">false</span>);
<a name="l02211"></a>02211 
<a name="l02216"></a><a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">02216</a>     <span class="keyword">inline</span> String&amp; operator=(<span class="keyword">const</span> String&amp; value)
<a name="l02217"></a>02217         { <span class="keywordflow">return</span> operator=(value.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>()); }
<a name="l02218"></a>02218 
<a name="l02224"></a><a class="code" href="classTelEngine_1_1String.html#d858b8be97e221616a0a4eec8a1bd8c5">02224</a>     <span class="keyword">inline</span> String&amp; operator=(<span class="keyword">const</span> String* value)
<a name="l02225"></a>02225         { <span class="keywordflow">return</span> operator=(value ? value-&gt;<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>() : <span class="stringliteral">""</span>); }
<a name="l02226"></a>02226 
<a name="l02232"></a>02232     String&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value);
<a name="l02233"></a>02233 
<a name="l02238"></a>02238     String&amp; operator=(<span class="keywordtype">char</span> value);
<a name="l02239"></a>02239 
<a name="l02244"></a>02244     String&amp; operator=(int32_t value);
<a name="l02245"></a>02245 
<a name="l02250"></a>02250     String&amp; operator=(uint32_t value);
<a name="l02251"></a>02251 
<a name="l02256"></a>02256     String&amp; operator=(int64_t value);
<a name="l02257"></a>02257 
<a name="l02262"></a>02262     String&amp; operator=(uint64_t value);
<a name="l02263"></a>02263 
<a name="l02268"></a><a class="code" href="classTelEngine_1_1String.html#203ea889b8a47ce9c36aa51f5b2243b9">02268</a>     <span class="keyword">inline</span> String&amp; operator=(<span class="keywordtype">bool</span> value)
<a name="l02269"></a>02269         { <span class="keywordflow">return</span> operator=(boolText(value)); }
<a name="l02270"></a>02270 
<a name="l02275"></a>02275     String&amp; operator=(<span class="keywordtype">double</span> value);
<a name="l02276"></a>02276 
<a name="l02282"></a><a class="code" href="classTelEngine_1_1String.html#de61d3611abffd25d7ab3046ed09612f">02282</a>     <span class="keyword">inline</span> String&amp; operator+=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l02283"></a>02283         { <span class="keywordflow">return</span> append(value,-1); }
<a name="l02284"></a>02284 
<a name="l02289"></a>02289     String&amp; operator+=(<span class="keywordtype">char</span> value);
<a name="l02290"></a>02290 
<a name="l02295"></a>02295     String&amp; operator+=(int32_t value);
<a name="l02296"></a>02296 
<a name="l02301"></a>02301     String&amp; operator+=(uint32_t value);
<a name="l02302"></a>02302 
<a name="l02307"></a>02307     String&amp; operator+=(int64_t value);
<a name="l02308"></a>02308 
<a name="l02313"></a>02313     String&amp; operator+=(uint64_t value);
<a name="l02314"></a>02314 
<a name="l02319"></a><a class="code" href="classTelEngine_1_1String.html#35710d7e9fb7b5d745c6e6ba3ca4cc4f">02319</a>     <span class="keyword">inline</span> String&amp; operator+=(<span class="keywordtype">bool</span> value)
<a name="l02320"></a>02320         { <span class="keywordflow">return</span> operator+=(boolText(value)); }
<a name="l02321"></a>02321 
<a name="l02326"></a>02326     String&amp; operator+=(<span class="keywordtype">double</span> value);
<a name="l02327"></a>02327 
<a name="l02331"></a>02331     <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keyword">const</span>;
<a name="l02332"></a>02332 
<a name="l02336"></a>02336     <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keyword">const</span>;
<a name="l02337"></a>02337 
<a name="l02341"></a><a class="code" href="classTelEngine_1_1String.html#6bf70ab710c76152ec8820ddab9b2b05">02341</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> String&amp; value)<span class="keyword"> const</span>
<a name="l02342"></a>02342 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (<span class="keyword">this</span> == &amp;value) || ((hash() == value.<a class="code" href="classTelEngine_1_1String.html#ca8f08c16393e3a7121f43b2faf06cf4">hash</a>()) &amp;&amp; <span class="keyword">operator</span>==(value.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>())); }
<a name="l02343"></a>02343 
<a name="l02347"></a><a class="code" href="classTelEngine_1_1String.html#5f5b91a3364735b59d4285f0338d5399">02347</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> String&amp; value)<span class="keyword"> const</span>
<a name="l02348"></a>02348 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (<span class="keyword">this</span> != &amp;value) &amp;&amp; ((hash() != value.<a class="code" href="classTelEngine_1_1String.html#ca8f08c16393e3a7121f43b2faf06cf4">hash</a>()) || <span class="keyword">operator</span>!=(value.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>())); }
<a name="l02349"></a>02349 
<a name="l02353"></a>02353     <span class="keywordtype">bool</span> operator&amp;=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keyword">const</span>;
<a name="l02354"></a>02354 
<a name="l02358"></a>02358     <span class="keywordtype">bool</span> operator|=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keyword">const</span>;
<a name="l02359"></a>02359 
<a name="l02363"></a><a class="code" href="classTelEngine_1_1String.html#c564200f62d1741001db2dfbbdb5fa8f">02363</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l02364"></a>02364         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02365"></a>02365 
<a name="l02369"></a><a class="code" href="classTelEngine_1_1String.html#7b9de72adfc3f722e04fef8f6f4e54a5">02369</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keywordtype">char</span> value)
<a name="l02370"></a>02370         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02371"></a>02371 
<a name="l02375"></a><a class="code" href="classTelEngine_1_1String.html#962172b9e83fb77356817093496eeefe">02375</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(int32_t value)
<a name="l02376"></a>02376         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02377"></a>02377 
<a name="l02381"></a><a class="code" href="classTelEngine_1_1String.html#a1611053cf9439d2dcdbc568a78d802e">02381</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(uint32_t value)
<a name="l02382"></a>02382         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02383"></a>02383 
<a name="l02387"></a><a class="code" href="classTelEngine_1_1String.html#d10dcc4744b64f135d7ab638fdf472e3">02387</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(int64_t value)
<a name="l02388"></a>02388         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02389"></a>02389 
<a name="l02393"></a><a class="code" href="classTelEngine_1_1String.html#e9b7e2a7b1881258c6d276bb3ecb78d2">02393</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(uint64_t value)
<a name="l02394"></a>02394         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02395"></a>02395 
<a name="l02399"></a><a class="code" href="classTelEngine_1_1String.html#43b34a122770309decbe9733408add05">02399</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keywordtype">bool</span> value)
<a name="l02400"></a>02400         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02401"></a>02401 
<a name="l02405"></a><a class="code" href="classTelEngine_1_1String.html#e3b6bd9aeb2fecb26957898061d24598">02405</a>     <span class="keyword">inline</span> String&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keywordtype">double</span> value)
<a name="l02406"></a>02406         { <span class="keywordflow">return</span> operator+=(value); }
<a name="l02407"></a>02407 
<a name="l02412"></a>02412     String&amp; operator&gt;&gt;(<span class="keyword">const</span> <span class="keywordtype">char</span>* skip);
<a name="l02413"></a>02413 
<a name="l02417"></a>02417     String&amp; operator&gt;&gt;(<span class="keywordtype">char</span>&amp; store);
<a name="l02418"></a>02418 
<a name="l02422"></a>02422     String&amp; operator&gt;&gt;(UChar&amp; store);
<a name="l02423"></a>02423 
<a name="l02427"></a>02427     String&amp; operator&gt;&gt;(<span class="keywordtype">int</span>&amp; store);
<a name="l02428"></a>02428 
<a name="l02432"></a>02432     String&amp; operator&gt;&gt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; store);
<a name="l02433"></a>02433 
<a name="l02437"></a>02437     String&amp; operator&gt;&gt;(<span class="keywordtype">bool</span>&amp; store);
<a name="l02438"></a>02438 
<a name="l02445"></a>02445     String&amp; append(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">int</span> len);
<a name="l02446"></a>02446 
<a name="l02453"></a>02453     String&amp; append(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keyword">const</span> <span class="keywordtype">char</span>* separator = 0, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l02454"></a>02454 
<a name="l02461"></a>02461     String&amp; append(<span class="keyword">const</span> ObjList* list, <span class="keyword">const</span> <span class="keywordtype">char</span>* separator = 0, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l02462"></a>02462 
<a name="l02469"></a><a class="code" href="classTelEngine_1_1String.html#58740e659c4613b763d6c1a59e39e9a4">02469</a>     <span class="keyword">inline</span> String&amp; append(<span class="keyword">const</span> ObjList&amp; list, <span class="keyword">const</span> <span class="keywordtype">char</span>* separator = 0, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>)
<a name="l02470"></a>02470         { <span class="keywordflow">return</span> append(&amp;list,separator,force); }
<a name="l02471"></a>02471 
<a name="l02477"></a>02477     String&amp; append(<span class="keywordtype">double</span> value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> decimals = 3);
<a name="l02478"></a>02478 
<a name="l02484"></a>02484     String&amp; printf(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, ...) FORMAT_CHECK(2);
<a name="l02485"></a>02485 
<a name="l02491"></a>02491     String&amp; printf(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length, const <span class="keywordtype">char</span>* format,  ...) FORMAT_CHECK(3);
<a name="l02492"></a>02492 
<a name="l02501"></a>02501     String&amp; appendFixed(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fixedLength, const <span class="keywordtype">char</span>* str, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len = -1, <span class="keywordtype">char</span> fill = ' ', <span class="keywordtype">int</span> align = Left);
<a name="l02502"></a>02502 
<a name="l02510"></a><a class="code" href="classTelEngine_1_1String.html#d6bc69006b7537af2b4771dbdcb777ee">02510</a>     inline String&amp; appendFixed(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fixedLength, const String&amp; str, <span class="keywordtype">char</span> fill = ' ', <span class="keywordtype">int</span> align = Left)
<a name="l02511"></a>02511         { <span class="keywordflow">return</span> appendFixed(fixedLength,str.c_str(),str.length(),fill,align); }
<a name="l02512"></a>02512 
<a name="l02519"></a>02519     <span class="keywordtype">int</span> find(<span class="keywordtype">char</span> what, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offs = 0) <span class="keyword">const</span>;
<a name="l02520"></a>02520 
<a name="l02527"></a>02527     <span class="keywordtype">int</span> find(<span class="keyword">const</span> <span class="keywordtype">char</span>* what, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offs = 0) <span class="keyword">const</span>;
<a name="l02528"></a>02528 
<a name="l02534"></a>02534     <span class="keywordtype">int</span> rfind(<span class="keywordtype">char</span> what) <span class="keyword">const</span>;
<a name="l02535"></a>02535 
<a name="l02541"></a>02541     <span class="keywordtype">int</span> rfind(<span class="keyword">const</span> <span class="keywordtype">char</span>* what) <span class="keyword">const</span>;
<a name="l02542"></a>02542 
<a name="l02550"></a>02550     <span class="keywordtype">bool</span> startsWith(<span class="keyword">const</span> <span class="keywordtype">char</span>* what, <span class="keywordtype">bool</span> wordBreak = <span class="keyword">false</span>, <span class="keywordtype">bool</span> caseInsensitive = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l02551"></a>02551 
<a name="l02559"></a>02559     <span class="keywordtype">bool</span> endsWith(<span class="keyword">const</span> <span class="keywordtype">char</span>* what, <span class="keywordtype">bool</span> wordBreak = <span class="keyword">false</span>, <span class="keywordtype">bool</span> caseInsensitive = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l02560"></a>02560 
<a name="l02572"></a>02572     <span class="keywordtype">bool</span> startSkip(<span class="keyword">const</span> <span class="keywordtype">char</span>* what, <span class="keywordtype">bool</span> wordBreak = <span class="keyword">true</span>, <span class="keywordtype">bool</span> caseInsensitive = <span class="keyword">false</span>);
<a name="l02573"></a>02573 
<a name="l02580"></a>02580     String&amp; extractTo(<span class="keyword">const</span> <span class="keywordtype">char</span>* sep, String&amp; store);
<a name="l02581"></a>02581 
<a name="l02588"></a>02588     String&amp; extractTo(<span class="keyword">const</span> <span class="keywordtype">char</span>* sep, <span class="keywordtype">bool</span>&amp; store);
<a name="l02589"></a>02589 
<a name="l02597"></a>02597     String&amp; extractTo(<span class="keyword">const</span> <span class="keywordtype">char</span>* sep, <span class="keywordtype">int</span>&amp; store, <span class="keywordtype">int</span> base = 0);
<a name="l02598"></a>02598 
<a name="l02607"></a>02607     String&amp; extractTo(<span class="keyword">const</span> <span class="keywordtype">char</span>* sep, <span class="keywordtype">int</span>&amp; store, <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* tokens, <span class="keywordtype">int</span> base = 0);
<a name="l02608"></a>02608 
<a name="l02615"></a>02615     String&amp; extractTo(<span class="keyword">const</span> <span class="keywordtype">char</span>* sep, <span class="keywordtype">double</span>&amp; store);
<a name="l02616"></a>02616 
<a name="l02622"></a><a class="code" href="classTelEngine_1_1String.html#4de6038dc79d0bd68bd6b0da5b5c88d9">02622</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> matches(<span class="keyword">const</span> String&amp; value)<span class="keyword"> const</span>
<a name="l02623"></a>02623 <span class="keyword">        </span>{ <span class="keywordflow">return</span> operator==(value); }
<a name="l02624"></a>02624 
<a name="l02630"></a>02630     <span class="keywordtype">bool</span> matches(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1Regexp.html" title="A regexp matching class.">Regexp</a>&amp; rexp);
<a name="l02631"></a>02631 
<a name="l02637"></a>02637     <span class="keywordtype">int</span> matchOffset(<span class="keywordtype">int</span> index = 0) <span class="keyword">const</span>;
<a name="l02638"></a>02638 
<a name="l02644"></a>02644     <span class="keywordtype">int</span> matchLength(<span class="keywordtype">int</span> index = 0) <span class="keyword">const</span>;
<a name="l02645"></a>02645 
<a name="l02651"></a><a class="code" href="classTelEngine_1_1String.html#c9d7a30377ada5c72bde222e7ec10731">02651</a>     <span class="keyword">inline</span> String matchString(<span class="keywordtype">int</span> index = 0)<span class="keyword"> const</span>
<a name="l02652"></a>02652 <span class="keyword">        </span>{ <span class="keywordflow">return</span> substr(matchOffset(index),matchLength(index)); }
<a name="l02653"></a>02653 
<a name="l02659"></a>02659     String replaceMatches(<span class="keyword">const</span> String&amp; templ) <span class="keyword">const</span>;
<a name="l02660"></a>02660 
<a name="l02665"></a>02665     <span class="keywordtype">int</span> matchCount() <span class="keyword">const</span>;
<a name="l02666"></a>02666 
<a name="l02673"></a>02673     ObjList* split(<span class="keywordtype">char</span> separator, <span class="keywordtype">bool</span> emptyOK = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l02674"></a>02674 
<a name="l02681"></a>02681     <span class="keyword">static</span> String msgEscape(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">char</span> extraEsc = 0);
<a name="l02682"></a>02682 
<a name="l02688"></a><a class="code" href="classTelEngine_1_1String.html#e768761f21717e8b5e96bbfdfaac3163">02688</a>     <span class="keyword">inline</span> String msgEscape(<span class="keywordtype">char</span> extraEsc = 0)<span class="keyword"> const</span>
<a name="l02689"></a>02689 <span class="keyword">        </span>{ <span class="keywordflow">return</span> msgEscape(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(),extraEsc); }
<a name="l02690"></a>02690 
<a name="l02698"></a>02698     <span class="keyword">static</span> String msgUnescape(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">int</span>* errptr = 0, <span class="keywordtype">char</span> extraEsc = 0);
<a name="l02699"></a>02699 
<a name="l02706"></a><a class="code" href="classTelEngine_1_1String.html#ec9e4ac400fe2fe85361d8584758feca">02706</a>     <span class="keyword">inline</span> String msgUnescape(<span class="keywordtype">int</span>* errptr = 0, <span class="keywordtype">char</span> extraEsc = 0)<span class="keyword"> const</span>
<a name="l02707"></a>02707 <span class="keyword">        </span>{ <span class="keywordflow">return</span> msgUnescape(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(),errptr,extraEsc); }
<a name="l02708"></a>02708 
<a name="l02715"></a>02715     <span class="keyword">static</span> String sqlEscape(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">char</span> extraEsc = 0);
<a name="l02716"></a>02716 
<a name="l02722"></a><a class="code" href="classTelEngine_1_1String.html#7d1a8c5c057da662411907ff81dea2e0">02722</a>     <span class="keyword">inline</span> String sqlEscape(<span class="keywordtype">char</span> extraEsc = 0)<span class="keyword"> const</span>
<a name="l02723"></a>02723 <span class="keyword">        </span>{ <span class="keywordflow">return</span> sqlEscape(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(),extraEsc); }
<a name="l02724"></a>02724 
<a name="l02732"></a>02732     <span class="keyword">static</span> String uriEscape(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">char</span> extraEsc = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* noEsc = 0);
<a name="l02733"></a>02733 
<a name="l02740"></a><a class="code" href="classTelEngine_1_1String.html#cacb9c96ee4c84a2583b982bafa64cfc">02740</a>     <span class="keyword">inline</span> String uriEscape(<span class="keywordtype">char</span> extraEsc = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* noEsc = 0)<span class="keyword"> const</span>
<a name="l02741"></a>02741 <span class="keyword">        </span>{ <span class="keywordflow">return</span> uriEscape(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(),extraEsc,noEsc); }
<a name="l02742"></a>02742 
<a name="l02749"></a>02749     <span class="keyword">static</span> String uriUnescape(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">int</span>* errptr = 0);
<a name="l02750"></a>02750 
<a name="l02756"></a><a class="code" href="classTelEngine_1_1String.html#453ab026a9553f55831042cbe4d053d9">02756</a>     <span class="keyword">inline</span> String uriUnescape(<span class="keywordtype">int</span>* errptr = 0)<span class="keyword"> const</span>
<a name="l02757"></a>02757 <span class="keyword">        </span>{ <span class="keywordflow">return</span> uriUnescape(<a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(),errptr); }
<a name="l02758"></a>02758 
<a name="l02765"></a>02765     <span class="keyword">static</span> <span class="keyword">const</span> String* atom(<span class="keyword">const</span> String*&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* val);
<a name="l02766"></a>02766 
<a name="l02767"></a>02767 <span class="keyword">protected</span>:
<a name="l02771"></a>02771      <span class="keyword">virtual</span> <span class="keywordtype">void</span> changed();
<a name="l02772"></a>02772 
<a name="l02773"></a>02773 <span class="keyword">private</span>:
<a name="l02774"></a>02774     <span class="keywordtype">void</span> clearMatches();
<a name="l02775"></a>02775     <span class="keywordtype">char</span>* m_string;
<a name="l02776"></a>02776     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_length;
<a name="l02777"></a>02777     <span class="comment">// I hope every C++ compiler now knows about mutable...</span>
<a name="l02778"></a>02778     <span class="keyword">mutable</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_hash;
<a name="l02779"></a>02779     StringMatchPrivate* m_matches;
<a name="l02780"></a>02780 };
<a name="l02781"></a>02781 
<a name="l02787"></a><a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">02787</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#45cb66c4270ea4de2eb042a79b45b159">c_str</a>(<span class="keyword">const</span> String* str)
<a name="l02788"></a>02788     { <span class="keywordflow">return</span> str ? str-&gt;<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>() : (<span class="keyword">const</span> <span class="keywordtype">char</span>*)0; }
<a name="l02789"></a>02789 
<a name="l02795"></a><a class="code" href="namespaceTelEngine.html#0e9e61e989fb926b8faa02625cfcb0e6">02795</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#0e9e61e989fb926b8faa02625cfcb0e6">c_safe</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l02796"></a>02796     { <span class="keywordflow">return</span> str ? str : <span class="stringliteral">""</span>; }
<a name="l02797"></a>02797 
<a name="l02803"></a><a class="code" href="namespaceTelEngine.html#40c8238667178df8c614fbc2598843e4">02803</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#0e9e61e989fb926b8faa02625cfcb0e6">c_safe</a>(<span class="keyword">const</span> String* str)
<a name="l02804"></a>02804     { <span class="keywordflow">return</span> str ? str-&gt;<a class="code" href="classTelEngine_1_1String.html#85156346632a6f74bccc4cb4cbb73a4f">safe</a>() : <span class="stringliteral">""</span>; }
<a name="l02805"></a>02805 
<a name="l02811"></a><a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">02811</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l02812"></a>02812     { <span class="keywordflow">return</span> !(str &amp;&amp; *str); }
<a name="l02813"></a>02813 
<a name="l02819"></a><a class="code" href="namespaceTelEngine.html#4348387bca2ec1bcf7991dc55827ffdf">02819</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>(<span class="keyword">const</span> String* str)
<a name="l02820"></a>02820     { <span class="keywordflow">return</span> !str || str-&gt;<a class="code" href="classTelEngine_1_1String.html#5fc3ccc049f9327dc84116f44bde5c26">null</a>(); }
<a name="l02821"></a>02821 
<a name="l02825"></a>02825 YATE_API String <a class="code" href="namespaceTelEngine.html#34348e2ebded1289d783a230cf2ac8cc">operator+</a>(<span class="keyword">const</span> String&amp; s1, <span class="keyword">const</span> String&amp; s2);
<a name="l02826"></a>02826 
<a name="l02830"></a>02830 YATE_API String <a class="code" href="namespaceTelEngine.html#34348e2ebded1289d783a230cf2ac8cc">operator+</a>(<span class="keyword">const</span> String&amp; s1, <span class="keyword">const</span> <span class="keywordtype">char</span>* s2);
<a name="l02831"></a>02831 
<a name="l02835"></a>02835 YATE_API String <a class="code" href="namespaceTelEngine.html#34348e2ebded1289d783a230cf2ac8cc">operator+</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* s1, <span class="keyword">const</span> String&amp; s2);
<a name="l02836"></a>02836 
<a name="l02841"></a><a class="code" href="namespaceTelEngine.html#886e2344e7f6f47c8850d40691899ac3">02841</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceTelEngine.html#886e2344e7f6f47c8850d40691899ac3">strcpy</a>(String&amp; dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src)
<a name="l02842"></a>02842     { dest = src; <span class="keywordflow">return</span> dest.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(); }
<a name="l02843"></a>02843 
<a name="l02848"></a><a class="code" href="namespaceTelEngine.html#67173a7033c7d450f649f50678822c6a">02848</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceTelEngine.html#67173a7033c7d450f649f50678822c6a">strcat</a>(String&amp; dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src)
<a name="l02849"></a>02849     { dest += src; <span class="keywordflow">return</span> dest.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(); }
<a name="l02850"></a>02850 
<a name="l02859"></a>02859 YATE_API <span class="keywordtype">int</span> <a class="code" href="namespaceTelEngine.html#4668c9172c6ae5f59f5782ecc6e05516">lookup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keyword">const</span> TokenDict* tokens, <span class="keywordtype">int</span> defvalue = 0, <span class="keywordtype">int</span> base = 0);
<a name="l02860"></a>02860 
<a name="l02867"></a>02867 YATE_API <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceTelEngine.html#4668c9172c6ae5f59f5782ecc6e05516">lookup</a>(<span class="keywordtype">int</span> value, <span class="keyword">const</span> TokenDict* tokens, <span class="keyword">const</span> <span class="keywordtype">char</span>* defvalue = 0);
<a name="l02868"></a>02868 
<a name="l02869"></a>02869 <span class="keyword">class </span>NamedList;
<a name="l02870"></a>02870 
<a name="l02878"></a>02878 YATE_API <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#09f108205e9b50d745dc56ad3c5064f0">controlReturn</a>(NamedList* params, <span class="keywordtype">bool</span> ret, <span class="keyword">const</span> <span class="keywordtype">char</span>* retVal = 0);
<a name="l02879"></a>02879 
<a name="l02884"></a><a class="code" href="classTelEngine_1_1Regexp.html">02884</a> <span class="keyword">class </span>YATE_API Regexp : <span class="keyword">public</span> String
<a name="l02885"></a>02885 {
<a name="l02886"></a>02886     <span class="keyword">friend</span> <span class="keyword">class </span>String;
<a name="l02887"></a>02887 <span class="keyword">public</span>:
<a name="l02891"></a>02891     Regexp();
<a name="l02892"></a>02892 
<a name="l02899"></a>02899     <span class="keyword">explicit</span> Regexp(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">bool</span> extended = <span class="keyword">false</span>, <span class="keywordtype">bool</span> insensitive = <span class="keyword">false</span>);
<a name="l02900"></a>02900 
<a name="l02905"></a>02905     Regexp(<span class="keyword">const</span> Regexp&amp; value);
<a name="l02906"></a>02906 
<a name="l02910"></a>02910     <span class="keyword">virtual</span> ~Regexp();
<a name="l02911"></a>02911 
<a name="l02915"></a><a class="code" href="classTelEngine_1_1Regexp.html#4eba12863b00648ecac841bcf580a15c">02915</a>     <span class="keyword">inline</span> Regexp&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l02916"></a>02916         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l02917"></a>02917 
<a name="l02922"></a>02922     <span class="keywordtype">bool</span> compile() <span class="keyword">const</span>;
<a name="l02923"></a>02923 
<a name="l02929"></a>02929     <span class="keywordtype">bool</span> matches(<span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keyword">const</span>;
<a name="l02930"></a>02930 
<a name="l02936"></a><a class="code" href="classTelEngine_1_1Regexp.html#4de6038dc79d0bd68bd6b0da5b5c88d9">02936</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> matches(<span class="keyword">const</span> String&amp; value)<span class="keyword"> const</span>
<a name="l02937"></a>02937 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <a class="code" href="classTelEngine_1_1Regexp.html#e01285d023549d88b944011bcf43eb36">Regexp::matches</a>(value.<a class="code" href="classTelEngine_1_1String.html#85156346632a6f74bccc4cb4cbb73a4f">safe</a>()); }
<a name="l02938"></a>02938 
<a name="l02944"></a>02944     <span class="keywordtype">void</span> setFlags(<span class="keywordtype">bool</span> extended, <span class="keywordtype">bool</span> insensitive);
<a name="l02945"></a>02945 
<a name="l02950"></a>02950     <span class="keywordtype">bool</span> isExtended() <span class="keyword">const</span>;
<a name="l02951"></a>02951 
<a name="l02956"></a>02956     <span class="keywordtype">bool</span> isCaseInsensitive() <span class="keyword">const</span>;
<a name="l02957"></a>02957 
<a name="l02958"></a>02958 <span class="keyword">protected</span>:
<a name="l02962"></a>02962     <span class="keyword">virtual</span> <span class="keywordtype">void</span> changed();
<a name="l02963"></a>02963 
<a name="l02964"></a>02964 <span class="keyword">private</span>:
<a name="l02965"></a>02965     <span class="keywordtype">void</span> cleanup();
<a name="l02966"></a>02966     <span class="keywordtype">bool</span> matches(<span class="keyword">const</span> <span class="keywordtype">char</span>* value, StringMatchPrivate* matchlist) <span class="keyword">const</span>;
<a name="l02967"></a>02967     <span class="keyword">mutable</span> <span class="keywordtype">void</span>* m_regexp;
<a name="l02968"></a>02968     <span class="keywordtype">int</span> m_flags;
<a name="l02969"></a>02969 };
<a name="l02970"></a>02970 
<a name="l02975"></a><a class="code" href="classTelEngine_1_1Atom.html">02975</a> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Atom.html" title="Atom string holder.">Atom</a>
<a name="l02976"></a>02976 {
<a name="l02977"></a>02977 <span class="keyword">public</span>:
<a name="l02982"></a><a class="code" href="classTelEngine_1_1Atom.html#fc75a5c0858313db1349437d3bc3e640">02982</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> <a class="code" href="classTelEngine_1_1Atom.html#fc75a5c0858313db1349437d3bc3e640">Atom</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l02983"></a>02983         : m_atom(0)
<a name="l02984"></a>02984         { <a class="code" href="classTelEngine_1_1String.html#ed18b03db27ed346aefc8c7f9ffb60cf">String::atom</a>(m_atom,value); }
<a name="l02985"></a>02985 
<a name="l02990"></a><a class="code" href="classTelEngine_1_1Atom.html#cf5903bc6594ba3c4390f02cbce72a29">02990</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1Atom.html#cf5903bc6594ba3c4390f02cbce72a29">operator const String&amp;</a>()<span class="keyword"> const</span>
<a name="l02991"></a>02991 <span class="keyword">        </span>{ <span class="keywordflow">return</span> *m_atom; }
<a name="l02992"></a>02992 
<a name="l02997"></a><a class="code" href="classTelEngine_1_1Atom.html#654ab929ebf607e22f45566d47440506">02997</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String* <a class="code" href="classTelEngine_1_1Atom.html#654ab929ebf607e22f45566d47440506">operator-&gt;</a>()<span class="keyword"> const</span>
<a name="l02998"></a>02998 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_atom; }
<a name="l02999"></a>02999 
<a name="l03000"></a>03000 <span class="keyword">private</span>:
<a name="l03001"></a>03001     <span class="keyword">const</span> String* m_atom;
<a name="l03002"></a>03002 };
<a name="l03003"></a>03003 
<a name="l03008"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html">03008</a> <span class="keyword">class </span>YATE_API CapturedEvent : <span class="keyword">public</span> String
<a name="l03009"></a>03009 {
<a name="l03010"></a>03010     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Engine.html" title="Engine globals.">Engine</a>;
<a name="l03011"></a>03011     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(CapturedEvent,String)
<a name="l03012"></a>03012 <span class="keyword">public</span>:
<a name="l03018"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#e3a0277f0237db0907db6a6778a1eccf">03018</a>     <span class="keyword">inline</span> CapturedEvent(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)
<a name="l03019"></a>03019         : String(text), m_level(level)
<a name="l03020"></a>03020         { }
<a name="l03021"></a>03021 
<a name="l03026"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#2cc883f504ad2ada2763164795ef541e">03026</a>     <span class="keyword">inline</span> CapturedEvent(<span class="keyword">const</span> CapturedEvent&amp; original)
<a name="l03027"></a>03027         : String(original), m_level(original.level())
<a name="l03028"></a>03028         { }
<a name="l03029"></a>03029 
<a name="l03034"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#11f50cbcfc678826d50117ffa658f911">03034</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> level()<span class="keyword"> const</span>
<a name="l03035"></a>03035 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_level; }
<a name="l03036"></a>03036 
<a name="l03037"></a>03037 
<a name="l03042"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#58d45426ba29ab7d22cc1ceb8b8abceb">03042</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> capturing()
<a name="l03043"></a>03043         { <span class="keywordflow">return</span> s_capturing; }
<a name="l03044"></a>03044 
<a name="l03049"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#0fcb86d69f47c64af3160c15651bd255">03049</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> ObjList&amp; events()
<a name="l03050"></a>03050         { <span class="keywordflow">return</span> s_events; }
<a name="l03051"></a>03051 
<a name="l03057"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#2105774c68a8448c118d063a9288baff">03057</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> append(<span class="keywordtype">int</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)
<a name="l03058"></a>03058         { <span class="keywordflow">if</span> (text &amp;&amp; *text) s_events.append(<span class="keyword">new</span> CapturedEvent(level,text)); }
<a name="l03059"></a>03059 
<a name="l03060"></a>03060 <span class="keyword">protected</span>:
<a name="l03065"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#99a8499cfc6febd9861647037d6030a4">03065</a>     <span class="keyword">inline</span> <span class="keyword">static</span> ObjList&amp; eventsRw()
<a name="l03066"></a>03066         { <span class="keywordflow">return</span> s_events; }
<a name="l03067"></a>03067 
<a name="l03072"></a><a class="code" href="classTelEngine_1_1CapturedEvent.html#d47f03b88d676b3c1545b47d17b063ea">03072</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> capturing(<span class="keywordtype">bool</span> capture)
<a name="l03073"></a>03073         { s_capturing = capture; }
<a name="l03074"></a>03074 
<a name="l03075"></a>03075 <span class="keyword">private</span>:
<a name="l03076"></a>03076     <span class="keywordtype">int</span> m_level;
<a name="l03077"></a>03077     <span class="keyword">static</span> ObjList s_events;
<a name="l03078"></a>03078     <span class="keyword">static</span> <span class="keywordtype">bool</span> s_capturing;
<a name="l03079"></a>03079 };
<a name="l03080"></a>03080 
<a name="l03085"></a><a class="code" href="classTelEngine_1_1NamedString.html">03085</a> <span class="keyword">class </span>YATE_API NamedString : <span class="keyword">public</span> String
<a name="l03086"></a>03086 {
<a name="l03087"></a>03087     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(NamedString); <span class="comment">// no automatic copies please</span>
<a name="l03088"></a>03088 <span class="keyword">public</span>:
<a name="l03094"></a>03094     <span class="keyword">explicit</span> NamedString(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l03095"></a>03095 
<a name="l03100"></a><a class="code" href="classTelEngine_1_1NamedString.html#c7fa2815980eb7a696b3ce00436c44ba">03100</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; name()<span class="keyword"> const</span>
<a name="l03101"></a>03101 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_name; }
<a name="l03102"></a>03102 
<a name="l03107"></a>03107     <span class="keyword">virtual</span> <span class="keyword">const</span> String&amp; toString() <span class="keyword">const</span>;
<a name="l03108"></a>03108 
<a name="l03114"></a>03114     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l03115"></a>03115 
<a name="l03119"></a><a class="code" href="classTelEngine_1_1NamedString.html#712071aa5629d4eafe0b276d9c4c8baa">03119</a>     <span class="keyword">inline</span> NamedString&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l03120"></a>03120         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03121"></a>03121 
<a name="l03122"></a>03122 <span class="keyword">private</span>:
<a name="l03123"></a>03123     NamedString(); <span class="comment">// no default constructor please</span>
<a name="l03124"></a>03124     String m_name;
<a name="l03125"></a>03125 };
<a name="l03126"></a>03126 
<a name="l03133"></a><a class="code" href="classTelEngine_1_1NamedPointer.html">03133</a> <span class="keyword">class </span>YATE_API NamedPointer : <span class="keyword">public</span> NamedString
<a name="l03134"></a>03134 {
<a name="l03135"></a>03135 <span class="keyword">public</span>:
<a name="l03142"></a>03142     <span class="keyword">explicit</span> NamedPointer(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, GenObject* data = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l03143"></a>03143 
<a name="l03147"></a>03147     <span class="keyword">virtual</span> ~NamedPointer();
<a name="l03148"></a>03148 
<a name="l03153"></a><a class="code" href="classTelEngine_1_1NamedPointer.html#674d5030a0978df03701944bc9e61344">03153</a>     <span class="keyword">inline</span> GenObject* userData()<span class="keyword"> const</span>
<a name="l03154"></a>03154 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data; }
<a name="l03155"></a>03155 
<a name="l03161"></a>03161     GenObject* takeData();
<a name="l03162"></a>03162 
<a name="l03168"></a>03168     <span class="keywordtype">void</span> userData(GenObject* data);
<a name="l03169"></a>03169 
<a name="l03175"></a><a class="code" href="classTelEngine_1_1NamedPointer.html#3e358071872b5d8b8cec2643cb8b0c34">03175</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span>* userObject(<span class="keyword">const</span> String&amp; name)<span class="keyword"> const</span>
<a name="l03176"></a>03176 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data ? m_data-&gt;getObject(name) : 0; }
<a name="l03177"></a>03177 
<a name="l03181"></a><a class="code" href="classTelEngine_1_1NamedPointer.html#4ac02d48632550e6217ba1bcf00c0e2d">03181</a>     <span class="keyword">inline</span> NamedPointer&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l03182"></a>03182         { <a class="code" href="classTelEngine_1_1NamedString.html#712071aa5629d4eafe0b276d9c4c8baa">NamedString::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03183"></a>03183 
<a name="l03189"></a>03189     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l03190"></a>03190 
<a name="l03191"></a>03191 <span class="keyword">protected</span>:
<a name="l03195"></a>03195     <span class="keyword">virtual</span> <span class="keywordtype">void</span> changed();
<a name="l03196"></a>03196 
<a name="l03197"></a>03197 <span class="keyword">private</span>:
<a name="l03198"></a>03198     NamedPointer(); <span class="comment">// no default constructor please</span>
<a name="l03199"></a>03199     GenObject* m_data;
<a name="l03200"></a>03200 };
<a name="l03201"></a>03201 
<a name="l03206"></a><a class="code" href="classTelEngine_1_1NamedCounter.html">03206</a> <span class="keyword">class </span>YATE_API NamedCounter : <span class="keyword">public</span> String
<a name="l03207"></a>03207 {
<a name="l03208"></a>03208     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(NamedCounter); <span class="comment">// no automatic copies please</span>
<a name="l03209"></a>03209 <span class="keyword">public</span>:
<a name="l03214"></a>03214     <span class="keyword">explicit</span> NamedCounter(<span class="keyword">const</span> String&amp; name);
<a name="l03215"></a>03215 
<a name="l03220"></a><a class="code" href="classTelEngine_1_1NamedCounter.html#f5a8385102f8f8dd6c5957eac08b04c2">03220</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> enabled()<span class="keyword"> const</span>
<a name="l03221"></a>03221 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_enabled; }
<a name="l03222"></a>03222 
<a name="l03227"></a><a class="code" href="classTelEngine_1_1NamedCounter.html#a7e4813b2568761ab4b182940690e1a8">03227</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> enable(<span class="keywordtype">bool</span> val)
<a name="l03228"></a>03228         { m_enabled = val; }
<a name="l03229"></a>03229 
<a name="l03234"></a>03234     <span class="keywordtype">int</span> inc();
<a name="l03235"></a>03235 
<a name="l03240"></a>03240     <span class="keywordtype">int</span> dec();
<a name="l03241"></a>03241 
<a name="l03246"></a><a class="code" href="classTelEngine_1_1NamedCounter.html#0e2c15c517007b91c37b2aa68bf2484a">03246</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> count()<span class="keyword"> const</span>
<a name="l03247"></a>03247 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_count; }
<a name="l03248"></a>03248 
<a name="l03249"></a>03249 <span class="keyword">private</span>:
<a name="l03250"></a>03250     <span class="keywordtype">int</span> m_count;
<a name="l03251"></a>03251     <span class="keywordtype">bool</span> m_enabled;
<a name="l03252"></a>03252     <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>* m_mutex;
<a name="l03253"></a>03253 };
<a name="l03254"></a>03254 
<a name="l03262"></a><a class="code" href="classTelEngine_1_1HashList.html">03262</a> <span class="keyword">class </span>YATE_API HashList : <span class="keyword">public</span> GenObject
<a name="l03263"></a>03263 {
<a name="l03264"></a>03264     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(HashList); <span class="comment">// no automatic copies please</span>
<a name="l03265"></a>03265 <span class="keyword">public</span>:
<a name="l03270"></a>03270     <span class="keyword">explicit</span> HashList(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = 17);
<a name="l03271"></a>03271 
<a name="l03275"></a>03275     <span class="keyword">virtual</span> ~HashList();
<a name="l03276"></a>03276 
<a name="l03282"></a>03282     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l03283"></a>03283 
<a name="l03288"></a><a class="code" href="classTelEngine_1_1HashList.html#def4df49627e93e9be26936447917e68">03288</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l03289"></a>03289 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_size; }
<a name="l03290"></a>03290 
<a name="l03295"></a>03295     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count() <span class="keyword">const</span>;
<a name="l03296"></a>03296 
<a name="l03303"></a><a class="code" href="classTelEngine_1_1HashList.html#32c7c9089faad1d3f36348fbf5c66a16">03303</a>     <span class="keyword">inline</span> ObjList* getList(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l03304"></a>03304 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (index &lt; m_size) ? m_lists[index] : 0; }
<a name="l03305"></a>03305 
<a name="l03311"></a><a class="code" href="classTelEngine_1_1HashList.html#11ff7333e15ea5042c5d8b9b8bcfbb3d">03311</a>     <span class="keyword">inline</span> ObjList* getHashList(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash)<span class="keyword"> const</span>
<a name="l03312"></a>03312 <span class="keyword">        </span>{ <span class="keywordflow">return</span> getList(hash % m_size); }
<a name="l03313"></a>03313 
<a name="l03319"></a><a class="code" href="classTelEngine_1_1HashList.html#3bbbb43fd5bc4b382a671074d5c274f8">03319</a>     <span class="keyword">inline</span> ObjList* getHashList(<span class="keyword">const</span> String&amp; str)<span class="keyword"> const</span>
<a name="l03320"></a>03320 <span class="keyword">        </span>{ <span class="keywordflow">return</span> getHashList(str.<a class="code" href="classTelEngine_1_1String.html#ca8f08c16393e3a7121f43b2faf06cf4">hash</a>()); }
<a name="l03321"></a>03321 
<a name="l03327"></a>03327     GenObject* operator[](<span class="keyword">const</span> String&amp; str) <span class="keyword">const</span>;
<a name="l03328"></a>03328 
<a name="l03335"></a>03335     ObjList* find(<span class="keyword">const</span> GenObject* obj) <span class="keyword">const</span>;
<a name="l03336"></a>03336 
<a name="l03343"></a>03343     ObjList* find(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash) <span class="keyword">const</span>;
<a name="l03344"></a>03344 
<a name="l03350"></a>03350     ObjList* find(<span class="keyword">const</span> String&amp; str) <span class="keyword">const</span>;
<a name="l03351"></a>03351 
<a name="l03357"></a>03357     ObjList* append(<span class="keyword">const</span> GenObject* obj);
<a name="l03358"></a>03358 
<a name="l03366"></a>03366     GenObject* <span class="keyword">remove</span>(GenObject* obj, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>, <span class="keywordtype">bool</span> useHash = <span class="keyword">false</span>);
<a name="l03367"></a>03367 
<a name="l03374"></a><a class="code" href="classTelEngine_1_1HashList.html#7155d0bb62672be984aa9657886a6dd0">03374</a>     <span class="keyword">inline</span> GenObject* <span class="keyword">remove</span>(<span class="keyword">const</span> String&amp; str, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>)
<a name="l03375"></a>03375     {
<a name="l03376"></a>03376         ObjList* n = find(str);
<a name="l03377"></a>03377         <span class="keywordflow">return</span> n ? n-&gt;remove(delobj) : 0;
<a name="l03378"></a>03378     }
<a name="l03379"></a>03379 
<a name="l03383"></a>03383     <span class="keywordtype">void</span> clear();
<a name="l03384"></a>03384 
<a name="l03391"></a>03391     <span class="keywordtype">bool</span> resync(GenObject* obj);
<a name="l03392"></a>03392 
<a name="l03398"></a>03398     <span class="keywordtype">bool</span> resync();
<a name="l03399"></a>03399 
<a name="l03400"></a>03400 <span class="keyword">private</span>:
<a name="l03401"></a>03401     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_size;
<a name="l03402"></a>03402     ObjList** m_lists;
<a name="l03403"></a>03403 };
<a name="l03404"></a>03404 
<a name="l03411"></a><a class="code" href="classTelEngine_1_1ListIterator.html">03411</a> <span class="keyword">class </span>YATE_API ListIterator
<a name="l03412"></a>03412 {
<a name="l03413"></a>03413     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(ListIterator); <span class="comment">// no automatic copies please</span>
<a name="l03414"></a>03414 <span class="keyword">public</span>:
<a name="l03421"></a>03421     ListIterator(ObjList&amp; list, <span class="keywordtype">int</span> offset = 0);
<a name="l03422"></a>03422 
<a name="l03429"></a>03429     ListIterator(HashList&amp; list, <span class="keywordtype">int</span> offset = 0);
<a name="l03430"></a>03430 
<a name="l03434"></a>03434     ~ListIterator();
<a name="l03435"></a>03435 
<a name="l03440"></a><a class="code" href="classTelEngine_1_1ListIterator.html#def4df49627e93e9be26936447917e68">03440</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l03441"></a>03441 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length; }
<a name="l03442"></a>03442 
<a name="l03446"></a>03446     <span class="keywordtype">void</span> clear();
<a name="l03447"></a>03447 
<a name="l03453"></a>03453     <span class="keywordtype">void</span> assign(ObjList&amp; list, <span class="keywordtype">int</span> offset = 0);
<a name="l03454"></a>03454 
<a name="l03460"></a>03460     <span class="keywordtype">void</span> assign(HashList&amp; list, <span class="keywordtype">int</span> offset = 0);
<a name="l03461"></a>03461 
<a name="l03468"></a>03468     GenObject* <span class="keyword">get</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l03469"></a>03469 
<a name="l03482"></a>03482     GenObject* <span class="keyword">get</span>();
<a name="l03483"></a>03483 
<a name="l03488"></a><a class="code" href="classTelEngine_1_1ListIterator.html#f3418ac60d0d7a303478f29a387feb3c">03488</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> eof()<span class="keyword"> const</span>
<a name="l03489"></a>03489 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_current &gt;= m_length; }
<a name="l03490"></a>03490 
<a name="l03494"></a><a class="code" href="classTelEngine_1_1ListIterator.html#d20897c5c8bd47f5d4005989bead0e55">03494</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> reset()
<a name="l03495"></a>03495         { m_current = 0; }
<a name="l03496"></a>03496 
<a name="l03497"></a>03497 <span class="keyword">private</span>:
<a name="l03498"></a>03498     ObjList* m_objList;
<a name="l03499"></a>03499     HashList* m_hashList;
<a name="l03500"></a>03500     GenObject** m_objects;
<a name="l03501"></a>03501     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* m_hashes;
<a name="l03502"></a>03502     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_length;
<a name="l03503"></a>03503     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_current;
<a name="l03504"></a>03504 };
<a name="l03505"></a>03505 
<a name="l03510"></a><a class="code" href="classTelEngine_1_1Time.html">03510</a> <span class="keyword">class </span>YATE_API Time
<a name="l03511"></a>03511 {
<a name="l03512"></a>03512 <span class="keyword">public</span>:
<a name="l03516"></a><a class="code" href="classTelEngine_1_1Time.html#38b0285424ae98cbe324c635b300c750">03516</a>     <span class="keyword">inline</span> Time()
<a name="l03517"></a>03517         : m_time(now())
<a name="l03518"></a>03518         { }
<a name="l03519"></a>03519 
<a name="l03524"></a><a class="code" href="classTelEngine_1_1Time.html#74e56c5d08ed367957540f18127d07c0">03524</a>     <span class="keyword">inline</span> Time(u_int64_t usec)
<a name="l03525"></a>03525         : m_time(usec)
<a name="l03526"></a>03526         { }
<a name="l03527"></a>03527 
<a name="l03532"></a><a class="code" href="classTelEngine_1_1Time.html#b011213330168ab1ab55def659d468de">03532</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> Time(<span class="keyword">const</span> <span class="keyword">struct</span> timeval* tv)
<a name="l03533"></a>03533         : m_time(fromTimeval(tv))
<a name="l03534"></a>03534         { }
<a name="l03535"></a>03535 
<a name="l03540"></a><a class="code" href="classTelEngine_1_1Time.html#a4738620b596d405a23d2db6084786f7">03540</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> Time(<span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; tv)
<a name="l03541"></a>03541         : m_time(fromTimeval(tv))
<a name="l03542"></a>03542         { }
<a name="l03543"></a>03543 
<a name="l03548"></a><a class="code" href="classTelEngine_1_1Time.html#f3bc16485bfe955f9cd4ebde7399c135">03548</a>     <span class="keyword">inline</span> ~Time()
<a name="l03549"></a>03549         { }
<a name="l03550"></a>03550 
<a name="l03555"></a><a class="code" href="classTelEngine_1_1Time.html#e2ec152ad164195a486c90963e6a4e8a">03555</a>     <span class="keyword">inline</span> u_int32_t sec()<span class="keyword"> const</span>
<a name="l03556"></a>03556 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (u_int32_t)((m_time+500000) / 1000000); }
<a name="l03557"></a>03557 
<a name="l03562"></a><a class="code" href="classTelEngine_1_1Time.html#870067c30d4921fc90049bfb475157fd">03562</a>     <span class="keyword">inline</span> u_int64_t msec()<span class="keyword"> const</span>
<a name="l03563"></a>03563 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (m_time+500) / 1000; }
<a name="l03564"></a>03564 
<a name="l03569"></a><a class="code" href="classTelEngine_1_1Time.html#aa47ae2cfc897a5a7b4bd3a5fe6e816b">03569</a>     <span class="keyword">inline</span> u_int64_t usec()<span class="keyword"> const</span>
<a name="l03570"></a>03570 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_time; }
<a name="l03571"></a>03571 
<a name="l03575"></a><a class="code" href="classTelEngine_1_1Time.html#74b2b2401eff7e903c5ebd862e5d2431">03575</a>     <span class="keyword">inline</span> operator u_int64_t()<span class="keyword"> const</span>
<a name="l03576"></a>03576 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_time; }
<a name="l03577"></a>03577 
<a name="l03581"></a><a class="code" href="classTelEngine_1_1Time.html#5b6aca736b36f851c5db85bcd2d829e6">03581</a>     <span class="keyword">inline</span> Time&amp; operator=(u_int64_t usec)
<a name="l03582"></a>03582         { m_time = usec; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03583"></a>03583 
<a name="l03587"></a><a class="code" href="classTelEngine_1_1Time.html#6d359a0d721dd15bf03438ac0e862eb7">03587</a>     <span class="keyword">inline</span> Time&amp; operator+=(int64_t delta)
<a name="l03588"></a>03588         { m_time += delta; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03589"></a>03589 
<a name="l03593"></a><a class="code" href="classTelEngine_1_1Time.html#f6832a66f6823bf6b57726f3673cde7a">03593</a>     <span class="keyword">inline</span> Time&amp; operator-=(int64_t delta)
<a name="l03594"></a>03594         { m_time -= delta; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03595"></a>03595 
<a name="l03600"></a><a class="code" href="classTelEngine_1_1Time.html#5997ae5638b1b02df19d2b52461009de">03600</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> toTimeval(<span class="keyword">struct</span> timeval* tv)<span class="keyword"> const</span>
<a name="l03601"></a>03601 <span class="keyword">        </span>{ toTimeval(tv, m_time); }
<a name="l03602"></a>03602 
<a name="l03608"></a>03608     <span class="keyword">static</span> <span class="keywordtype">void</span> toTimeval(<span class="keyword">struct</span> timeval* tv, u_int64_t usec);
<a name="l03609"></a>03609 
<a name="l03615"></a>03615     <span class="keyword">static</span> u_int64_t fromTimeval(<span class="keyword">const</span> <span class="keyword">struct</span> timeval* tv);
<a name="l03616"></a>03616 
<a name="l03622"></a><a class="code" href="classTelEngine_1_1Time.html#9d21ad9047d55d4797918c345a5defaf">03622</a>     <span class="keyword">inline</span> <span class="keyword">static</span> u_int64_t fromTimeval(<span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; tv)
<a name="l03623"></a>03623         { <span class="keywordflow">return</span> fromTimeval(&amp;tv); }
<a name="l03624"></a>03624 
<a name="l03629"></a>03629     <span class="keyword">static</span> u_int64_t now();
<a name="l03630"></a>03630 
<a name="l03635"></a>03635     <span class="keyword">static</span> u_int64_t msecNow();
<a name="l03636"></a>03636 
<a name="l03641"></a>03641     <span class="keyword">static</span> u_int32_t secNow();
<a name="l03642"></a>03642 
<a name="l03656"></a>03656     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> toEpoch(<span class="keywordtype">int</span> year, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> month, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> day,
<a name="l03657"></a>03657         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hour, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> minute, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sec, <span class="keywordtype">int</span> offset = 0);
<a name="l03658"></a>03658 
<a name="l03671"></a>03671     <span class="keyword">static</span> <span class="keywordtype">bool</span> toDateTime(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> epochTimeSec, <span class="keywordtype">int</span>&amp; year, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; month,
<a name="l03672"></a>03672         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; day, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; hour, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; minute, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; sec,
<a name="l03673"></a>03673         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>* wDay = 0);
<a name="l03674"></a>03674 
<a name="l03680"></a><a class="code" href="classTelEngine_1_1Time.html#f073f2a2fd8f622a58ecddafc38fdffb">03680</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> isLeap(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> year)
<a name="l03681"></a>03681         { <span class="keywordflow">return</span> (year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0)); }
<a name="l03682"></a>03682 
<a name="l03687"></a>03687     <span class="keyword">static</span> <span class="keywordtype">int</span> timeZone();
<a name="l03688"></a>03688 
<a name="l03689"></a>03689 <span class="keyword">private</span>:
<a name="l03690"></a>03690     u_int64_t m_time;
<a name="l03691"></a>03691 };
<a name="l03692"></a>03692 
<a name="l03697"></a><a class="code" href="classTelEngine_1_1Random.html">03697</a> <span class="keyword">class </span>YATE_API Random
<a name="l03698"></a>03698 {
<a name="l03699"></a>03699 <span class="keyword">public</span>:
<a name="l03704"></a><a class="code" href="classTelEngine_1_1Random.html#3e78505de1f20f5d026d177f47fe4384">03704</a>     <span class="keyword">inline</span> Random(u_int32_t seed = <a class="code" href="classTelEngine_1_1Time.html#b62093380bacdfa8db33101ec59e3d2d">Time::now</a>() &amp; 0xffffffff)
<a name="l03705"></a>03705         : m_random(seed)
<a name="l03706"></a>03706         { }
<a name="l03707"></a>03707 
<a name="l03712"></a><a class="code" href="classTelEngine_1_1Random.html#29d39a9fb5f97653a3f8db3de6c5bb16">03712</a>     <span class="keyword">inline</span> u_int32_t <span class="keyword">get</span>() <span class="keyword">const</span>
<a name="l03713"></a>03713         { <span class="keywordflow">return</span> m_random; }
<a name="l03714"></a>03714 
<a name="l03719"></a><a class="code" href="classTelEngine_1_1Random.html#57cff309e3b28495ad72300cd13265c4">03719</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">set</span>(u_int32_t seed)
<a name="l03720"></a>03720         { m_random = seed; }
<a name="l03721"></a>03721 
<a name="l03726"></a>03726     u_int32_t next();
<a name="l03727"></a>03727 
<a name="l03732"></a>03732     <span class="keyword">static</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> random();
<a name="l03733"></a>03733 
<a name="l03738"></a>03738     <span class="keyword">static</span> <span class="keywordtype">void</span> srandom(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seed);
<a name="l03739"></a>03739 
<a name="l03740"></a>03740 <span class="keyword">private</span>:
<a name="l03741"></a>03741     u_int32_t m_random;
<a name="l03742"></a>03742 };
<a name="l03743"></a>03743 
<a name="l03748"></a><a class="code" href="classTelEngine_1_1DataBlock.html">03748</a> <span class="keyword">class </span>YATE_API DataBlock : <span class="keyword">public</span> GenObject
<a name="l03749"></a>03749 {
<a name="l03750"></a>03750 <span class="keyword">public</span>:
<a name="l03751"></a>03751 
<a name="l03756"></a>03756     DataBlock(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> overAlloc = 0);
<a name="l03757"></a>03757 
<a name="l03762"></a>03762     DataBlock(<span class="keyword">const</span> DataBlock&amp; value);
<a name="l03763"></a>03763 
<a name="l03769"></a>03769     DataBlock(<span class="keyword">const</span> DataBlock&amp; value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> overAlloc);
<a name="l03770"></a>03770 
<a name="l03778"></a>03778     DataBlock(<span class="keywordtype">void</span>* value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> overAlloc = 0);
<a name="l03779"></a>03779 
<a name="l03783"></a>03783     <span class="keyword">virtual</span> ~DataBlock();
<a name="l03784"></a>03784 
<a name="l03790"></a>03790     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l03791"></a>03791 
<a name="l03795"></a>03795     <span class="keyword">static</span> <span class="keyword">const</span> DataBlock&amp; empty();
<a name="l03796"></a>03796 
<a name="l03801"></a><a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">03801</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span>* data()<span class="keyword"> const</span>
<a name="l03802"></a>03802 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data; }
<a name="l03803"></a>03803 
<a name="l03810"></a><a class="code" href="classTelEngine_1_1DataBlock.html#97e3748124ee744d336249602c755670">03810</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offs, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len = 1)<span class="keyword"> const</span>
<a name="l03811"></a>03811 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (offs + len &lt;= m_length) ? (<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(m_data) + offs) : 0; }
<a name="l03812"></a>03812 
<a name="l03819"></a><a class="code" href="classTelEngine_1_1DataBlock.html#0c916af535d3f8161f3df86da62294d8">03819</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> at(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offs, <span class="keywordtype">int</span> defvalue = -1)<span class="keyword"> const</span>
<a name="l03820"></a>03820 <span class="keyword">        </span>{ <span class="keywordflow">return</span> (offs &lt; m_length) ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(m_data)[offs] : defvalue; }
<a name="l03821"></a>03821 
<a name="l03826"></a><a class="code" href="classTelEngine_1_1DataBlock.html#5fc3ccc049f9327dc84116f44bde5c26">03826</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>()<span class="keyword"> const</span>
<a name="l03827"></a>03827 <span class="keyword">        </span>{ <span class="keywordflow">return</span> !m_data; }
<a name="l03828"></a>03828 
<a name="l03833"></a><a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">03833</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l03834"></a>03834 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length; }
<a name="l03835"></a>03835 
<a name="l03840"></a><a class="code" href="classTelEngine_1_1DataBlock.html#dd3f6de1329695553d1e337fd1c70bf8">03840</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> overAlloc()<span class="keyword"> const</span>
<a name="l03841"></a>03841 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_overAlloc; }
<a name="l03842"></a>03842 
<a name="l03847"></a><a class="code" href="classTelEngine_1_1DataBlock.html#10068c5cb040e35fdcd033894c26da3c">03847</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> overAlloc(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bytes)
<a name="l03848"></a>03848         { m_overAlloc = bytes; }
<a name="l03849"></a>03849 
<a name="l03854"></a>03854     <span class="keywordtype">void</span> clear(<span class="keywordtype">bool</span> deleteData = <span class="keyword">true</span>);
<a name="l03855"></a>03855 
<a name="l03863"></a>03863     DataBlock&amp; assign(<span class="keywordtype">void</span>* value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> allocated = 0);
<a name="l03864"></a>03864 
<a name="l03870"></a><a class="code" href="classTelEngine_1_1DataBlock.html#9cb7273cd356dc471d734ba3fa14b1c9">03870</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> append(<span class="keywordtype">void</span>* value, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) {
<a name="l03871"></a>03871             DataBlock tmp(value,len,<span class="keyword">false</span>);
<a name="l03872"></a>03872             append(tmp);
<a name="l03873"></a>03873             tmp.<a class="code" href="classTelEngine_1_1DataBlock.html#7927d7a1ef8f8c13a1ba9d90ad352c49">clear</a>(<span class="keyword">false</span>);
<a name="l03874"></a>03874         }
<a name="l03875"></a>03875 
<a name="l03880"></a>03880     <span class="keywordtype">void</span> append(<span class="keyword">const</span> DataBlock&amp; value);
<a name="l03881"></a>03881 
<a name="l03886"></a>03886     <span class="keywordtype">void</span> append(<span class="keyword">const</span> String&amp; value);
<a name="l03887"></a>03887 
<a name="l03892"></a>03892     <span class="keywordtype">void</span> insert(<span class="keyword">const</span> DataBlock&amp; value);
<a name="l03893"></a>03893 
<a name="l03898"></a><a class="code" href="classTelEngine_1_1DataBlock.html#cdad31483d5f0988243efeaf5fa399ab">03898</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> resize(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) {
<a name="l03899"></a>03899             <span class="keywordflow">if</span> (len != length())
<a name="l03900"></a>03900                 assign(0,len);
<a name="l03901"></a>03901         }
<a name="l03902"></a>03902 
<a name="l03907"></a>03907     <span class="keywordtype">void</span> truncate(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l03908"></a>03908 
<a name="l03913"></a>03913     <span class="keywordtype">void</span> cut(<span class="keywordtype">int</span> len);
<a name="l03914"></a>03914 
<a name="l03920"></a><a class="code" href="classTelEngine_1_1DataBlock.html#c1a7ec251ca8963bac5e0549b3db7b43">03920</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> operator[](<span class="keywordtype">signed</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l03921"></a>03921 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l03922"></a>03922 
<a name="l03928"></a><a class="code" href="classTelEngine_1_1DataBlock.html#7714dcc88a0652158be6015dd9cdefa8">03928</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> operator[](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l03929"></a>03929 <span class="keyword">        </span>{ <span class="keywordflow">return</span> at(index); }
<a name="l03930"></a>03930 
<a name="l03934"></a>03934     DataBlock&amp; operator=(<span class="keyword">const</span> DataBlock&amp; value);
<a name="l03935"></a>03935 
<a name="l03939"></a><a class="code" href="classTelEngine_1_1DataBlock.html#f6cc67bfc0ae6e0c524ccbd93848d872">03939</a>     <span class="keyword">inline</span> DataBlock&amp; operator+=(<span class="keyword">const</span> DataBlock&amp; value)
<a name="l03940"></a>03940         { append(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03941"></a>03941 
<a name="l03945"></a><a class="code" href="classTelEngine_1_1DataBlock.html#fa96541521593480f1151f9e12f28a43">03945</a>     <span class="keyword">inline</span> DataBlock&amp; operator+=(<span class="keyword">const</span> String&amp; value)
<a name="l03946"></a>03946         { append(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l03947"></a>03947 
<a name="l03956"></a>03956     <span class="keywordtype">bool</span> convert(<span class="keyword">const</span> DataBlock&amp; src, <span class="keyword">const</span> String&amp; sFormat,
<a name="l03957"></a>03957         <span class="keyword">const</span> String&amp; dFormat, <span class="keywordtype">unsigned</span> maxlen = 0);
<a name="l03958"></a>03958 
<a name="l03969"></a>03969     <span class="keywordtype">bool</span> unHexify(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">char</span> sep);
<a name="l03970"></a>03970 
<a name="l03980"></a>03980     <span class="keywordtype">bool</span> unHexify(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l03981"></a>03981 
<a name="l03988"></a><a class="code" href="classTelEngine_1_1DataBlock.html#7f62f4ee1691ff29a3afb800aa34a41b">03988</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> unHexify(<span class="keyword">const</span> String&amp; data)
<a name="l03989"></a>03989         { <span class="keywordflow">return</span> unHexify(data.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),data.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l03990"></a>03990 
<a name="l03996"></a>03996     String sqlEscape(<span class="keywordtype">char</span> extraEsc) <span class="keyword">const</span>;
<a name="l03997"></a>03997 
<a name="l03998"></a>03998 <span class="keyword">private</span>:
<a name="l03999"></a>03999     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> allocLen(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) <span class="keyword">const</span>;
<a name="l04000"></a>04000     <span class="keywordtype">void</span>* m_data;
<a name="l04001"></a>04001     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_length;
<a name="l04002"></a>04002     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_allocated;
<a name="l04003"></a>04003     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_overAlloc;
<a name="l04004"></a>04004 };
<a name="l04005"></a>04005 
<a name="l04010"></a><a class="code" href="classTelEngine_1_1Hasher.html">04010</a> <span class="keyword">class </span>YATE_API Hasher
<a name="l04011"></a>04011 {
<a name="l04012"></a>04012 <span class="keyword">public</span>:
<a name="l04016"></a>04016     <span class="keyword">virtual</span> ~Hasher();
<a name="l04017"></a>04017 
<a name="l04021"></a>04021     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear() = 0;
<a name="l04022"></a>04022 
<a name="l04027"></a>04027     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize() = 0;
<a name="l04028"></a>04028 
<a name="l04034"></a>04034     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* rawDigest() = 0;
<a name="l04035"></a>04035 
<a name="l04041"></a><a class="code" href="classTelEngine_1_1Hasher.html#925b8fdc2eedabef09029bed7b3240d3">04041</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; hexDigest()
<a name="l04042"></a>04042         { finalize(); <span class="keywordflow">return</span> m_hex; }
<a name="l04043"></a>04043 
<a name="l04050"></a><a class="code" href="classTelEngine_1_1Hasher.html#338424c8eff2c19f8678566bdc4bb0e3">04050</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> update(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len)
<a name="l04051"></a>04051         { <span class="keywordflow">return</span> updateInternal(buf,len); }
<a name="l04052"></a>04052 
<a name="l04058"></a><a class="code" href="classTelEngine_1_1Hasher.html#038d6fad24e41574284fabb4e843fe15">04058</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> update(<span class="keyword">const</span> DataBlock&amp; data)
<a name="l04059"></a>04059         { <span class="keywordflow">return</span> updateInternal(data.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(), data.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04060"></a>04060 
<a name="l04066"></a><a class="code" href="classTelEngine_1_1Hasher.html#90da6b0fb889efc49850de8fe4b6d5d7">04066</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> update(<span class="keyword">const</span> String&amp; str)
<a name="l04067"></a>04067         { <span class="keywordflow">return</span> updateInternal(str.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(), str.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04068"></a>04068 
<a name="l04073"></a><a class="code" href="classTelEngine_1_1Hasher.html#de37b166ac5b6ae3adfa1e88e896dbbe">04073</a>     <span class="keyword">inline</span> Hasher&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> String&amp; value)
<a name="l04074"></a>04074         { update(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04075"></a>04075 
<a name="l04080"></a><a class="code" href="classTelEngine_1_1Hasher.html#8bfff069b3d45c116a642f3443cad86b">04080</a>     <span class="keyword">inline</span> Hasher&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> DataBlock&amp; data)
<a name="l04081"></a>04081         { update(data); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04082"></a>04082 
<a name="l04087"></a>04087     Hasher&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value);
<a name="l04088"></a>04088 
<a name="l04096"></a>04096     <span class="keywordtype">bool</span> hmacStart(DataBlock&amp; opad, <span class="keyword">const</span> <span class="keywordtype">void</span>* key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyLen);
<a name="l04097"></a>04097 
<a name="l04104"></a><a class="code" href="classTelEngine_1_1Hasher.html#f3e90f3834084a7f39a39479927fda8e">04104</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> hmacStart(DataBlock&amp; opad, <span class="keyword">const</span> DataBlock&amp; key)
<a name="l04105"></a>04105         { <span class="keywordflow">return</span> hmacStart(opad,key.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),key.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04106"></a>04106 
<a name="l04113"></a><a class="code" href="classTelEngine_1_1Hasher.html#2c8e4e8b3cc6d3290480f0ba01e426d4">04113</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> hmacStart(DataBlock&amp; opad, <span class="keyword">const</span> String&amp; key)
<a name="l04114"></a>04114         { <span class="keywordflow">return</span> hmacStart(opad,key.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),key.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04115"></a>04115 
<a name="l04121"></a>04121     <span class="keywordtype">bool</span> hmacFinal(<span class="keyword">const</span> DataBlock&amp; opad);
<a name="l04122"></a>04122 
<a name="l04131"></a>04131     <span class="keywordtype">bool</span> hmac(<span class="keyword">const</span> <span class="keywordtype">void</span>* key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyLen, <span class="keyword">const</span> <span class="keywordtype">void</span>* msg, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> msgLen);
<a name="l04132"></a>04132 
<a name="l04139"></a><a class="code" href="classTelEngine_1_1Hasher.html#768050fd539386bce36812b11685adf3">04139</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> hmac(<span class="keyword">const</span> DataBlock&amp; key, <span class="keyword">const</span> DataBlock&amp; msg)
<a name="l04140"></a>04140         { <span class="keywordflow">return</span> hmac(key.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),key.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>(),msg.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),msg.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04141"></a>04141 
<a name="l04148"></a><a class="code" href="classTelEngine_1_1Hasher.html#b1dc47e39bdc476783c62404b6ebba2e">04148</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> hmac(<span class="keyword">const</span> String&amp; key, <span class="keyword">const</span> String&amp; msg)
<a name="l04149"></a>04149         { <span class="keywordflow">return</span> hmac(key.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),key.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>(),msg.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),msg.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l04150"></a>04150 
<a name="l04155"></a>04155     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashLength() <span class="keyword">const</span> = 0;
<a name="l04156"></a>04156 
<a name="l04161"></a>04161     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hmacBlockSize() <span class="keyword">const</span>;
<a name="l04162"></a>04162 
<a name="l04163"></a>04163 <span class="keyword">protected</span>:
<a name="l04167"></a><a class="code" href="classTelEngine_1_1Hasher.html#69aaddeb0d5d10f67d822c78af596567">04167</a>     <span class="keyword">inline</span> Hasher()
<a name="l04168"></a>04168         : m_private(0)
<a name="l04169"></a>04169         { }
<a name="l04170"></a>04170 
<a name="l04177"></a>04177     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> updateInternal(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) = 0;
<a name="l04178"></a>04178 
<a name="l04179"></a>04179     <span class="keywordtype">void</span>* m_private;
<a name="l04180"></a>04180     String m_hex;
<a name="l04181"></a>04181 };
<a name="l04182"></a>04182 
<a name="l04187"></a><a class="code" href="classTelEngine_1_1MD5.html">04187</a> <span class="keyword">class </span>YATE_API MD5 : <span class="keyword">public</span> Hasher
<a name="l04188"></a>04188 {
<a name="l04189"></a>04189 <span class="keyword">public</span>:
<a name="l04193"></a>04193     MD5();
<a name="l04194"></a>04194 
<a name="l04199"></a>04199     MD5(<span class="keyword">const</span> MD5&amp; original);
<a name="l04200"></a>04200 
<a name="l04206"></a>04206     MD5(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04207"></a>04207 
<a name="l04212"></a>04212     MD5(<span class="keyword">const</span> DataBlock&amp; data);
<a name="l04213"></a>04213 
<a name="l04218"></a>04218     MD5(<span class="keyword">const</span> String&amp; str);
<a name="l04219"></a>04219 
<a name="l04223"></a>04223     MD5&amp; operator=(<span class="keyword">const</span> MD5&amp; original);
<a name="l04224"></a>04224 
<a name="l04228"></a>04228     <span class="keyword">virtual</span> ~MD5();
<a name="l04229"></a>04229 
<a name="l04233"></a>04233     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear();
<a name="l04234"></a>04234 
<a name="l04239"></a>04239     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize();
<a name="l04240"></a>04240 
<a name="l04246"></a>04246     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* rawDigest();
<a name="l04247"></a>04247 
<a name="l04252"></a><a class="code" href="classTelEngine_1_1MD5.html#1eee5b9025f0a40e2f97478e24597880">04252</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rawLength()
<a name="l04253"></a>04253         { <span class="keywordflow">return</span> 16; }
<a name="l04254"></a>04254 
<a name="l04259"></a><a class="code" href="classTelEngine_1_1MD5.html#fccee74c3fa63a223eb55f749b2ce669">04259</a>     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashLength()<span class="keyword"> const</span>
<a name="l04260"></a>04260 <span class="keyword">        </span>{ <span class="keywordflow">return</span> 16; }
<a name="l04261"></a>04261 
<a name="l04262"></a>04262 <span class="keyword">protected</span>:
<a name="l04263"></a>04263     <span class="keywordtype">bool</span> updateInternal(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04264"></a>04264 
<a name="l04265"></a>04265 <span class="keyword">private</span>:
<a name="l04266"></a>04266     <span class="keywordtype">void</span> init();
<a name="l04267"></a>04267     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> m_bin[16];
<a name="l04268"></a>04268 };
<a name="l04269"></a>04269 
<a name="l04274"></a><a class="code" href="classTelEngine_1_1SHA1.html">04274</a> <span class="keyword">class </span>YATE_API SHA1 : <span class="keyword">public</span> Hasher
<a name="l04275"></a>04275 {
<a name="l04276"></a>04276 <span class="keyword">public</span>:
<a name="l04280"></a>04280     SHA1();
<a name="l04281"></a>04281 
<a name="l04286"></a>04286     SHA1(<span class="keyword">const</span> SHA1&amp; original);
<a name="l04287"></a>04287 
<a name="l04293"></a>04293     SHA1(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04294"></a>04294 
<a name="l04299"></a>04299     SHA1(<span class="keyword">const</span> DataBlock&amp; data);
<a name="l04300"></a>04300 
<a name="l04305"></a>04305     SHA1(<span class="keyword">const</span> String&amp; str);
<a name="l04306"></a>04306 
<a name="l04310"></a>04310     SHA1&amp; operator=(<span class="keyword">const</span> SHA1&amp; original);
<a name="l04311"></a>04311 
<a name="l04315"></a>04315     <span class="keyword">virtual</span> ~SHA1();
<a name="l04316"></a>04316 
<a name="l04320"></a>04320     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear();
<a name="l04321"></a>04321 
<a name="l04326"></a>04326     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize();
<a name="l04327"></a>04327 
<a name="l04333"></a>04333     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* rawDigest();
<a name="l04334"></a>04334 
<a name="l04339"></a><a class="code" href="classTelEngine_1_1SHA1.html#1eee5b9025f0a40e2f97478e24597880">04339</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rawLength()
<a name="l04340"></a>04340         { <span class="keywordflow">return</span> 20; }
<a name="l04341"></a>04341 
<a name="l04346"></a><a class="code" href="classTelEngine_1_1SHA1.html#fccee74c3fa63a223eb55f749b2ce669">04346</a>     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashLength()<span class="keyword"> const</span>
<a name="l04347"></a>04347 <span class="keyword">        </span>{ <span class="keywordflow">return</span> 20; }
<a name="l04348"></a>04348 
<a name="l04357"></a>04357     <span class="keyword">static</span> <span class="keywordtype">bool</span> fips186prf(DataBlock&amp; out, <span class="keyword">const</span> DataBlock&amp; seed, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04358"></a>04358 
<a name="l04359"></a>04359 <span class="keyword">protected</span>:
<a name="l04360"></a>04360     <span class="keywordtype">bool</span> updateInternal(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04361"></a>04361 
<a name="l04362"></a>04362 <span class="keyword">private</span>:
<a name="l04363"></a>04363     <span class="keywordtype">void</span> init();
<a name="l04364"></a>04364     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> m_bin[20];
<a name="l04365"></a>04365 };
<a name="l04366"></a>04366 
<a name="l04371"></a><a class="code" href="classTelEngine_1_1SHA256.html">04371</a> <span class="keyword">class </span>YATE_API SHA256 : <span class="keyword">public</span> Hasher
<a name="l04372"></a>04372 {
<a name="l04373"></a>04373 <span class="keyword">public</span>:
<a name="l04377"></a>04377     SHA256();
<a name="l04378"></a>04378 
<a name="l04383"></a>04383     SHA256(<span class="keyword">const</span> SHA256&amp; original);
<a name="l04384"></a>04384 
<a name="l04390"></a>04390     SHA256(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04391"></a>04391 
<a name="l04396"></a>04396     SHA256(<span class="keyword">const</span> DataBlock&amp; data);
<a name="l04397"></a>04397 
<a name="l04402"></a>04402     SHA256(<span class="keyword">const</span> String&amp; str);
<a name="l04403"></a>04403 
<a name="l04407"></a>04407     SHA256&amp; operator=(<span class="keyword">const</span> SHA256&amp; original);
<a name="l04408"></a>04408 
<a name="l04412"></a>04412     <span class="keyword">virtual</span> ~SHA256();
<a name="l04413"></a>04413 
<a name="l04417"></a>04417     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear();
<a name="l04418"></a>04418 
<a name="l04423"></a>04423     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize();
<a name="l04424"></a>04424 
<a name="l04430"></a>04430     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* rawDigest();
<a name="l04431"></a>04431 
<a name="l04436"></a><a class="code" href="classTelEngine_1_1SHA256.html#1eee5b9025f0a40e2f97478e24597880">04436</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rawLength()
<a name="l04437"></a>04437         { <span class="keywordflow">return</span> 32; }
<a name="l04438"></a>04438 
<a name="l04443"></a><a class="code" href="classTelEngine_1_1SHA256.html#fccee74c3fa63a223eb55f749b2ce669">04443</a>     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hashLength()<span class="keyword"> const</span>
<a name="l04444"></a>04444 <span class="keyword">        </span>{ <span class="keywordflow">return</span> 32; }
<a name="l04445"></a>04445 
<a name="l04446"></a>04446 <span class="keyword">protected</span>:
<a name="l04447"></a>04447     <span class="keywordtype">bool</span> updateInternal(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);
<a name="l04448"></a>04448 
<a name="l04449"></a>04449 <span class="keyword">private</span>:
<a name="l04450"></a>04450     <span class="keywordtype">void</span> init();
<a name="l04451"></a>04451     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> m_bin[32];
<a name="l04452"></a>04452 };
<a name="l04453"></a>04453 
<a name="l04458"></a><a class="code" href="classTelEngine_1_1Base64.html">04458</a> <span class="keyword">class </span>YATE_API Base64 : <span class="keyword">public</span> DataBlock
<a name="l04459"></a>04459 {
<a name="l04460"></a>04460     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Base64); <span class="comment">// no automatic copies please</span>
<a name="l04461"></a>04461 <span class="keyword">public</span>:
<a name="l04465"></a><a class="code" href="classTelEngine_1_1Base64.html#9dc5c821c74246b29a7059933b930e6d">04465</a>     <span class="keyword">inline</span> Base64()
<a name="l04466"></a>04466         { }
<a name="l04467"></a>04467 
<a name="l04474"></a><a class="code" href="classTelEngine_1_1Base64.html#30155b9ed8298af321be03bd232a20b7">04474</a>     <span class="keyword">inline</span> Base64(<span class="keywordtype">void</span>* src, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">bool</span> copyData = <span class="keyword">true</span>)
<a name="l04475"></a>04475         : DataBlock(src,len,copyData)
<a name="l04476"></a>04476         { }
<a name="l04477"></a>04477 
<a name="l04487"></a>04487     <span class="keywordtype">void</span> encode(String&amp; dest, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lineLen = 0, <span class="keywordtype">bool</span> lineAtEnd = <span class="keyword">false</span>);
<a name="l04488"></a>04488 
<a name="l04500"></a>04500     <span class="keywordtype">bool</span> decode(DataBlock&amp; dest, <span class="keywordtype">bool</span> liberal = <span class="keyword">true</span>);
<a name="l04501"></a>04501 
<a name="l04505"></a><a class="code" href="classTelEngine_1_1Base64.html#c8168a74543a7a4c9a834c8ac0ddc6d1">04505</a>     <span class="keyword">inline</span> Base64&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> String&amp; value)
<a name="l04506"></a>04506         { append(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04507"></a>04507 
<a name="l04511"></a><a class="code" href="classTelEngine_1_1Base64.html#97db27728f69d83aa27ef1569c40a7e1">04511</a>     <span class="keyword">inline</span> Base64&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> DataBlock&amp; data)
<a name="l04512"></a>04512         { append(data); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04513"></a>04513 
<a name="l04517"></a><a class="code" href="classTelEngine_1_1Base64.html#79013f12cbbd7990cdadc06f93d89ea2">04517</a>     <span class="keyword">inline</span> Base64&amp; <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l04518"></a>04518         { <span class="keywordflow">return</span> <a class="code" href="namespaceTelEngine.html#fa96623e101d8771d766f622115f0ea3">operator&lt;&lt;</a>(String(value)); }
<a name="l04519"></a>04519 };
<a name="l04520"></a>04520 
<a name="l04521"></a>04521 <span class="keyword">class </span>NamedIterator;
<a name="l04522"></a>04522 
<a name="l04527"></a><a class="code" href="classTelEngine_1_1NamedList.html">04527</a> <span class="keyword">class </span>YATE_API NamedList : <span class="keyword">public</span> String
<a name="l04528"></a>04528 {
<a name="l04529"></a>04529     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1NamedIterator.html" title="NamedList parameters iterator.">NamedIterator</a>;
<a name="l04530"></a>04530 <span class="keyword">public</span>:
<a name="l04535"></a>04535     <span class="keyword">explicit</span> NamedList(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
<a name="l04536"></a>04536 
<a name="l04541"></a>04541     NamedList(<span class="keyword">const</span> NamedList&amp; original);
<a name="l04542"></a>04542 
<a name="l04549"></a>04549     NamedList(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> NamedList&amp; original, <span class="keyword">const</span> String&amp; prefix);
<a name="l04550"></a>04550 
<a name="l04556"></a>04556     NamedList&amp; operator=(<span class="keyword">const</span> NamedList&amp; value);
<a name="l04557"></a>04557 
<a name="l04563"></a>04563     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l04564"></a>04564 
<a name="l04569"></a><a class="code" href="classTelEngine_1_1NamedList.html#def4df49627e93e9be26936447917e68">04569</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length()<span class="keyword"> const</span>
<a name="l04570"></a>04570 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_params.length(); }
<a name="l04571"></a>04571 
<a name="l04576"></a><a class="code" href="classTelEngine_1_1NamedList.html#cf69b4cb547f80415cf2ab4a9a9e589c">04576</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count()<span class="keyword"> const</span>
<a name="l04577"></a>04577 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_params.count(); }
<a name="l04578"></a>04578 
<a name="l04582"></a><a class="code" href="classTelEngine_1_1NamedList.html#223d634678ebe1cc155fa3942e5c2b07">04582</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> clearParams()
<a name="l04583"></a>04583         { m_params.clear(); }
<a name="l04584"></a>04584 
<a name="l04590"></a>04590     NamedList&amp; addParam(NamedString* param);
<a name="l04591"></a>04591 
<a name="l04599"></a>04599     NamedList&amp; addParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value, <span class="keywordtype">bool</span> emptyOK = <span class="keyword">true</span>);
<a name="l04600"></a>04600 
<a name="l04606"></a><a class="code" href="classTelEngine_1_1NamedList.html#7b09babdcd36e6e864fb71b2b726f044">04606</a>     <span class="keyword">inline</span> NamedList&amp; setParam(NamedString* param)
<a name="l04607"></a>04607     {
<a name="l04608"></a>04608         <span class="keywordflow">if</span> (param)
<a name="l04609"></a>04609             m_params.setUnique(param);
<a name="l04610"></a>04610         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l04611"></a>04611     }
<a name="l04612"></a>04612 
<a name="l04619"></a>04619     NamedList&amp; setParam(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value);
<a name="l04620"></a>04620 
<a name="l04627"></a>04627     NamedList&amp; clearParam(<span class="keyword">const</span> String&amp; name, <span class="keywordtype">char</span> childSep = 0);
<a name="l04628"></a>04628 
<a name="l04635"></a>04635     NamedList&amp; clearParam(NamedString* param, <span class="keywordtype">bool</span> delParam = <span class="keyword">true</span>);
<a name="l04636"></a>04636 
<a name="l04644"></a>04644     NamedList&amp; copyParam(<span class="keyword">const</span> NamedList&amp; original, <span class="keyword">const</span> String&amp; name, <span class="keywordtype">char</span> childSep = 0);
<a name="l04645"></a>04645 
<a name="l04651"></a>04651     NamedList&amp; copyParams(<span class="keyword">const</span> NamedList&amp; original);
<a name="l04652"></a>04652 
<a name="l04660"></a>04660     NamedList&amp; copyParams(<span class="keyword">const</span> NamedList&amp; original, ObjList* list, <span class="keywordtype">char</span> childSep = 0);
<a name="l04661"></a>04661 
<a name="l04669"></a>04669     NamedList&amp; copyParams(<span class="keyword">const</span> NamedList&amp; original, <span class="keyword">const</span> String&amp; list, <span class="keywordtype">char</span> childSep = 0);
<a name="l04670"></a>04670 
<a name="l04679"></a>04679     NamedList&amp; copySubParams(<span class="keyword">const</span> NamedList&amp; original, <span class="keyword">const</span> String&amp; prefix,
<a name="l04680"></a>04680         <span class="keywordtype">bool</span> skipPrefix = <span class="keyword">true</span>, <span class="keywordtype">bool</span> replace = <span class="keyword">false</span>);
<a name="l04681"></a>04681 
<a name="l04687"></a>04687     <span class="keywordtype">bool</span> hasSubParams(<span class="keyword">const</span> <span class="keywordtype">char</span>* prefix) <span class="keyword">const</span>;
<a name="l04688"></a>04688 
<a name="l04694"></a>04694     <span class="keywordtype">int</span> getIndex(<span class="keyword">const</span> NamedString* param) <span class="keyword">const</span>;
<a name="l04695"></a>04695 
<a name="l04701"></a>04701     <span class="keywordtype">int</span> getIndex(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l04702"></a>04702 
<a name="l04708"></a>04708     NamedString* getParam(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l04709"></a>04709 
<a name="l04715"></a>04715     NamedString* getParam(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l04716"></a>04716 
<a name="l04722"></a>04722     <span class="keyword">const</span> String&amp; operator[](<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l04723"></a>04723 
<a name="l04730"></a>04730     <span class="keyword">const</span> <span class="keywordtype">char</span>* getValue(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <span class="keywordtype">char</span>* defvalue = 0) <span class="keyword">const</span>;
<a name="l04731"></a>04731 
<a name="l04742"></a>04742     <span class="keywordtype">int</span> getIntValue(<span class="keyword">const</span> String&amp; name, <span class="keywordtype">int</span> defvalue = 0, <span class="keywordtype">int</span> minvalue = INT_MIN,
<a name="l04743"></a>04743         <span class="keywordtype">int</span> maxvalue = INT_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l04744"></a>04744 
<a name="l04752"></a>04752     <span class="keywordtype">int</span> getIntValue(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* tokens, <span class="keywordtype">int</span> defvalue = 0) <span class="keyword">const</span>;
<a name="l04753"></a>04753 
<a name="l04764"></a>04764     int64_t getInt64Value(<span class="keyword">const</span> String&amp; name, int64_t defvalue = 0, int64_t minvalue = LLONG_MIN,
<a name="l04765"></a>04765         int64_t maxvalue = LLONG_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l04766"></a>04766 
<a name="l04773"></a>04773     <span class="keywordtype">double</span> getDoubleValue(<span class="keyword">const</span> String&amp; name, <span class="keywordtype">double</span> defvalue = 0.0) <span class="keyword">const</span>;
<a name="l04774"></a>04774 
<a name="l04781"></a>04781     <span class="keywordtype">bool</span> getBoolValue(<span class="keyword">const</span> String&amp; name, <span class="keywordtype">bool</span> defvalue = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l04782"></a>04782 
<a name="l04790"></a>04790     <span class="keywordtype">int</span> replaceParams(String&amp; str, <span class="keywordtype">bool</span> sqlEsc = <span class="keyword">false</span>, <span class="keywordtype">char</span> extraEsc = 0) <span class="keyword">const</span>;
<a name="l04791"></a>04791 
<a name="l04800"></a>04800     <span class="keywordtype">void</span> dump(String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* separator, <span class="keywordtype">char</span> quote = 0, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l04801"></a>04801 
<a name="l04806"></a>04806     <span class="keyword">static</span> <span class="keyword">const</span> NamedList&amp; empty();
<a name="l04807"></a>04807 
<a name="l04812"></a><a class="code" href="classTelEngine_1_1NamedList.html#10497b0f0d0e75853af0a64f802b6201">04812</a>     <span class="keyword">inline</span> ObjList* paramList()
<a name="l04813"></a>04813         { <span class="keywordflow">return</span> &amp;m_params; }
<a name="l04814"></a>04814 
<a name="l04819"></a><a class="code" href="classTelEngine_1_1NamedList.html#3c7436d22ebc032f7ede73c28c7c922a">04819</a>     <span class="keyword">inline</span> <span class="keyword">const</span> ObjList* paramList()<span class="keyword"> const</span>
<a name="l04820"></a>04820 <span class="keyword">        </span>{ <span class="keywordflow">return</span> &amp;m_params; }
<a name="l04821"></a>04821 
<a name="l04822"></a>04822 <span class="keyword">private</span>:
<a name="l04823"></a>04823     NamedList(); <span class="comment">// no default constructor please</span>
<a name="l04824"></a>04824     ObjList m_params;
<a name="l04825"></a>04825 };
<a name="l04826"></a>04826 
<a name="l04832"></a><a class="code" href="classTelEngine_1_1NamedIterator.html">04832</a> <span class="keyword">class </span>YATE_API NamedIterator
<a name="l04833"></a>04833 {
<a name="l04834"></a>04834 <span class="keyword">public</span>:
<a name="l04839"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#d5bba8fdd5c917fcc67f5b5f5734f77f">04839</a>     <span class="keyword">inline</span> NamedIterator(<span class="keyword">const</span> NamedList&amp; list)
<a name="l04840"></a>04840         : m_list(&amp;list), m_item(list.m_params.skipNull())
<a name="l04841"></a>04841         { }
<a name="l04842"></a>04842 
<a name="l04847"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#9f6ac63bf3ae489e02c205425eb10358">04847</a>     <span class="keyword">inline</span> NamedIterator(<span class="keyword">const</span> NamedIterator&amp; original)
<a name="l04848"></a>04848         : m_list(original.m_list), m_item(original.m_item)
<a name="l04849"></a>04849         { }
<a name="l04850"></a>04850 
<a name="l04855"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#421aea4d112154eb206b378593b7b4cc">04855</a>     <span class="keyword">inline</span> NamedIterator&amp; operator=(<span class="keyword">const</span> NamedList&amp; list)
<a name="l04856"></a>04856         { m_list = &amp;list; m_item = list.<a class="code" href="classTelEngine_1_1NamedList.html#584218c362897140506ed92e097210d1">m_params</a>.<a class="code" href="classTelEngine_1_1ObjList.html#96b27e654ace16c524351f89c8c39553">skipNull</a>(); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04857"></a>04857 
<a name="l04862"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#ff5f38edae9b37d7b8edd7e7af7f2cf7">04862</a>     <span class="keyword">inline</span> NamedIterator&amp; operator=(<span class="keyword">const</span> NamedIterator&amp; original)
<a name="l04863"></a>04863         { m_list = original.<a class="code" href="classTelEngine_1_1NamedIterator.html#bb6c0aaf46ecd0ae54490edb6fddaa24">m_list</a>; m_item = original.<a class="code" href="classTelEngine_1_1NamedIterator.html#f8b1cef50e6657762963d1ff63459470">m_item</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04864"></a>04864 
<a name="l04869"></a>04869     <span class="keyword">const</span> NamedString* <span class="keyword">get</span>();
<a name="l04870"></a>04870 
<a name="l04874"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#f3418ac60d0d7a303478f29a387feb3c">04874</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> eof()<span class="keyword"> const</span>
<a name="l04875"></a>04875 <span class="keyword">        </span>{ <span class="keywordflow">return</span> !m_item; }
<a name="l04876"></a>04876 
<a name="l04880"></a><a class="code" href="classTelEngine_1_1NamedIterator.html#d20897c5c8bd47f5d4005989bead0e55">04880</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> reset()
<a name="l04881"></a>04881         { m_item = m_list-&gt;m_params.skipNull(); }
<a name="l04882"></a>04882 
<a name="l04883"></a>04883 <span class="keyword">private</span>:
<a name="l04884"></a>04884     NamedIterator(); <span class="comment">// no default constructor please</span>
<a name="l04885"></a>04885     <span class="keyword">const</span> NamedList* m_list;
<a name="l04886"></a>04886     <span class="keyword">const</span> ObjList* m_item;
<a name="l04887"></a>04887 };
<a name="l04888"></a>04888 
<a name="l04894"></a><a class="code" href="classTelEngine_1_1URI.html">04894</a> <span class="keyword">class </span>YATE_API URI : <span class="keyword">public</span> String
<a name="l04895"></a>04895 {
<a name="l04896"></a>04896 <span class="keyword">public</span>:
<a name="l04900"></a>04900     URI();
<a name="l04901"></a>04901 
<a name="l04906"></a>04906     URI(<span class="keyword">const</span> URI&amp; uri);
<a name="l04907"></a>04907 
<a name="l04912"></a>04912     <span class="keyword">explicit</span> URI(<span class="keyword">const</span> String&amp; uri);
<a name="l04913"></a>04913 
<a name="l04918"></a>04918     <span class="keyword">explicit</span> URI(<span class="keyword">const</span> <span class="keywordtype">char</span>* uri);
<a name="l04919"></a>04919 
<a name="l04928"></a>04928     URI(<span class="keyword">const</span> <span class="keywordtype">char</span>* proto, <span class="keyword">const</span> <span class="keywordtype">char</span>* user, <span class="keyword">const</span> <span class="keywordtype">char</span>* host, <span class="keywordtype">int</span> port = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* desc = 0);
<a name="l04929"></a>04929 
<a name="l04933"></a>04933     <span class="keywordtype">void</span> parse() <span class="keyword">const</span>;
<a name="l04934"></a>04934 
<a name="l04939"></a><a class="code" href="classTelEngine_1_1URI.html#a8bf8d48634f72e14698d7010d2db7aa">04939</a>     <span class="keyword">inline</span> URI&amp; operator=(<span class="keyword">const</span> URI&amp; value)
<a name="l04940"></a>04940         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04941"></a>04941 
<a name="l04946"></a><a class="code" href="classTelEngine_1_1URI.html#eb28db91dc427777de41e62c6b099cba">04946</a>     <span class="keyword">inline</span> URI&amp; operator=(<span class="keyword">const</span> String&amp; value)
<a name="l04947"></a>04947         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04948"></a>04948 
<a name="l04953"></a><a class="code" href="classTelEngine_1_1URI.html#e3310e65839035304ea367639f7a1ff9">04953</a>     <span class="keyword">inline</span> URI&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l04954"></a>04954         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l04955"></a>04955 
<a name="l04960"></a><a class="code" href="classTelEngine_1_1URI.html#b9a5367fb8a4809e7ab576cfb4617590">04960</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; getDescription()<span class="keyword"> const</span>
<a name="l04961"></a>04961 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_desc; }
<a name="l04962"></a>04962 
<a name="l04967"></a><a class="code" href="classTelEngine_1_1URI.html#818012833b8a9ebaeccae274c555e2b8">04967</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; getProtocol()<span class="keyword"> const</span>
<a name="l04968"></a>04968 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_proto; }
<a name="l04969"></a>04969 
<a name="l04974"></a><a class="code" href="classTelEngine_1_1URI.html#f8f5782055f5aa394168a75f1799b6b0">04974</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; getUser()<span class="keyword"> const</span>
<a name="l04975"></a>04975 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_user; }
<a name="l04976"></a>04976 
<a name="l04981"></a><a class="code" href="classTelEngine_1_1URI.html#3dc0468dedd988b96c0695927b8e2f83">04981</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; getHost()<span class="keyword"> const</span>
<a name="l04982"></a>04982 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_host; }
<a name="l04983"></a>04983 
<a name="l04988"></a><a class="code" href="classTelEngine_1_1URI.html#a290067db950b3fe0df39fb03d52f809">04988</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> getPort()<span class="keyword"> const</span>
<a name="l04989"></a>04989 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_port; }
<a name="l04990"></a>04990 
<a name="l04995"></a><a class="code" href="classTelEngine_1_1URI.html#5ed2f7e58dac84b38ab06762e2bccdda">04995</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; getExtra()<span class="keyword"> const</span>
<a name="l04996"></a>04996 <span class="keyword">        </span>{ parse(); <span class="keywordflow">return</span> m_extra; }
<a name="l04997"></a>04997 
<a name="l04998"></a>04998 <span class="keyword">protected</span>:
<a name="l05004"></a>05004     <span class="keyword">virtual</span> <span class="keywordtype">void</span> changed();
<a name="l05005"></a>05005     <span class="keyword">mutable</span> <span class="keywordtype">bool</span> m_parsed;
<a name="l05006"></a>05006     <span class="keyword">mutable</span> String m_desc;
<a name="l05007"></a>05007     <span class="keyword">mutable</span> String m_proto;
<a name="l05008"></a>05008     <span class="keyword">mutable</span> String m_user;
<a name="l05009"></a>05009     <span class="keyword">mutable</span> String m_host;
<a name="l05010"></a>05010     <span class="keyword">mutable</span> String m_extra;
<a name="l05011"></a>05011     <span class="keyword">mutable</span> <span class="keywordtype">int</span> m_port;
<a name="l05012"></a>05012 };
<a name="l05013"></a>05013 
<a name="l05014"></a>05014 <span class="keyword">class </span>MutexPrivate;
<a name="l05015"></a>05015 <span class="keyword">class </span>SemaphorePrivate;
<a name="l05016"></a>05016 <span class="keyword">class </span>ThreadPrivate;
<a name="l05017"></a>05017 
<a name="l05022"></a><a class="code" href="classTelEngine_1_1Lockable.html">05022</a> <span class="keyword">class </span>YATE_API Lockable
<a name="l05023"></a>05023 {
<a name="l05024"></a>05024 <span class="keyword">public</span>:
<a name="l05028"></a>05028     <span class="keyword">virtual</span> ~Lockable();
<a name="l05029"></a>05029 
<a name="l05035"></a>05035     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> lock(<span class="keywordtype">long</span> maxwait = -1) = 0;
<a name="l05036"></a>05036 
<a name="l05041"></a>05041     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> unlock() = 0;
<a name="l05042"></a>05042 
<a name="l05048"></a>05048     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> locked() <span class="keyword">const</span> = 0;
<a name="l05049"></a>05049 
<a name="l05055"></a>05055     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> check(<span class="keywordtype">long</span> maxwait = -1);
<a name="l05056"></a>05056 
<a name="l05063"></a>05063     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> unlockAll();
<a name="l05064"></a>05064 
<a name="l05070"></a>05070     <span class="keyword">static</span> <span class="keywordtype">void</span> wait(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> maxwait);
<a name="l05071"></a>05071 
<a name="l05076"></a>05076     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> wait();
<a name="l05077"></a>05077 
<a name="l05084"></a>05084     <span class="keyword">static</span> <span class="keywordtype">void</span> startUsingNow();
<a name="l05085"></a>05085 
<a name="l05092"></a>05092     <span class="keyword">static</span> <span class="keywordtype">void</span> enableSafety(<span class="keywordtype">bool</span> safe = <span class="keyword">true</span>);
<a name="l05093"></a>05093 
<a name="l05098"></a>05098     <span class="keyword">static</span> <span class="keywordtype">bool</span> safety();
<a name="l05099"></a>05099 };
<a name="l05100"></a>05100 
<a name="l05105"></a><a class="code" href="classTelEngine_1_1Mutex.html">05105</a> <span class="keyword">class </span>YATE_API Mutex : <span class="keyword">public</span> Lockable
<a name="l05106"></a>05106 {
<a name="l05107"></a>05107     <span class="keyword">friend</span> <span class="keyword">class </span>MutexPrivate;
<a name="l05108"></a>05108 <span class="keyword">public</span>:
<a name="l05115"></a>05115     <span class="keyword">explicit</span> Mutex(<span class="keywordtype">bool</span> recursive = <span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* name = 0);
<a name="l05116"></a>05116 
<a name="l05121"></a>05121     Mutex(<span class="keyword">const</span> Mutex&amp; original);
<a name="l05122"></a>05122 
<a name="l05126"></a>05126     ~Mutex();
<a name="l05127"></a>05127 
<a name="l05132"></a>05132     Mutex&amp; operator=(<span class="keyword">const</span> Mutex&amp; original);
<a name="l05133"></a>05133 
<a name="l05139"></a>05139     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> lock(<span class="keywordtype">long</span> maxwait = -1);
<a name="l05140"></a>05140 
<a name="l05145"></a>05145     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> unlock();
<a name="l05146"></a>05146 
<a name="l05152"></a>05152     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> locked() <span class="keyword">const</span>;
<a name="l05153"></a>05153 
<a name="l05158"></a>05158     <span class="keyword">const</span> <span class="keywordtype">char</span>* owner() <span class="keyword">const</span>;
<a name="l05159"></a>05159 
<a name="l05164"></a>05164     <span class="keywordtype">bool</span> recursive() <span class="keyword">const</span>;
<a name="l05165"></a>05165 
<a name="l05170"></a>05170     <span class="keyword">static</span> <span class="keywordtype">int</span> count();
<a name="l05171"></a>05171 
<a name="l05176"></a>05176     <span class="keyword">static</span> <span class="keywordtype">int</span> locks();
<a name="l05177"></a>05177 
<a name="l05182"></a>05182     <span class="keyword">static</span> <span class="keywordtype">bool</span> efficientTimedLock();
<a name="l05183"></a>05183 
<a name="l05184"></a>05184 <span class="keyword">private</span>:
<a name="l05185"></a>05185     MutexPrivate* privDataCopy() <span class="keyword">const</span>;
<a name="l05186"></a>05186     MutexPrivate* m_private;
<a name="l05187"></a>05187 };
<a name="l05188"></a>05188 
<a name="l05195"></a><a class="code" href="classTelEngine_1_1MutexPool.html">05195</a> <span class="keyword">class </span>YATE_API MutexPool
<a name="l05196"></a>05196 {
<a name="l05197"></a>05197 <span class="keyword">public</span>:
<a name="l05208"></a>05208     MutexPool(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len = 13, <span class="keywordtype">bool</span> recursive = <span class="keyword">false</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* name = 0);
<a name="l05209"></a>05209 
<a name="l05213"></a>05213     ~MutexPool();
<a name="l05214"></a>05214 
<a name="l05222"></a><a class="code" href="classTelEngine_1_1MutexPool.html#339f0aa56a17c0866ec17b837c53f668">05222</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index(<span class="keywordtype">void</span>* ptr)<span class="keyword"> const</span>
<a name="l05223"></a>05223 <span class="keyword">        </span>{ <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)ptr) % m_length; }
<a name="l05224"></a>05224 
<a name="l05232"></a><a class="code" href="classTelEngine_1_1MutexPool.html#8a20cde9a03eea456e3b815d01f0ea91">05232</a>     <span class="keyword">inline</span> Mutex* mutex(<span class="keywordtype">void</span>* ptr)<span class="keyword"> const</span>
<a name="l05233"></a>05233 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data[index(ptr)]; }
<a name="l05234"></a>05234 
<a name="l05240"></a><a class="code" href="classTelEngine_1_1MutexPool.html#a4d55f21c2ebeeaf24dd744dbb67d79c">05240</a>     <span class="keyword">inline</span> Mutex* mutex(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx)<span class="keyword"> const</span>
<a name="l05241"></a>05241 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data[idx % m_length]; }
<a name="l05242"></a>05242 
<a name="l05243"></a>05243 <span class="keyword">private</span>:
<a name="l05244"></a>05244     String* m_name;                      <span class="comment">// Mutex names</span>
<a name="l05245"></a>05245     Mutex** m_data;                      <span class="comment">// The array</span>
<a name="l05246"></a>05246     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_length;               <span class="comment">// Array length</span>
<a name="l05247"></a>05247 };
<a name="l05248"></a>05248 
<a name="l05253"></a><a class="code" href="classTelEngine_1_1Semaphore.html">05253</a> <span class="keyword">class </span>YATE_API Semaphore : <span class="keyword">public</span> Lockable
<a name="l05254"></a>05254 {
<a name="l05255"></a>05255     <span class="keyword">friend</span> <span class="keyword">class </span>SemaphorePrivate;
<a name="l05256"></a>05256 <span class="keyword">public</span>:
<a name="l05263"></a>05263     <span class="keyword">explicit</span> Semaphore(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxcount = 1, <span class="keyword">const</span> <span class="keywordtype">char</span>* name = 0,
<a name="l05264"></a>05264         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initialCount = 1);
<a name="l05265"></a>05265 
<a name="l05270"></a>05270     Semaphore(<span class="keyword">const</span> Semaphore&amp; original);
<a name="l05271"></a>05271 
<a name="l05275"></a>05275     ~Semaphore();
<a name="l05276"></a>05276 
<a name="l05281"></a>05281     Semaphore&amp; operator=(<span class="keyword">const</span> Semaphore&amp; original);
<a name="l05282"></a>05282 
<a name="l05288"></a>05288     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> lock(<span class="keywordtype">long</span> maxwait = -1);
<a name="l05289"></a>05289 
<a name="l05294"></a>05294     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> unlock();
<a name="l05295"></a>05295 
<a name="l05301"></a>05301     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> locked() <span class="keyword">const</span>;
<a name="l05302"></a>05302 
<a name="l05307"></a>05307     <span class="keyword">static</span> <span class="keywordtype">int</span> count();
<a name="l05308"></a>05308 
<a name="l05313"></a>05313     <span class="keyword">static</span> <span class="keywordtype">int</span> locks();
<a name="l05314"></a>05314 
<a name="l05319"></a>05319     <span class="keyword">static</span> <span class="keywordtype">bool</span> efficientTimedLock();
<a name="l05320"></a>05320 
<a name="l05321"></a>05321 <span class="keyword">private</span>:
<a name="l05322"></a>05322     SemaphorePrivate* privDataCopy() <span class="keyword">const</span>;
<a name="l05323"></a>05323     SemaphorePrivate* m_private;
<a name="l05324"></a>05324 };
<a name="l05325"></a>05325 
<a name="l05331"></a><a class="code" href="classTelEngine_1_1Lock.html">05331</a> <span class="keyword">class </span>YATE_API Lock
<a name="l05332"></a>05332 {
<a name="l05333"></a>05333     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Lock); <span class="comment">// no automatic copies please</span>
<a name="l05334"></a>05334 <span class="keyword">public</span>:
<a name="l05340"></a><a class="code" href="classTelEngine_1_1Lock.html#71d96dd9a9d4c5352c1468500afeb400">05340</a>     <span class="keyword">inline</span> Lock(Lockable&amp; lck, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05341"></a>05341         { m_lock = lck.<a class="code" href="classTelEngine_1_1Lockable.html#41402759e3d7546f19bfa40d0c3b890b">lock</a>(maxwait) ? &amp;lck : 0; }
<a name="l05342"></a>05342 
<a name="l05348"></a><a class="code" href="classTelEngine_1_1Lock.html#d662d3bd07c5f89cef7574e315104714">05348</a>     <span class="keyword">inline</span> Lock(Lockable* lck, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05349"></a>05349         { m_lock = (lck &amp;&amp; lck-&gt;<a class="code" href="classTelEngine_1_1Lockable.html#41402759e3d7546f19bfa40d0c3b890b">lock</a>(maxwait)) ? lck : 0; }
<a name="l05350"></a>05350 
<a name="l05354"></a><a class="code" href="classTelEngine_1_1Lock.html#c83cc649777d71e5d775632548bf4b8a">05354</a>     <span class="keyword">inline</span> ~Lock()
<a name="l05355"></a>05355         { <span class="keywordflow">if</span> (m_lock) m_lock-&gt;unlock(); }
<a name="l05356"></a>05356 
<a name="l05361"></a><a class="code" href="classTelEngine_1_1Lock.html#245890bd1ec17d71a944b699cc7dce28">05361</a>     <span class="keyword">inline</span> Lockable* locked()<span class="keyword"> const</span>
<a name="l05362"></a>05362 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_lock; }
<a name="l05363"></a>05363 
<a name="l05367"></a><a class="code" href="classTelEngine_1_1Lock.html#2f4c2dc71944a7a7a5a272dfce0e8d43">05367</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> drop()
<a name="l05368"></a>05368         { <span class="keywordflow">if</span> (m_lock) m_lock-&gt;unlock(); m_lock = 0; }
<a name="l05369"></a>05369 
<a name="l05376"></a><a class="code" href="classTelEngine_1_1Lock.html#f83e9326570e14627f7670cf7992fa91">05376</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> acquire(Lockable* lck, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05377"></a>05377         { <span class="keywordflow">return</span> (lck &amp;&amp; (lck == m_lock)) ||
<a name="l05378"></a>05378             (drop(),(lck &amp;&amp; (m_lock = lck-&gt;<a class="code" href="classTelEngine_1_1Lockable.html#41402759e3d7546f19bfa40d0c3b890b">lock</a>(maxwait) ? lck : 0))); }
<a name="l05379"></a>05379 
<a name="l05386"></a><a class="code" href="classTelEngine_1_1Lock.html#e8a2fedd5c52439e2477beed8d5a4dd0">05386</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> acquire(Lockable&amp; lck, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05387"></a>05387         { <span class="keywordflow">return</span> acquire(&amp;lck,maxwait); }
<a name="l05388"></a>05388 
<a name="l05389"></a>05389 <span class="keyword">private</span>:
<a name="l05390"></a>05390     Lockable* m_lock;
<a name="l05391"></a>05391 
<a name="l05393"></a>05393     <span class="keyword">inline</span> <span class="keywordtype">void</span>* operator new(<span class="keywordtype">size_t</span>);
<a name="l05394"></a>05394 
<a name="l05396"></a>05396     <span class="keyword">inline</span> <span class="keywordtype">void</span>* operator new[](<span class="keywordtype">size_t</span>);
<a name="l05397"></a>05397 };
<a name="l05398"></a>05398 
<a name="l05405"></a><a class="code" href="classTelEngine_1_1Lock2.html">05405</a> <span class="keyword">class </span>YATE_API Lock2
<a name="l05406"></a>05406 {
<a name="l05407"></a>05407     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Lock2); <span class="comment">// no automatic copies please</span>
<a name="l05408"></a>05408 <span class="keyword">public</span>:
<a name="l05415"></a><a class="code" href="classTelEngine_1_1Lock2.html#f0db2699e5ce1e8ed81d23379ec8af1b">05415</a>     <span class="keyword">inline</span> Lock2(Mutex* mx1, Mutex* mx2, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05416"></a>05416         : m_mx1(0), m_mx2(0)
<a name="l05417"></a>05417         { lock(mx1,mx2,maxwait); }
<a name="l05418"></a>05418 
<a name="l05425"></a><a class="code" href="classTelEngine_1_1Lock2.html#c37196ded9402d5b7fabb9ac3e678bd5">05425</a>     <span class="keyword">inline</span> Lock2(Mutex&amp; mx1, Mutex&amp; mx2, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05426"></a>05426         : m_mx1(0), m_mx2(0)
<a name="l05427"></a>05427         { lock(&amp;mx1,&amp;mx2,maxwait); }
<a name="l05428"></a>05428 
<a name="l05432"></a><a class="code" href="classTelEngine_1_1Lock2.html#5f60fe2084279ed10ac1399996540ea7">05432</a>     <span class="keyword">inline</span> ~Lock2()
<a name="l05433"></a>05433         { drop(); }
<a name="l05434"></a>05434 
<a name="l05439"></a><a class="code" href="classTelEngine_1_1Lock2.html#8b660d2fb225d2dc900e1f7d0b60dadf">05439</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> locked()<span class="keyword"> const</span>
<a name="l05440"></a>05440 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_mx1 != 0; }
<a name="l05441"></a>05441 
<a name="l05449"></a>05449     <span class="keywordtype">bool</span> lock(Mutex* mx1, Mutex* mx2, <span class="keywordtype">long</span> maxwait = -1);
<a name="l05450"></a>05450 
<a name="l05458"></a><a class="code" href="classTelEngine_1_1Lock2.html#9f47b296012879f5b019c8c0f8ad6d7d">05458</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> lock(Mutex&amp; mx1, Mutex&amp; mx2, <span class="keywordtype">long</span> maxwait = -1)
<a name="l05459"></a>05459         { <span class="keywordflow">return</span> lock(&amp;mx1,&amp;mx2,maxwait); }
<a name="l05460"></a>05460 
<a name="l05464"></a>05464     <span class="keywordtype">void</span> drop();
<a name="l05465"></a>05465 
<a name="l05466"></a>05466 <span class="keyword">private</span>:
<a name="l05467"></a>05467     Mutex* m_mx1;
<a name="l05468"></a>05468     Mutex* m_mx2;
<a name="l05469"></a>05469 
<a name="l05471"></a>05471     <span class="keyword">inline</span> <span class="keywordtype">void</span>* operator new(<span class="keywordtype">size_t</span>);
<a name="l05472"></a>05472 
<a name="l05474"></a>05474     <span class="keyword">inline</span> <span class="keywordtype">void</span>* operator new[](<span class="keywordtype">size_t</span>);
<a name="l05475"></a>05475 };
<a name="l05476"></a>05476 
<a name="l05482"></a><a class="code" href="classTelEngine_1_1Runnable.html">05482</a> <span class="keyword">class </span>YATE_API Runnable
<a name="l05483"></a>05483 {
<a name="l05484"></a>05484 <span class="keyword">public</span>:
<a name="l05489"></a>05489     <span class="keyword">virtual</span> <span class="keywordtype">void</span> run() = 0;
<a name="l05490"></a>05490 
<a name="l05494"></a>05494     <span class="keyword">virtual</span> ~Runnable();
<a name="l05495"></a>05495 };
<a name="l05496"></a>05496 
<a name="l05503"></a><a class="code" href="classTelEngine_1_1Thread.html">05503</a> <span class="keyword">class </span>YATE_API Thread : <span class="keyword">public</span> Runnable
<a name="l05504"></a>05504 {
<a name="l05505"></a>05505     <span class="keyword">friend</span> <span class="keyword">class </span>ThreadPrivate;
<a name="l05506"></a>05506     <span class="keyword">friend</span> <span class="keyword">class </span>MutexPrivate;
<a name="l05507"></a>05507     <span class="keyword">friend</span> <span class="keyword">class </span>SemaphorePrivate;
<a name="l05508"></a>05508     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Thread); <span class="comment">// no automatic copies please</span>
<a name="l05509"></a>05509 <span class="keyword">public</span>:
<a name="l05513"></a><a class="code" href="classTelEngine_1_1Thread.html#315655b1bb5848c063491adffde62b15">05513</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Thread.html#315655b1bb5848c063491adffde62b15">Priority</a> {
<a name="l05514"></a>05514         Lowest,
<a name="l05515"></a>05515         Low,
<a name="l05516"></a>05516         Normal,
<a name="l05517"></a>05517         High,
<a name="l05518"></a>05518         Highest
<a name="l05519"></a>05519     };
<a name="l05520"></a>05520 
<a name="l05524"></a>05524     <span class="keyword">virtual</span> <span class="keywordtype">void</span> cleanup();
<a name="l05525"></a>05525 
<a name="l05530"></a>05530     <span class="keywordtype">bool</span> startup();
<a name="l05531"></a>05531 
<a name="l05536"></a>05536     <span class="keywordtype">bool</span> error() <span class="keyword">const</span>;
<a name="l05537"></a>05537 
<a name="l05542"></a>05542     <span class="keywordtype">bool</span> running() <span class="keyword">const</span>;
<a name="l05543"></a>05543 
<a name="l05548"></a><a class="code" href="classTelEngine_1_1Thread.html#7a81911db215848d3a227da90e56fee2">05548</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> locks()<span class="keyword"> const</span>
<a name="l05549"></a>05549 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_locks; }
<a name="l05550"></a>05550 
<a name="l05555"></a><a class="code" href="classTelEngine_1_1Thread.html#8b660d2fb225d2dc900e1f7d0b60dadf">05555</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> locked()<span class="keyword"> const</span>
<a name="l05556"></a>05556 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_locking || m_locks; }
<a name="l05557"></a>05557 
<a name="l05562"></a>05562     <span class="keyword">const</span> <span class="keywordtype">char</span>* name() <span class="keyword">const</span>;
<a name="l05563"></a>05563 
<a name="l05568"></a>05568     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* currentName();
<a name="l05569"></a>05569 
<a name="l05575"></a>05575     <span class="keyword">static</span> <span class="keywordtype">void</span> yield(<span class="keywordtype">bool</span> exitCheck = <span class="keyword">false</span>);
<a name="l05576"></a>05576 
<a name="l05582"></a>05582     <span class="keyword">static</span> <span class="keywordtype">void</span> idle(<span class="keywordtype">bool</span> exitCheck = <span class="keyword">false</span>);
<a name="l05583"></a>05583 
<a name="l05589"></a>05589     <span class="keyword">static</span> <span class="keywordtype">void</span> sleep(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sec, <span class="keywordtype">bool</span> exitCheck = <span class="keyword">false</span>);
<a name="l05590"></a>05590 
<a name="l05596"></a>05596     <span class="keyword">static</span> <span class="keywordtype">void</span> msleep(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> msec, <span class="keywordtype">bool</span> exitCheck = <span class="keyword">false</span>);
<a name="l05597"></a>05597 
<a name="l05604"></a>05604     <span class="keyword">static</span> <span class="keywordtype">void</span> usleep(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> usec, <span class="keywordtype">bool</span> exitCheck = <span class="keyword">false</span>);
<a name="l05605"></a>05605 
<a name="l05610"></a>05610     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> idleUsec();
<a name="l05611"></a>05611 
<a name="l05616"></a>05616     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> idleMsec();
<a name="l05617"></a>05617 
<a name="l05622"></a>05622     <span class="keyword">static</span> <span class="keywordtype">void</span> idleMsec(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> msec);
<a name="l05623"></a>05623 
<a name="l05629"></a>05629     <span class="keyword">static</span> Thread* current();
<a name="l05630"></a>05630 
<a name="l05635"></a>05635     <span class="keyword">static</span> <span class="keywordtype">int</span> count();
<a name="l05636"></a>05636 
<a name="l05642"></a>05642     <span class="keyword">static</span> <span class="keywordtype">bool</span> check(<span class="keywordtype">bool</span> exitNow = <span class="keyword">true</span>);
<a name="l05643"></a>05643 
<a name="l05647"></a>05647     <span class="keyword">static</span> <span class="keywordtype">void</span> exit();
<a name="l05648"></a>05648 
<a name="l05653"></a>05653     <span class="keywordtype">void</span> cancel(<span class="keywordtype">bool</span> hard = <span class="keyword">false</span>);
<a name="l05654"></a>05654 
<a name="l05659"></a><a class="code" href="classTelEngine_1_1Thread.html#bd71eda02df19ebbc02f828eb7c80abe">05659</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> isCurrent()<span class="keyword"> const</span>
<a name="l05660"></a>05660 <span class="keyword">        </span>{ <span class="keywordflow">return</span> current() == <span class="keyword">this</span>; }
<a name="l05661"></a>05661 
<a name="l05666"></a>05666     NamedCounter* getObjCounter() <span class="keyword">const</span>;
<a name="l05667"></a>05667 
<a name="l05673"></a>05673     NamedCounter* setObjCounter(NamedCounter* counter);
<a name="l05674"></a>05674 
<a name="l05680"></a>05680     <span class="keyword">static</span> NamedCounter* getCurrentObjCounter(<span class="keywordtype">bool</span> always = <span class="keyword">false</span>);
<a name="l05681"></a>05681 
<a name="l05687"></a>05687     <span class="keyword">static</span> NamedCounter* setCurrentObjCounter(NamedCounter* counter);
<a name="l05688"></a>05688 
<a name="l05695"></a>05695     <span class="keyword">static</span> Priority priority(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, Priority defvalue = Normal);
<a name="l05696"></a>05696 
<a name="l05702"></a>05702     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* priority(Priority prio);
<a name="l05703"></a>05703 
<a name="l05708"></a>05708     <span class="keyword">static</span> <span class="keywordtype">void</span> killall();
<a name="l05709"></a>05709 
<a name="l05714"></a>05714     <span class="keyword">static</span> <span class="keywordtype">void</span> preExec();
<a name="l05715"></a>05715 
<a name="l05721"></a>05721     <span class="keyword">static</span> <span class="keywordtype">int</span> lastError();
<a name="l05722"></a>05722 
<a name="l05729"></a><a class="code" href="classTelEngine_1_1Thread.html#46351789982f9b5ff60945c3aecc45ca">05729</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> errorString(String&amp; buffer)
<a name="l05730"></a>05730         { <span class="keywordflow">return</span> errorString(buffer,lastError()); }
<a name="l05731"></a>05731 
<a name="l05742"></a>05742     <span class="keyword">static</span> <span class="keywordtype">bool</span> errorString(String&amp; buffer, <span class="keywordtype">int</span> code);
<a name="l05743"></a>05743 
<a name="l05744"></a>05744 <span class="keyword">protected</span>:
<a name="l05750"></a>05750     Thread(<span class="keyword">const</span> <span class="keywordtype">char</span> *name = 0, Priority prio = Normal);
<a name="l05751"></a>05751 
<a name="l05757"></a>05757     Thread(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span>* prio);
<a name="l05758"></a>05758 
<a name="l05762"></a>05762     <span class="keyword">virtual</span> ~Thread();
<a name="l05763"></a>05763 
<a name="l05764"></a>05764 <span class="keyword">private</span>:
<a name="l05765"></a>05765     ThreadPrivate* m_private;
<a name="l05766"></a>05766     <span class="keywordtype">int</span> m_locks;
<a name="l05767"></a>05767     <span class="keywordtype">bool</span> m_locking;
<a name="l05768"></a>05768 };
<a name="l05769"></a>05769 
<a name="l05774"></a><a class="code" href="classTelEngine_1_1TempObjectCounter.html">05774</a> <span class="keyword">class </span>YATE_API TempObjectCounter
<a name="l05775"></a>05775 {
<a name="l05776"></a>05776     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(TempObjectCounter); <span class="comment">// no automatic copies please</span>
<a name="l05777"></a>05777 <span class="keyword">public</span>:
<a name="l05783"></a><a class="code" href="classTelEngine_1_1TempObjectCounter.html#ac58cf945c1fed4cbf1d052f0d15f502">05783</a>     <span class="keyword">inline</span> TempObjectCounter(NamedCounter* counter, <span class="keywordtype">bool</span> enable = <a class="code" href="classTelEngine_1_1GenObject.html#b58f65825b11407b047960fdb7657fca">GenObject::getObjCounting</a>())
<a name="l05784"></a>05784         : m_saved(0), m_enabled(enable)
<a name="l05785"></a>05785         { <span class="keywordflow">if</span> (m_enabled) m_saved = <a class="code" href="classTelEngine_1_1Thread.html#3d2d54cb0843b30fbd78015226ee6a1f">Thread::setCurrentObjCounter</a>(counter); }
<a name="l05786"></a>05786 
<a name="l05792"></a><a class="code" href="classTelEngine_1_1TempObjectCounter.html#2461dadb9b7efdf97e49e2190abf0c7e">05792</a>     <span class="keyword">inline</span> TempObjectCounter(<span class="keyword">const</span> GenObject* obj, <span class="keywordtype">bool</span> enable = <a class="code" href="classTelEngine_1_1GenObject.html#b58f65825b11407b047960fdb7657fca">GenObject::getObjCounting</a>())
<a name="l05793"></a>05793         : m_saved(0), m_enabled(enable &amp;&amp; obj)
<a name="l05794"></a>05794         { <span class="keywordflow">if</span> (m_enabled) m_saved = <a class="code" href="classTelEngine_1_1Thread.html#3d2d54cb0843b30fbd78015226ee6a1f">Thread::setCurrentObjCounter</a>(obj-&gt;<a class="code" href="classTelEngine_1_1GenObject.html#75c18afdcad08bb68a01c862185e1563">getObjCounter</a>()); }
<a name="l05795"></a>05795 
<a name="l05801"></a><a class="code" href="classTelEngine_1_1TempObjectCounter.html#702350c1aa147f3fd6b32dff869cbc95">05801</a>     <span class="keyword">inline</span> TempObjectCounter(<span class="keyword">const</span> GenObject&amp; obj, <span class="keywordtype">bool</span> enable = <a class="code" href="classTelEngine_1_1GenObject.html#b58f65825b11407b047960fdb7657fca">GenObject::getObjCounting</a>())
<a name="l05802"></a>05802         : m_saved(0), m_enabled(enable)
<a name="l05803"></a>05803         { <span class="keywordflow">if</span> (m_enabled) m_saved = <a class="code" href="classTelEngine_1_1Thread.html#3d2d54cb0843b30fbd78015226ee6a1f">Thread::setCurrentObjCounter</a>(obj.<a class="code" href="classTelEngine_1_1GenObject.html#75c18afdcad08bb68a01c862185e1563">getObjCounter</a>()); }
<a name="l05804"></a>05804 
<a name="l05808"></a><a class="code" href="classTelEngine_1_1TempObjectCounter.html#d122de3e0291527d22ffb2b99d1a6b2c">05808</a>     <span class="keyword">inline</span> ~TempObjectCounter()
<a name="l05809"></a>05809         { <span class="keywordflow">if</span> (m_enabled) <a class="code" href="classTelEngine_1_1Thread.html#3d2d54cb0843b30fbd78015226ee6a1f">Thread::setCurrentObjCounter</a>(m_saved); }
<a name="l05810"></a>05810 
<a name="l05811"></a>05811 <span class="keyword">private</span>:
<a name="l05812"></a>05812     NamedCounter* m_saved;
<a name="l05813"></a>05813     <span class="keywordtype">bool</span> m_enabled;
<a name="l05814"></a>05814 };
<a name="l05815"></a>05815 
<a name="l05816"></a>05816 <span class="keyword">class </span>Socket;
<a name="l05817"></a>05817 
<a name="l05822"></a><a class="code" href="classTelEngine_1_1SocketAddr.html">05822</a> <span class="keyword">class </span>YATE_API SocketAddr : <span class="keyword">public</span> GenObject
<a name="l05823"></a>05823 {
<a name="l05824"></a>05824 <span class="keyword">public</span>:
<a name="l05828"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#699d1af4b7105b14fb7d5db72e3ad6f0">05828</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1SocketAddr.html#699d1af4b7105b14fb7d5db72e3ad6f0">Family</a> {
<a name="l05829"></a>05829         Unknown = AF_UNSPEC,
<a name="l05830"></a>05830         IPv4 = AF_INET,
<a name="l05831"></a>05831         AfMax = AF_MAX,
<a name="l05832"></a>05832         AfUnsupported = AfMax,
<a name="l05833"></a>05833 <span class="preprocessor">#ifdef AF_INET6</span>
<a name="l05834"></a>05834 <span class="preprocessor"></span>        IPv6 = AF_INET6,
<a name="l05835"></a>05835 <span class="preprocessor">#else</span>
<a name="l05836"></a>05836 <span class="preprocessor"></span>        IPv6 = AfUnsupported + 1,
<a name="l05837"></a>05837 <span class="preprocessor">#endif</span>
<a name="l05838"></a>05838 <span class="preprocessor"></span><span class="preprocessor">#ifdef HAS_AF_UNIX</span>
<a name="l05839"></a>05839 <span class="preprocessor"></span>        Unix = AF_UNIX,
<a name="l05840"></a>05840 <span class="preprocessor">#else</span>
<a name="l05841"></a>05841 <span class="preprocessor"></span>        Unix = AfUnsupported + 2,
<a name="l05842"></a>05842 <span class="preprocessor">#endif</span>
<a name="l05843"></a>05843 <span class="preprocessor"></span>    };
<a name="l05844"></a>05844 
<a name="l05848"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#f2902a97f96a0e66467961edcda9d111">05848</a>     <span class="keyword">inline</span> SocketAddr()
<a name="l05849"></a>05849         : m_address(0), m_length(0)
<a name="l05850"></a>05850         { }
<a name="l05851"></a>05851 
<a name="l05856"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#792fbce4f6fea145301f0b2fc3845c3b">05856</a>     <span class="keyword">inline</span> SocketAddr(<span class="keyword">const</span> SocketAddr&amp; value)
<a name="l05857"></a>05857         : GenObject(),
<a name="l05858"></a>05858           m_address(0), m_length(0)
<a name="l05859"></a>05859         { assign(value.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(),value.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>()); }
<a name="l05860"></a>05860 
<a name="l05866"></a>05866     <span class="keyword">explicit</span> SocketAddr(<span class="keywordtype">int</span> family, <span class="keyword">const</span> <span class="keywordtype">void</span>* raw = 0);
<a name="l05867"></a>05867 
<a name="l05873"></a>05873     SocketAddr(<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr* addr, socklen_t len = 0);
<a name="l05874"></a>05874 
<a name="l05878"></a>05878     <span class="keyword">virtual</span> ~SocketAddr();
<a name="l05879"></a>05879 
<a name="l05884"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#5496fbcf61652217ce164371a1014c5b">05884</a>     <span class="keyword">inline</span> SocketAddr&amp; operator=(<span class="keyword">const</span> SocketAddr&amp; value)
<a name="l05885"></a>05885         { assign(value.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(),value.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>()); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l05886"></a>05886 
<a name="l05892"></a>05892     <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> SocketAddr&amp; other) <span class="keyword">const</span>;
<a name="l05893"></a>05893 
<a name="l05899"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#290777ee6601377e2c1ea615b9c43004">05899</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> SocketAddr&amp; other)<span class="keyword"> const</span>
<a name="l05900"></a>05900 <span class="keyword">        </span>{ <span class="keywordflow">return</span> !operator==(other); }
<a name="l05901"></a>05901 
<a name="l05905"></a>05905     <span class="keywordtype">void</span> clear();
<a name="l05906"></a>05906 
<a name="l05912"></a>05912     <span class="keywordtype">bool</span> assign(<span class="keywordtype">int</span> family);
<a name="l05913"></a>05913 
<a name="l05919"></a>05919     <span class="keywordtype">void</span> assign(<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr* addr, socklen_t len = 0);
<a name="l05920"></a>05920 
<a name="l05926"></a>05926     <span class="keywordtype">bool</span> assign(<span class="keyword">const</span> DataBlock&amp; addr);
<a name="l05927"></a>05927 
<a name="l05933"></a>05933     <span class="keywordtype">bool</span> local(<span class="keyword">const</span> SocketAddr&amp; remote);
<a name="l05934"></a>05934 
<a name="l05939"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#315419f26d3c59fa143b49b90a019049">05939</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> valid()<span class="keyword"> const</span>
<a name="l05940"></a>05940 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length &amp;&amp; m_address; }
<a name="l05941"></a>05941 
<a name="l05946"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#5fc3ccc049f9327dc84116f44bde5c26">05946</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#e8dec2872ca899456505ee6561a88433">null</a>()<span class="keyword"> const</span>
<a name="l05947"></a>05947 <span class="keyword">        </span>{ <span class="keywordflow">return</span> !(m_length &amp;&amp; m_address); }
<a name="l05948"></a>05948 
<a name="l05953"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#5eff124ee5111c5acc6ff310083a98c2">05953</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> family()<span class="keyword"> const</span>
<a name="l05954"></a>05954 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_address ? m_address-&gt;sa_family : 0; }
<a name="l05955"></a>05955 
<a name="l05960"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#901a093de1c4f7e4d71c9e09d3d320b2">05960</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* familyName()
<a name="l05961"></a>05961         { <span class="keywordflow">return</span> lookupFamily(family()); }
<a name="l05962"></a>05962 
<a name="l05967"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#76c16b6dcffd46b931460f5347d45811">05967</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scopeId()<span class="keyword"> const</span>
<a name="l05968"></a>05968 <span class="keyword">        </span>{ <span class="keywordflow">return</span> scopeId(address()); }
<a name="l05969"></a>05969 
<a name="l05975"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#8e35ecd917a0aecad062c00b9aae76ae">05975</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> scopeId(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val)
<a name="l05976"></a>05976         { <span class="keywordflow">return</span> scopeId(address(),val); }
<a name="l05977"></a>05977 
<a name="l05982"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#d8b066d3809170589b601bb6d28106d5">05982</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; host()<span class="keyword"> const</span>
<a name="l05983"></a>05983 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_host; }
<a name="l05984"></a>05984 
<a name="l05989"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#7a2f314c7d390276ba1e51c07dca52c8">05989</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; addr()<span class="keyword"> const </span>{
<a name="l05990"></a>05990             <span class="keywordflow">if</span> (!m_addr)
<a name="l05991"></a>05991                 updateAddr();
<a name="l05992"></a>05992             <span class="keywordflow">return</span> m_addr;
<a name="l05993"></a>05993         }
<a name="l05994"></a>05994 
<a name="l06001"></a>06001     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> host(<span class="keyword">const</span> String&amp; name);
<a name="l06002"></a>06002 
<a name="l06007"></a>06007     <span class="keywordtype">int</span> port() <span class="keyword">const</span>;
<a name="l06008"></a>06008 
<a name="l06014"></a>06014     <span class="keywordtype">bool</span> port(<span class="keywordtype">int</span> newport);
<a name="l06015"></a>06015 
<a name="l06020"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">06020</a>     <span class="keyword">inline</span> <span class="keyword">struct </span>sockaddr* address()<span class="keyword"> const</span>
<a name="l06021"></a>06021 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_address; }
<a name="l06022"></a>06022 
<a name="l06027"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">06027</a>     <span class="keyword">inline</span> socklen_t length()<span class="keyword"> const</span>
<a name="l06028"></a>06028 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_length; }
<a name="l06029"></a>06029 
<a name="l06034"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#f6a679eeb2035276ca586e1406ca4281">06034</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> isNullAddr()<span class="keyword"> const</span>
<a name="l06035"></a>06035 <span class="keyword">        </span>{ <span class="keywordflow">return</span> isNullAddr(m_host,family()); }
<a name="l06036"></a>06036 
<a name="l06042"></a>06042     <span class="keywordtype">int</span> copyAddr(DataBlock&amp; addr) <span class="keyword">const</span>;
<a name="l06043"></a>06043 
<a name="l06049"></a>06049     <span class="keyword">static</span> <span class="keywordtype">bool</span> supports(<span class="keywordtype">int</span> family);
<a name="l06050"></a>06050 
<a name="l06056"></a>06056     <span class="keyword">static</span> <span class="keywordtype">int</span> family(<span class="keyword">const</span> String&amp; addr);
<a name="l06057"></a>06057 
<a name="l06064"></a>06064     <span class="keyword">static</span> <span class="keywordtype">bool</span> stringify(String&amp; buf, <span class="keyword">struct</span> sockaddr* addr);
<a name="l06065"></a>06065 
<a name="l06074"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#563d6c7d0a303347093770f44846ce40">06074</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> unStringify(uint8_t* buf, <span class="keyword">const</span> String&amp; host,
<a name="l06075"></a>06075         <span class="keywordtype">int</span> family = Unknown) {
<a name="l06076"></a>06076             SocketAddr sa(family);
<a name="l06077"></a>06077             <span class="keywordflow">return</span> sa.<a class="code" href="classTelEngine_1_1SocketAddr.html#d8b066d3809170589b601bb6d28106d5">host</a>(host) ? copyAddr(buf,sa.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>()) : Unknown;
<a name="l06078"></a>06078         }
<a name="l06079"></a>06079 
<a name="l06087"></a>06087     <span class="keyword">static</span> <span class="keywordtype">int</span> copyAddr(uint8_t* buf, <span class="keyword">struct</span> sockaddr* addr);
<a name="l06088"></a>06088 
<a name="l06094"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#00511e7d76e8df9e3dc06f73f900e7c2">06094</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scopeId(<span class="keyword">struct</span> sockaddr* addr) {
<a name="l06095"></a>06095 <span class="preprocessor">#ifdef AF_INET6</span>
<a name="l06096"></a>06096 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (addr &amp;&amp; addr-&gt;sa_family == AF_INET6)
<a name="l06097"></a>06097                 <span class="keywordflow">return</span> ((<span class="keyword">struct</span> sockaddr_in6*)addr)-&gt;sin6_scope_id;
<a name="l06098"></a>06098 <span class="preprocessor">#endif</span>
<a name="l06099"></a>06099 <span class="preprocessor"></span>            <span class="keywordflow">return</span> 0;
<a name="l06100"></a>06100         }
<a name="l06101"></a>06101 
<a name="l06108"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#246a25c25f554f00db5c777584d3033d">06108</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> scopeId(<span class="keyword">struct</span> sockaddr* addr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val) {
<a name="l06109"></a>06109 <span class="preprocessor">#ifdef AF_INET6</span>
<a name="l06110"></a>06110 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (addr &amp;&amp; addr-&gt;sa_family == AF_INET6) {
<a name="l06111"></a>06111                 ((<span class="keyword">struct </span>sockaddr_in6*)addr)-&gt;sin6_scope_id = val;
<a name="l06112"></a>06112                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l06113"></a>06113             }
<a name="l06114"></a>06114 <span class="preprocessor">#endif</span>
<a name="l06115"></a>06115 <span class="preprocessor"></span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06116"></a>06116         }
<a name="l06117"></a>06117 
<a name="l06125"></a>06125     <span class="keyword">static</span> String&amp; appendAddr(String&amp; buf, <span class="keyword">const</span> String&amp; addr, <span class="keywordtype">int</span> family = Unknown);
<a name="l06126"></a>06126 
<a name="l06135"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#f8c4056c2b1b096d0fb2afdbc004b25f">06135</a>     <span class="keyword">static</span> <span class="keyword">inline</span> String&amp; appendTo(String&amp; buf, <span class="keyword">const</span> String&amp; addr, <span class="keywordtype">int</span> port,
<a name="l06136"></a>06136         <span class="keywordtype">int</span> family = Unknown) {
<a name="l06137"></a>06137             appendAddr(buf,addr,family) &lt;&lt; <span class="stringliteral">":"</span> &lt;&lt; port;
<a name="l06138"></a>06138             <span class="keywordflow">return</span> buf;
<a name="l06139"></a>06139         }
<a name="l06140"></a>06140 
<a name="l06148"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#00f2089da38b4788b30a4b29e853f219">06148</a>     <span class="keyword">static</span> <span class="keyword">inline</span> String appendTo(<span class="keyword">const</span> String&amp; addr, <span class="keywordtype">int</span> port, <span class="keywordtype">int</span> family = Unknown) {
<a name="l06149"></a>06149             String buf;
<a name="l06150"></a>06150             appendTo(buf,addr,port,family);
<a name="l06151"></a>06151             <span class="keywordflow">return</span> buf;
<a name="l06152"></a>06152         }
<a name="l06153"></a>06153 
<a name="l06160"></a>06160     <span class="keyword">static</span> <span class="keywordtype">bool</span> isNullAddr(<span class="keyword">const</span> String&amp; addr, <span class="keywordtype">int</span> family = Unknown);
<a name="l06161"></a>06161 
<a name="l06170"></a>06170     <span class="keyword">static</span> <span class="keywordtype">void</span> splitIface(<span class="keyword">const</span> String&amp; buf, String&amp; addr, String* iface = 0);
<a name="l06171"></a>06171 
<a name="l06183"></a>06183     <span class="keyword">static</span> <span class="keywordtype">void</span> split(<span class="keyword">const</span> String&amp; buf, String&amp; addr, <span class="keywordtype">int</span>&amp; port, <span class="keywordtype">bool</span> portPresent = <span class="keyword">false</span>);
<a name="l06184"></a>06184 
<a name="l06190"></a><a class="code" href="classTelEngine_1_1SocketAddr.html#bb4cee0e3838ba184c6eaefa6eba37e1">06190</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* lookupFamily(<span class="keywordtype">int</span> family)
<a name="l06191"></a>06191         { <span class="keywordflow">return</span> <a class="code" href="namespaceTelEngine.html#4668c9172c6ae5f59f5782ecc6e05516">lookup</a>(family,s_familyName); }
<a name="l06192"></a>06192 
<a name="l06197"></a>06197     <span class="keyword">static</span> <span class="keyword">const</span> String&amp; ipv4NullAddr();
<a name="l06198"></a>06198 
<a name="l06203"></a>06203     <span class="keyword">static</span> <span class="keyword">const</span> String&amp; ipv6NullAddr();
<a name="l06204"></a>06204 
<a name="l06209"></a>06209     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* dictFamilyName();
<a name="l06210"></a>06210 
<a name="l06211"></a>06211 <span class="keyword">protected</span>:
<a name="l06215"></a>06215     <span class="keyword">virtual</span> <span class="keywordtype">void</span> stringify();
<a name="l06216"></a>06216 
<a name="l06220"></a>06220     <span class="keyword">virtual</span> <span class="keywordtype">void</span> updateAddr() <span class="keyword">const</span>;
<a name="l06221"></a>06221 
<a name="l06222"></a>06222     <span class="keyword">struct </span>sockaddr* m_address;
<a name="l06223"></a>06223     socklen_t m_length;
<a name="l06224"></a>06224     String m_host;
<a name="l06225"></a>06225     <span class="keyword">mutable</span> String m_addr;
<a name="l06226"></a>06226 
<a name="l06227"></a>06227 <span class="keyword">private</span>:
<a name="l06228"></a>06228     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a> s_familyName[];
<a name="l06229"></a>06229 };
<a name="l06230"></a>06230 
<a name="l06235"></a><a class="code" href="classTelEngine_1_1SocketFilter.html">06235</a> <span class="keyword">class </span>YATE_API SocketFilter : <span class="keyword">public</span> GenObject
<a name="l06236"></a>06236 {
<a name="l06237"></a>06237     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Socket.html" title="A generic socket class.">Socket</a>;
<a name="l06238"></a>06238     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(SocketFilter); <span class="comment">// no automatic copies please</span>
<a name="l06239"></a>06239 <span class="keyword">public</span>:
<a name="l06243"></a>06243     SocketFilter();
<a name="l06244"></a>06244 
<a name="l06248"></a>06248     <span class="keyword">virtual</span> ~SocketFilter();
<a name="l06249"></a>06249 
<a name="l06255"></a>06255     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l06256"></a>06256 
<a name="l06261"></a>06261     <span class="keyword">virtual</span> <span class="keywordtype">void</span> timerTick(<span class="keyword">const</span> Time&amp; when);
<a name="l06262"></a>06262 
<a name="l06272"></a>06272     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> received(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr* addr, socklen_t adrlen) = 0;
<a name="l06273"></a>06273 
<a name="l06278"></a><a class="code" href="classTelEngine_1_1SocketFilter.html#b63eebcc5ea95a6baf9093bb1896ec25">06278</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1Socket.html" title="A generic socket class.">Socket</a>* socket()<span class="keyword"> const</span>
<a name="l06279"></a>06279 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_socket; }
<a name="l06280"></a>06280 
<a name="l06285"></a>06285     <span class="keywordtype">bool</span> valid() <span class="keyword">const</span>;
<a name="l06286"></a>06286 
<a name="l06287"></a>06287 <span class="keyword">private</span>:
<a name="l06288"></a>06288     <a class="code" href="classTelEngine_1_1Socket.html" title="A generic socket class.">Socket</a>* m_socket;
<a name="l06289"></a>06289 };
<a name="l06290"></a>06290 
<a name="l06295"></a><a class="code" href="classTelEngine_1_1Stream.html">06295</a> <span class="keyword">class </span>YATE_API Stream
<a name="l06296"></a>06296 {
<a name="l06297"></a>06297 <span class="keyword">public</span>:
<a name="l06301"></a><a class="code" href="classTelEngine_1_1Stream.html#475598fa75a67b1983f3b89621225966">06301</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Stream.html#475598fa75a67b1983f3b89621225966">SeekPos</a> {
<a name="l06302"></a>06302         SeekBegin,                       <span class="comment">// Seek from start of stream</span>
<a name="l06303"></a>06303         SeekEnd,                         <span class="comment">// Seek from stream end</span>
<a name="l06304"></a>06304         SeekCurrent                      <span class="comment">// Seek from current position</span>
<a name="l06305"></a>06305     };
<a name="l06306"></a>06306 
<a name="l06310"></a>06310     <span class="keyword">virtual</span> ~Stream();
<a name="l06311"></a>06311 
<a name="l06316"></a><a class="code" href="classTelEngine_1_1Stream.html#1df37e13c22d2b00843cb04a70d92ae5">06316</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> error()<span class="keyword"> const</span>
<a name="l06317"></a>06317 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_error; }
<a name="l06318"></a>06318 
<a name="l06323"></a>06323     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> terminate() = 0;
<a name="l06324"></a>06324 
<a name="l06329"></a>06329     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canRetry() <span class="keyword">const</span>;
<a name="l06330"></a>06330 
<a name="l06335"></a>06335     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> inProgress() <span class="keyword">const</span>;
<a name="l06336"></a>06336 
<a name="l06341"></a>06341     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() <span class="keyword">const</span> = 0;
<a name="l06342"></a>06342 
<a name="l06348"></a>06348     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setBlocking(<span class="keywordtype">bool</span> block = <span class="keyword">true</span>);
<a name="l06349"></a>06349 
<a name="l06356"></a>06356     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length) = 0;
<a name="l06357"></a>06357 
<a name="l06363"></a>06363     <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> <span class="keywordtype">char</span>* str);
<a name="l06364"></a>06364 
<a name="l06370"></a><a class="code" href="classTelEngine_1_1Stream.html#93a96a9e0e9872057dd0f1b259300459">06370</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> String&amp; str)
<a name="l06371"></a>06371         { <span class="keywordflow">return</span> writeData(str.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(), str.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l06372"></a>06372 
<a name="l06378"></a><a class="code" href="classTelEngine_1_1Stream.html#052ac850f0f5e4251dc507203fa22485">06378</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> DataBlock&amp; buf)
<a name="l06379"></a>06379         { <span class="keywordflow">return</span> writeData(buf.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(), buf.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l06380"></a>06380 
<a name="l06387"></a>06387     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readData(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length) = 0;
<a name="l06388"></a>06388 
<a name="l06393"></a>06393     <span class="keyword">virtual</span> int64_t length();
<a name="l06394"></a>06394 
<a name="l06401"></a>06401     <span class="keyword">virtual</span> int64_t seek(SeekPos pos, int64_t offset = 0);
<a name="l06402"></a>06402 
<a name="l06408"></a><a class="code" href="classTelEngine_1_1Stream.html#f5123fd747c106ad70e1b748ac9bdfda">06408</a>     <span class="keyword">inline</span> int64_t seek(int64_t offset)
<a name="l06409"></a>06409         { <span class="keywordflow">return</span> seek(SeekBegin,offset); }
<a name="l06410"></a>06410 
<a name="l06417"></a>06417     <span class="keyword">static</span> <span class="keywordtype">bool</span> allocPipe(Stream*&amp; reader, Stream*&amp; writer);
<a name="l06418"></a>06418 
<a name="l06425"></a>06425     <span class="keyword">static</span> <span class="keywordtype">bool</span> allocPair(Stream*&amp; str1, Stream*&amp; str2);
<a name="l06426"></a>06426 
<a name="l06431"></a>06431     <span class="keyword">static</span> <span class="keywordtype">bool</span> supportsPipes();
<a name="l06432"></a>06432 
<a name="l06437"></a>06437     <span class="keyword">static</span> <span class="keywordtype">bool</span> supportsPairs();
<a name="l06438"></a>06438 
<a name="l06439"></a>06439 <span class="keyword">protected</span>:
<a name="l06443"></a><a class="code" href="classTelEngine_1_1Stream.html#7411b49ed5fda5181dd182d64984906e">06443</a>     <span class="keyword">inline</span> Stream()
<a name="l06444"></a>06444         : m_error(0)
<a name="l06445"></a>06445         { }
<a name="l06446"></a>06446 
<a name="l06450"></a><a class="code" href="classTelEngine_1_1Stream.html#926ead67a784f455ddd56590f2928e76">06450</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> clearError()
<a name="l06451"></a>06451         { m_error = 0; }
<a name="l06452"></a>06452 
<a name="l06453"></a>06453     <span class="keywordtype">int</span> m_error;
<a name="l06454"></a>06454 };
<a name="l06455"></a>06455 
<a name="l06460"></a><a class="code" href="classTelEngine_1_1MemoryStream.html">06460</a> <span class="keyword">class </span>YATE_API MemoryStream : <span class="keyword">public</span> Stream
<a name="l06461"></a>06461 {
<a name="l06462"></a>06462     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(MemoryStream); <span class="comment">// no automatic copies please</span>
<a name="l06463"></a>06463 <span class="keyword">public</span>:
<a name="l06467"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#28d4c334557e9abb58b418e80c709905">06467</a>     <span class="keyword">inline</span> MemoryStream()
<a name="l06468"></a>06468         : m_offset(0)
<a name="l06469"></a>06469         { }
<a name="l06470"></a>06470 
<a name="l06475"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#f664ee003fdd83bd4173dd30e0fab9d7">06475</a>     <span class="keyword">inline</span> MemoryStream(<span class="keyword">const</span> DataBlock&amp; data)
<a name="l06476"></a>06476         : m_data(data), m_offset(0)
<a name="l06477"></a>06477         { }
<a name="l06478"></a>06478 
<a name="l06483"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#837fdfeafb7f74998ffa0918da32e895">06483</a>     <span class="keyword">inline</span> <span class="keyword">const</span> DataBlock&amp; data()<span class="keyword"> const</span>
<a name="l06484"></a>06484 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data; }
<a name="l06485"></a>06485 
<a name="l06490"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#191ac6b231961b9586ed2eadae024d6a">06490</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> terminate()
<a name="l06491"></a>06491         { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l06496"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#31c6fdaee3c057504dd3c9d0c9866132">06496</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid()<span class="keyword"> const</span>
<a name="l06497"></a>06497 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l06498"></a>06498 
<a name="l06505"></a>06505     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> len);
<a name="l06506"></a>06506 
<a name="l06513"></a>06513     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readData(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> len);
<a name="l06514"></a>06514 
<a name="l06519"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#7e69787d3c6b1a3342c63ab60703a558">06519</a>     <span class="keyword">virtual</span> int64_t length()
<a name="l06520"></a>06520         { <span class="keywordflow">return</span> m_data.length(); }
<a name="l06521"></a>06521 
<a name="l06528"></a>06528     <span class="keyword">virtual</span> int64_t seek(SeekPos pos, int64_t offset = 0);
<a name="l06529"></a>06529 
<a name="l06530"></a>06530 <span class="keyword">protected</span>:
<a name="l06534"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#d56abe48f5b150093823e30c0883328d">06534</a>     DataBlock m_data;
<a name="l06535"></a>06535 
<a name="l06539"></a><a class="code" href="classTelEngine_1_1MemoryStream.html#d385f68939cc096d71e0d3b0c789a405">06539</a>     int64_t m_offset;
<a name="l06540"></a>06540 };
<a name="l06541"></a>06541 
<a name="l06546"></a><a class="code" href="classTelEngine_1_1File.html">06546</a> <span class="keyword">class </span>YATE_API File : <span class="keyword">public</span> Stream
<a name="l06547"></a>06547 {
<a name="l06548"></a>06548     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(File); <span class="comment">// no automatic copies please</span>
<a name="l06549"></a>06549 <span class="keyword">public</span>:
<a name="l06553"></a>06553     File();
<a name="l06554"></a>06554 
<a name="l06559"></a>06559     <span class="keyword">explicit</span> File(HANDLE handle);
<a name="l06560"></a>06560 
<a name="l06564"></a>06564     <span class="keyword">virtual</span> ~File();
<a name="l06565"></a>06565 
<a name="l06578"></a>06578     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> openPath(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> canWrite = <span class="keyword">false</span>, <span class="keywordtype">bool</span> canRead = <span class="keyword">true</span>,
<a name="l06579"></a>06579         <span class="keywordtype">bool</span> create = <span class="keyword">false</span>, <span class="keywordtype">bool</span> append = <span class="keyword">false</span>, <span class="keywordtype">bool</span> binary = <span class="keyword">false</span>,
<a name="l06580"></a>06580         <span class="keywordtype">bool</span> pubReadable = <span class="keyword">false</span>, <span class="keywordtype">bool</span> pubWritable = <span class="keyword">false</span>);
<a name="l06581"></a>06581 
<a name="l06586"></a>06586     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> terminate();
<a name="l06587"></a>06587 
<a name="l06592"></a>06592     <span class="keywordtype">void</span> attach(HANDLE handle);
<a name="l06593"></a>06593 
<a name="l06598"></a>06598     HANDLE detach();
<a name="l06599"></a>06599 
<a name="l06604"></a><a class="code" href="classTelEngine_1_1File.html#2a9cc2cfb998876fc8e8e952bbcffa1e">06604</a>     <span class="keyword">inline</span> HANDLE handle()<span class="keyword"> const</span>
<a name="l06605"></a>06605 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_handle; }
<a name="l06606"></a>06606 
<a name="l06611"></a>06611     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canRetry() <span class="keyword">const</span>;
<a name="l06612"></a>06612 
<a name="l06617"></a>06617     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() <span class="keyword">const</span>;
<a name="l06618"></a>06618 
<a name="l06623"></a>06623     <span class="keyword">static</span> HANDLE invalidHandle();
<a name="l06624"></a>06624 
<a name="l06630"></a>06630     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setBlocking(<span class="keywordtype">bool</span> block = <span class="keyword">true</span>);
<a name="l06631"></a>06631 
<a name="l06636"></a>06636     <span class="keyword">virtual</span> int64_t length();
<a name="l06637"></a>06637 
<a name="l06644"></a>06644     <span class="keyword">virtual</span> int64_t seek(SeekPos pos, int64_t offset = 0);
<a name="l06645"></a>06645 
<a name="l06652"></a>06652     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length);
<a name="l06653"></a>06653 
<a name="l06660"></a>06660     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readData(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length);
<a name="l06661"></a>06661 
<a name="l06667"></a>06667     <span class="keywordtype">bool</span> getFileTime(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; secEpoch);
<a name="l06668"></a>06668 
<a name="l06675"></a>06675     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> md5(String&amp; buffer);
<a name="l06676"></a>06676 
<a name="l06684"></a>06684     <span class="keyword">static</span> <span class="keywordtype">bool</span> setFileTime(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> secEpoch, <span class="keywordtype">int</span>* error = 0);
<a name="l06685"></a>06685 
<a name="l06693"></a>06693     <span class="keyword">static</span> <span class="keywordtype">bool</span> getFileTime(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; secEpoch, <span class="keywordtype">int</span>* error = 0);
<a name="l06694"></a>06694 
<a name="l06701"></a>06701     <span class="keyword">static</span> <span class="keywordtype">bool</span> exists(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span>* error = 0);
<a name="l06702"></a>06702 
<a name="l06710"></a>06710     <span class="keyword">static</span> <span class="keywordtype">bool</span> rename(<span class="keyword">const</span> <span class="keywordtype">char</span>* oldFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* newFile, <span class="keywordtype">int</span>* error = 0);
<a name="l06711"></a>06711 
<a name="l06718"></a>06718     <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">int</span>* error = 0);
<a name="l06719"></a>06719 
<a name="l06727"></a>06727     <span class="keyword">static</span> <span class="keywordtype">bool</span> md5(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, String&amp; buffer, <span class="keywordtype">int</span>* error = 0);
<a name="l06728"></a>06728 
<a name="l06736"></a>06736     <span class="keyword">static</span> <span class="keywordtype">bool</span> mkDir(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">int</span>* error = 0, <span class="keywordtype">int</span> mode = -1);
<a name="l06737"></a>06737 
<a name="l06744"></a>06744     <span class="keyword">static</span> <span class="keywordtype">bool</span> rmDir(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">int</span>* error = 0);
<a name="l06745"></a>06745 
<a name="l06757"></a>06757     <span class="keyword">static</span> <span class="keywordtype">bool</span> listDirectory(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, ObjList* dirs, ObjList* files,
<a name="l06758"></a>06758         <span class="keywordtype">int</span>* error = 0);
<a name="l06759"></a>06759 
<a name="l06766"></a>06766     <span class="keyword">static</span> <span class="keywordtype">bool</span> createPipe(File&amp; reader, File&amp; writer);
<a name="l06767"></a>06767 
<a name="l06768"></a>06768 <span class="keyword">protected</span>:
<a name="l06769"></a>06769 
<a name="l06773"></a>06773     <span class="keywordtype">void</span> copyError();
<a name="l06774"></a>06774 
<a name="l06775"></a>06775     HANDLE m_handle;
<a name="l06776"></a>06776 };
<a name="l06777"></a>06777 
<a name="l06782"></a><a class="code" href="classTelEngine_1_1Socket.html">06782</a> <span class="keyword">class </span>YATE_API Socket : <span class="keyword">public</span> Stream
<a name="l06783"></a>06783 {
<a name="l06784"></a>06784     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Socket); <span class="comment">// no automatic copies please</span>
<a name="l06785"></a>06785 <span class="keyword">public</span>:
<a name="l06789"></a><a class="code" href="classTelEngine_1_1Socket.html#f11a28b6d71a01ed512f1252b1f14daf">06789</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Socket.html#f11a28b6d71a01ed512f1252b1f14daf">TOS</a> {
<a name="l06790"></a>06790         Normal         = 0,
<a name="l06791"></a>06791         LowDelay       = IPTOS_LOWDELAY,
<a name="l06792"></a>06792         MaxThroughput  = IPTOS_THROUGHPUT,
<a name="l06793"></a>06793         MaxReliability = IPTOS_RELIABILITY,
<a name="l06794"></a>06794         MinCost        = IPTOS_MINCOST,
<a name="l06795"></a>06795     };
<a name="l06796"></a>06796 
<a name="l06800"></a><a class="code" href="classTelEngine_1_1Socket.html#32fe0ad6e29a6545c0e3cbf3ac262e94">06800</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Socket.html#32fe0ad6e29a6545c0e3cbf3ac262e94">DSCP</a> {
<a name="l06801"></a>06801         DefaultPHB     = 0x00,
<a name="l06802"></a>06802         <span class="comment">// Class selectors</span>
<a name="l06803"></a>06803         CS0            = 0x00,
<a name="l06804"></a>06804         CS1            = 0x20,
<a name="l06805"></a>06805         CS2            = 0x40,
<a name="l06806"></a>06806         CS3            = 0x60,
<a name="l06807"></a>06807         CS4            = 0x80,
<a name="l06808"></a>06808         CS5            = 0xa0,
<a name="l06809"></a>06809         CS6            = 0xc0,
<a name="l06810"></a>06810         CS7            = 0xe0,
<a name="l06811"></a>06811         <span class="comment">// Assured forwarding</span>
<a name="l06812"></a>06812         AF11           = 0x28,
<a name="l06813"></a>06813         AF12           = 0x30,
<a name="l06814"></a>06814         AF13           = 0x38,
<a name="l06815"></a>06815         AF21           = 0x48,
<a name="l06816"></a>06816         AF22           = 0x50,
<a name="l06817"></a>06817         AF23           = 0x58,
<a name="l06818"></a>06818         AF31           = 0x68,
<a name="l06819"></a>06819         AF32           = 0x70,
<a name="l06820"></a>06820         AF33           = 0x78,
<a name="l06821"></a>06821         AF41           = 0x88,
<a name="l06822"></a>06822         AF42           = 0x90,
<a name="l06823"></a>06823         AF43           = 0x98,
<a name="l06824"></a>06824         <span class="comment">// Expedited forwarding</span>
<a name="l06825"></a>06825         ExpeditedFwd   = 0xb8,
<a name="l06826"></a>06826         VoiceAdmit     = 0xb0,
<a name="l06827"></a>06827     };
<a name="l06828"></a>06828 
<a name="l06832"></a>06832     Socket();
<a name="l06833"></a>06833 
<a name="l06838"></a>06838     <span class="keyword">explicit</span> Socket(SOCKET handle);
<a name="l06839"></a>06839 
<a name="l06846"></a>06846     Socket(<span class="keywordtype">int</span> domain, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> protocol = 0);
<a name="l06847"></a>06847 
<a name="l06851"></a>06851     <span class="keyword">virtual</span> ~Socket();
<a name="l06852"></a>06852 
<a name="l06860"></a>06860     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> create(<span class="keywordtype">int</span> domain, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> protocol = 0);
<a name="l06861"></a>06861 
<a name="l06866"></a>06866     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> terminate();
<a name="l06867"></a>06867 
<a name="l06872"></a>06872     <span class="keywordtype">void</span> attach(SOCKET handle);
<a name="l06873"></a>06873 
<a name="l06878"></a>06878     SOCKET detach();
<a name="l06879"></a>06879 
<a name="l06884"></a><a class="code" href="classTelEngine_1_1Socket.html#74cc7eb977b70e87b4a36179099d4875">06884</a>     <span class="keyword">inline</span> SOCKET handle()<span class="keyword"> const</span>
<a name="l06885"></a>06885 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_handle; }
<a name="l06886"></a>06886 
<a name="l06891"></a>06891     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canRetry() <span class="keyword">const</span>;
<a name="l06892"></a>06892 
<a name="l06897"></a>06897     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> inProgress() <span class="keyword">const</span>;
<a name="l06898"></a>06898 
<a name="l06903"></a>06903     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid() <span class="keyword">const</span>;
<a name="l06904"></a>06904 
<a name="l06909"></a>06909     <span class="keyword">static</span> SOCKET invalidHandle();
<a name="l06910"></a>06910 
<a name="l06915"></a>06915     <span class="keyword">static</span> <span class="keywordtype">int</span> socketError();
<a name="l06916"></a>06916 
<a name="l06921"></a>06921     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* tosValues();
<a name="l06922"></a>06922 
<a name="l06931"></a>06931     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setOption(<span class="keywordtype">int</span> level, <span class="keywordtype">int</span> name, <span class="keyword">const</span> <span class="keywordtype">void</span>* value = 0, socklen_t length = 0);
<a name="l06932"></a>06932 
<a name="l06941"></a><a class="code" href="classTelEngine_1_1Socket.html#7c8a2ed51d5d6ac10387245399edc187">06941</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> setIpv6OnlyOption(<span class="keywordtype">bool</span> on) {
<a name="l06942"></a>06942 <span class="preprocessor">#if defined(IPPROTO_IPV6) &amp;&amp; defined(IPV6_V6ONLY)</span>
<a name="l06943"></a>06943 <span class="preprocessor"></span>            <span class="keywordtype">int</span> value = on ? 1 : 0;
<a name="l06944"></a>06944             <span class="keywordflow">return</span> setOption(IPPROTO_IPV6,IPV6_V6ONLY,&amp;value,<span class="keyword">sizeof</span>(value));
<a name="l06945"></a>06945 <span class="preprocessor">#else</span>
<a name="l06946"></a>06946 <span class="preprocessor"></span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l06947"></a>06947 <span class="preprocessor">#endif</span>
<a name="l06948"></a>06948 <span class="preprocessor"></span>        }
<a name="l06949"></a>06949 
<a name="l06958"></a>06958     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getOption(<span class="keywordtype">int</span> level, <span class="keywordtype">int</span> name, <span class="keywordtype">void</span>* buffer, socklen_t* length);
<a name="l06959"></a>06959 
<a name="l06964"></a><a class="code" href="classTelEngine_1_1Socket.html#c547d45652df22f1a9956e7f77608a80">06964</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setParams(<span class="keyword">const</span> NamedList&amp; params)
<a name="l06965"></a>06965         { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l06966"></a>06966 
<a name="l06973"></a><a class="code" href="classTelEngine_1_1Socket.html#bbcbc968464cd7b13b2515e853e2c497">06973</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getParams(<span class="keyword">const</span> String&amp; params, NamedList&amp; result)
<a name="l06974"></a>06974         { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l06975"></a>06975 
<a name="l06981"></a>06981     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setTOS(<span class="keywordtype">int</span> tos);
<a name="l06982"></a>06982 
<a name="l06989"></a><a class="code" href="classTelEngine_1_1Socket.html#f956a016d92df6cd252b52da6539313f">06989</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> setTOS(<span class="keyword">const</span> <span class="keywordtype">char</span>* tos, <span class="keywordtype">int</span> defTos = Normal)
<a name="l06990"></a>06990         { <span class="keywordflow">return</span> setTOS(<a class="code" href="namespaceTelEngine.html#4668c9172c6ae5f59f5782ecc6e05516">lookup</a>(tos,tosValues(),defTos)); }
<a name="l06991"></a>06991 
<a name="l06996"></a>06996     <span class="keyword">virtual</span> <span class="keywordtype">int</span> getTOS();
<a name="l06997"></a>06997 
<a name="l07003"></a>07003     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setBlocking(<span class="keywordtype">bool</span> block = <span class="keyword">true</span>);
<a name="l07004"></a>07004 
<a name="l07012"></a>07012     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setReuse(<span class="keywordtype">bool</span> reuse = <span class="keyword">true</span>, <span class="keywordtype">bool</span> exclusive = <span class="keyword">false</span>);
<a name="l07013"></a>07013 
<a name="l07020"></a>07020     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setLinger(<span class="keywordtype">int</span> seconds = -1);
<a name="l07021"></a>07021 
<a name="l07028"></a>07028     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> bind(<span class="keyword">struct</span> sockaddr* addr, socklen_t addrlen);
<a name="l07029"></a>07029 
<a name="l07035"></a><a class="code" href="classTelEngine_1_1Socket.html#6535ae926f65166dc8faae6b994d10a0">07035</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> bind(<span class="keyword">const</span> SocketAddr&amp; addr)
<a name="l07036"></a>07036         { <span class="keywordflow">return</span> bind(addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(), addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>()); }
<a name="l07037"></a>07037 
<a name="l07043"></a>07043     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> listen(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> backlog = 0);
<a name="l07044"></a>07044 
<a name="l07051"></a>07051     <span class="keyword">virtual</span> Socket* accept(<span class="keyword">struct</span> sockaddr* addr = 0, socklen_t* addrlen = 0);
<a name="l07052"></a>07052 
<a name="l07058"></a>07058     Socket* accept(SocketAddr&amp; addr);
<a name="l07059"></a>07059 
<a name="l07066"></a>07066     SOCKET acceptHandle(<span class="keyword">struct</span> sockaddr* addr = 0, socklen_t* addrlen = 0);
<a name="l07067"></a>07067 
<a name="l07075"></a>07075     <span class="keywordtype">bool</span> updateError();
<a name="l07076"></a>07076 
<a name="l07081"></a>07081     <span class="keyword">static</span> <span class="keywordtype">bool</span> efficientSelect();
<a name="l07082"></a>07082 
<a name="l07088"></a>07088     <span class="keyword">static</span> <span class="keywordtype">bool</span> canSelect(SOCKET handle);
<a name="l07089"></a>07089 
<a name="l07094"></a>07094     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canSelect() <span class="keyword">const</span>;
<a name="l07095"></a>07095 
<a name="l07102"></a>07102     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> connect(<span class="keyword">struct</span> sockaddr* addr, socklen_t addrlen);
<a name="l07103"></a>07103 
<a name="l07109"></a><a class="code" href="classTelEngine_1_1Socket.html#fb9f1e57e9a0df314c8b9f60658e27de">07109</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> connect(<span class="keyword">const</span> SocketAddr&amp; addr)
<a name="l07110"></a>07110         { <span class="keywordflow">return</span> connect(addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(), addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>()); }
<a name="l07111"></a>07111 
<a name="l07121"></a>07121     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> connectAsync(<span class="keyword">struct</span> sockaddr* addr, socklen_t addrlen, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> toutUs,
<a name="l07122"></a>07122         <span class="keywordtype">bool</span>* timeout = 0);
<a name="l07123"></a>07123 
<a name="l07132"></a><a class="code" href="classTelEngine_1_1Socket.html#0a3a9789924597e8aee4a841f150f6bb">07132</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> connectAsync(<span class="keyword">const</span> SocketAddr&amp; addr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> toutUs,
<a name="l07133"></a>07133         <span class="keywordtype">bool</span>* timeout = 0)
<a name="l07134"></a>07134         { <span class="keywordflow">return</span> connectAsync(addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(),addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>(),toutUs,timeout); }
<a name="l07135"></a>07135 
<a name="l07142"></a>07142     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> shutdown(<span class="keywordtype">bool</span> stopReads, <span class="keywordtype">bool</span> stopWrites);
<a name="l07143"></a>07143 
<a name="l07150"></a>07150     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getSockName(<span class="keyword">struct</span> sockaddr* addr, socklen_t* addrlen);
<a name="l07151"></a>07151 
<a name="l07157"></a>07157     <span class="keywordtype">bool</span> getSockName(SocketAddr&amp; addr);
<a name="l07158"></a>07158 
<a name="l07165"></a>07165     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getPeerName(<span class="keyword">struct</span> sockaddr* addr, socklen_t* addrlen);
<a name="l07166"></a>07166 
<a name="l07172"></a>07172     <span class="keywordtype">bool</span> getPeerName(SocketAddr&amp; addr);
<a name="l07173"></a>07173 
<a name="l07183"></a>07183     <span class="keyword">virtual</span> <span class="keywordtype">int</span> sendTo(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr* addr, socklen_t adrlen, <span class="keywordtype">int</span> flags = 0);
<a name="l07184"></a>07184 
<a name="l07193"></a><a class="code" href="classTelEngine_1_1Socket.html#75d1a52c686a25571dac70e2b2f4349d">07193</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> sendTo(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keyword">const</span> SocketAddr&amp; addr, <span class="keywordtype">int</span> flags = 0)
<a name="l07194"></a>07194         { <span class="keywordflow">return</span> sendTo(buffer, length, addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#703617135035a1aafc80c0b780a2a23b">address</a>(), addr.<a class="code" href="classTelEngine_1_1SocketAddr.html#3dd29c4d5395d7e864c151fdbc473c10">length</a>(), flags); }
<a name="l07195"></a>07195 
<a name="l07203"></a>07203     <span class="keyword">virtual</span> <span class="keywordtype">int</span> send(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> flags = 0);
<a name="l07204"></a>07204 
<a name="l07211"></a>07211     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeData(<span class="keyword">const</span> <span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length);
<a name="l07212"></a>07212 
<a name="l07222"></a>07222     <span class="keyword">virtual</span> <span class="keywordtype">int</span> recvFrom(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keyword">struct</span> sockaddr* addr = 0, socklen_t* adrlen = 0, <span class="keywordtype">int</span> flags = 0);
<a name="l07223"></a>07223 
<a name="l07232"></a>07232     <span class="keywordtype">int</span> recvFrom(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, SocketAddr&amp; addr, <span class="keywordtype">int</span> flags = 0);
<a name="l07233"></a>07233 
<a name="l07241"></a>07241     <span class="keyword">virtual</span> <span class="keywordtype">int</span> recv(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> flags = 0);
<a name="l07242"></a>07242 
<a name="l07249"></a>07249     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readData(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length);
<a name="l07250"></a>07250 
<a name="l07259"></a>07259     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> select(<span class="keywordtype">bool</span>* readok, <span class="keywordtype">bool</span>* writeok, <span class="keywordtype">bool</span>* except, <span class="keyword">struct</span> timeval* timeout = 0);
<a name="l07260"></a>07260 
<a name="l07269"></a>07269     <span class="keywordtype">bool</span> select(<span class="keywordtype">bool</span>* readok, <span class="keywordtype">bool</span>* writeok, <span class="keywordtype">bool</span>* except, int64_t timeout);
<a name="l07270"></a>07270 
<a name="l07276"></a>07276     <span class="keywordtype">bool</span> installFilter(SocketFilter* filter);
<a name="l07277"></a>07277 
<a name="l07283"></a>07283     <span class="keywordtype">void</span> removeFilter(SocketFilter* filter, <span class="keywordtype">bool</span> delobj = <span class="keyword">false</span>);
<a name="l07284"></a>07284 
<a name="l07288"></a>07288     <span class="keywordtype">void</span> clearFilters();
<a name="l07289"></a>07289 
<a name="l07296"></a>07296     <span class="keyword">virtual</span> <span class="keywordtype">void</span> timerTick(<span class="keyword">const</span> Time&amp; when);
<a name="l07297"></a>07297 
<a name="l07305"></a>07305     <span class="keyword">static</span> <span class="keywordtype">bool</span> createPair(Socket&amp; sock1, Socket&amp; sock2, <span class="keywordtype">int</span> domain = AF_UNIX);
<a name="l07306"></a>07306 
<a name="l07307"></a>07307 <span class="keyword">protected</span>:
<a name="l07308"></a>07308 
<a name="l07312"></a>07312     <span class="keywordtype">void</span> copyError();
<a name="l07313"></a>07313 
<a name="l07320"></a>07320     <span class="keywordtype">bool</span> checkError(<span class="keywordtype">int</span> retcode, <span class="keywordtype">bool</span> strict = <span class="keyword">false</span>);
<a name="l07321"></a>07321 
<a name="l07331"></a>07331     <span class="keywordtype">bool</span> applyFilters(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <span class="keyword">struct</span> sockaddr* addr = 0, socklen_t adrlen = 0);
<a name="l07332"></a>07332 
<a name="l07333"></a>07333     SOCKET m_handle;
<a name="l07334"></a>07334     ObjList m_filters;
<a name="l07335"></a>07335 };
<a name="l07336"></a>07336 
<a name="l07341"></a><a class="code" href="classTelEngine_1_1SctpSocket.html">07341</a> <span class="keyword">class </span>YATE_API SctpSocket : <span class="keyword">public</span> Socket
<a name="l07342"></a>07342 {
<a name="l07343"></a>07343     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(SctpSocket); <span class="comment">// no automatic copies please</span>
<a name="l07344"></a>07344 <span class="keyword">public</span>:
<a name="l07348"></a><a class="code" href="classTelEngine_1_1SctpSocket.html#7007ee2aa8d75e7c5e062f992f3424ef">07348</a>      <span class="keyword">inline</span> SctpSocket()
<a name="l07349"></a>07349         { }
<a name="l07350"></a>07350 
<a name="l07355"></a><a class="code" href="classTelEngine_1_1SctpSocket.html#e32dde86cbd30d9fcebf2fc3770a8c65">07355</a>     <span class="keyword">inline</span> <span class="keyword">explicit</span> SctpSocket(SOCKET fd)
<a name="l07356"></a>07356         : Socket(fd)
<a name="l07357"></a>07357         { }
<a name="l07358"></a>07358 
<a name="l07362"></a>07362     <span class="keyword">virtual</span> ~SctpSocket();
<a name="l07363"></a>07363 
<a name="l07369"></a>07369     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> bindx(ObjList&amp; addresses) = 0;
<a name="l07370"></a>07370 
<a name="l07376"></a>07376     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> connectx(ObjList&amp; addresses) = 0;
<a name="l07377"></a>07377 
<a name="l07387"></a>07387     <span class="keyword">virtual</span> <span class="keywordtype">int</span> sendTo(<span class="keywordtype">void</span>* buffer, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> stream, SocketAddr&amp; addr, <span class="keywordtype">int</span> flags) = 0;
<a name="l07388"></a>07388 
<a name="l07394"></a><a class="code" href="classTelEngine_1_1SctpSocket.html#b06b36e06829716b68bb30dff9356781">07394</a>     <span class="keyword">virtual</span> Socket* accept(SocketAddr&amp; addr)
<a name="l07395"></a>07395         { <span class="keywordflow">return</span> 0; }
<a name="l07396"></a>07396 
<a name="l07405"></a>07405     <span class="keyword">virtual</span> <span class="keywordtype">int</span> sendMsg(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> stream, <span class="keywordtype">int</span>&amp; flags) = 0;
<a name="l07406"></a>07406 
<a name="l07416"></a>07416     <span class="keyword">virtual</span> <span class="keywordtype">int</span> recvMsg(<span class="keywordtype">void</span>* buf, <span class="keywordtype">int</span> length, SocketAddr&amp; addr, <span class="keywordtype">int</span>&amp; stream, <span class="keywordtype">int</span>&amp; flags) = 0;
<a name="l07417"></a>07417 
<a name="l07424"></a>07424     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setStreams(<span class="keywordtype">int</span> inbound, <span class="keywordtype">int</span> outbound) = 0;
<a name="l07425"></a>07425 
<a name="l07431"></a>07431     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> subscribeEvents() = 0;
<a name="l07432"></a>07432 
<a name="l07439"></a>07439     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getStreams(<span class="keywordtype">int</span>&amp; inbound, <span class="keywordtype">int</span>&amp; outbound) = 0;
<a name="l07440"></a>07440 
<a name="l07446"></a>07446     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setPayload(u_int32_t payload) = 0;
<a name="l07447"></a>07447 };
<a name="l07448"></a>07448 
<a name="l07453"></a><a class="code" href="classTelEngine_1_1DnsRecord.html">07453</a> <span class="keyword">class </span>YATE_API DnsRecord : <span class="keyword">public</span> GenObject
<a name="l07454"></a>07454 {
<a name="l07455"></a>07455     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(DnsRecord,GenObject)
<a name="l07456"></a>07456     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(DnsRecord);
<a name="l07457"></a>07457 <span class="keyword">public</span>:
<a name="l07464"></a><a class="code" href="classTelEngine_1_1DnsRecord.html#14f0b7dcd6c8131fc4c6fcb4986a1d25">07464</a>     <span class="keyword">inline</span> DnsRecord(<span class="keywordtype">int</span> ttl, <span class="keywordtype">int</span> order, <span class="keywordtype">int</span> pref)
<a name="l07465"></a>07465         : m_ttl(ttl), m_order(order), m_pref(pref)
<a name="l07466"></a>07466         {}
<a name="l07467"></a>07467 
<a name="l07471"></a><a class="code" href="classTelEngine_1_1DnsRecord.html#6d6c7db0b31431456d69d4060c68171f">07471</a>     <span class="keyword">inline</span> DnsRecord()
<a name="l07472"></a>07472         : m_order(0), m_pref(0)
<a name="l07473"></a>07473         {}
<a name="l07474"></a>07474 
<a name="l07479"></a><a class="code" href="classTelEngine_1_1DnsRecord.html#b7cbd905a4d95f2fa0380ae2ccf601bf">07479</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> ttl()<span class="keyword"> const</span>
<a name="l07480"></a>07480 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_ttl; }
<a name="l07481"></a>07481 
<a name="l07486"></a><a class="code" href="classTelEngine_1_1DnsRecord.html#bcc41a4e499b9ebcdc71c5e213c7c22f">07486</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> order()<span class="keyword"> const</span>
<a name="l07487"></a>07487 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_order; }
<a name="l07488"></a>07488 
<a name="l07493"></a><a class="code" href="classTelEngine_1_1DnsRecord.html#e3b778528c1dbba89206912e33356cc4">07493</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> pref()<span class="keyword"> const</span>
<a name="l07494"></a>07494 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_pref; }
<a name="l07495"></a>07495 
<a name="l07501"></a>07501     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dump(String&amp; buf, <span class="keyword">const</span> <span class="keywordtype">char</span>* sep = <span class="stringliteral">" "</span>);
<a name="l07502"></a>07502 
<a name="l07510"></a>07510     <span class="keyword">static</span> <span class="keywordtype">bool</span> insert(ObjList&amp; list, DnsRecord* rec, <span class="keywordtype">bool</span> ascPref);
<a name="l07511"></a>07511 
<a name="l07512"></a>07512 <span class="keyword">protected</span>:
<a name="l07513"></a>07513     <span class="keywordtype">int</span> m_ttl;
<a name="l07514"></a>07514     <span class="keywordtype">int</span> m_order;
<a name="l07515"></a>07515     <span class="keywordtype">int</span> m_pref;
<a name="l07516"></a>07516 };
<a name="l07517"></a>07517 
<a name="l07522"></a><a class="code" href="classTelEngine_1_1TxtRecord.html">07522</a> <span class="keyword">class </span>YATE_API TxtRecord : <span class="keyword">public</span> DnsRecord
<a name="l07523"></a>07523 {
<a name="l07524"></a>07524     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(TxtRecord,DnsRecord)
<a name="l07525"></a>07525     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(TxtRecord);
<a name="l07526"></a>07526 <span class="keyword">public</span>:
<a name="l07532"></a><a class="code" href="classTelEngine_1_1TxtRecord.html#2bf02e0631f279f6dfdb81687d31bd38">07532</a>     <span class="keyword">inline</span> TxtRecord(<span class="keywordtype">int</span> ttl, <span class="keyword">const</span> <span class="keywordtype">char</span>* text)
<a name="l07533"></a>07533         : DnsRecord(ttl,-1,-1), m_text(text)
<a name="l07534"></a>07534         {}
<a name="l07535"></a>07535 
<a name="l07540"></a><a class="code" href="classTelEngine_1_1TxtRecord.html#b2a80c607cbfd339aa004f3c32150a36">07540</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; text()<span class="keyword"> const</span>
<a name="l07541"></a>07541 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_text; }
<a name="l07542"></a>07542 
<a name="l07548"></a>07548     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dump(String&amp; buf, <span class="keyword">const</span> <span class="keywordtype">char</span>* sep = <span class="stringliteral">" "</span>);
<a name="l07549"></a>07549 
<a name="l07555"></a>07555     <span class="keyword">static</span> <span class="keywordtype">void</span> copy(ObjList&amp; dest, <span class="keyword">const</span> ObjList&amp; src);
<a name="l07556"></a>07556 
<a name="l07557"></a>07557 <span class="keyword">protected</span>:
<a name="l07558"></a>07558     String m_text;
<a name="l07559"></a>07559 
<a name="l07560"></a>07560 <span class="keyword">private</span>:
<a name="l07561"></a>07561     TxtRecord() {}                       <span class="comment">// No default contructor</span>
<a name="l07562"></a>07562 };
<a name="l07563"></a>07563 
<a name="l07568"></a><a class="code" href="classTelEngine_1_1SrvRecord.html">07568</a> <span class="keyword">class </span>YATE_API SrvRecord : <span class="keyword">public</span> DnsRecord
<a name="l07569"></a>07569 {
<a name="l07570"></a>07570     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(SrvRecord,DnsRecord)
<a name="l07571"></a>07571     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(SrvRecord);
<a name="l07572"></a>07572 <span class="keyword">public</span>:
<a name="l07581"></a><a class="code" href="classTelEngine_1_1SrvRecord.html#1259287537b15bd91c078061710bee86">07581</a>     <span class="keyword">inline</span> SrvRecord(<span class="keywordtype">int</span> ttl, <span class="keywordtype">int</span> prio, <span class="keywordtype">int</span> weight, <span class="keyword">const</span> <span class="keywordtype">char</span>* addr, <span class="keywordtype">int</span> port)
<a name="l07582"></a>07582         : DnsRecord(ttl,prio,weight), m_address(addr), m_port(port)
<a name="l07583"></a>07583         {}
<a name="l07584"></a>07584 
<a name="l07589"></a><a class="code" href="classTelEngine_1_1SrvRecord.html#e60ccaf7ed68d705de03a0732040fa8f">07589</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; address()<span class="keyword"> const</span>
<a name="l07590"></a>07590 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_address; }
<a name="l07591"></a>07591 
<a name="l07596"></a><a class="code" href="classTelEngine_1_1SrvRecord.html#1f39e1fa88e061ddd4dc15a3be1a0450">07596</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> port()<span class="keyword"> const</span>
<a name="l07597"></a>07597 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_port; }
<a name="l07598"></a>07598 
<a name="l07604"></a>07604     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dump(String&amp; buf, <span class="keyword">const</span> <span class="keywordtype">char</span>* sep = <span class="stringliteral">" "</span>);
<a name="l07605"></a>07605 
<a name="l07611"></a>07611     <span class="keyword">static</span> <span class="keywordtype">void</span> copy(ObjList&amp; dest, <span class="keyword">const</span> ObjList&amp; src);
<a name="l07612"></a>07612 
<a name="l07613"></a>07613 <span class="keyword">protected</span>:
<a name="l07614"></a>07614     String m_address;
<a name="l07615"></a>07615     <span class="keywordtype">int</span> m_port;
<a name="l07616"></a>07616 
<a name="l07617"></a>07617 <span class="keyword">private</span>:
<a name="l07618"></a>07618     SrvRecord() {}                       <span class="comment">// No default contructor</span>
<a name="l07619"></a>07619 };
<a name="l07620"></a>07620 
<a name="l07625"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html">07625</a> <span class="keyword">class </span>YATE_API NaptrRecord : <span class="keyword">public</span> DnsRecord
<a name="l07626"></a>07626 {
<a name="l07627"></a>07627     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(NaptrRecord,DnsRecord)
<a name="l07628"></a>07628     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(NaptrRecord);
<a name="l07629"></a>07629 <span class="keyword">public</span>:
<a name="l07640"></a>07640     NaptrRecord(<span class="keywordtype">int</span> ttl, <span class="keywordtype">int</span> ord, <span class="keywordtype">int</span> pref, <span class="keyword">const</span> <span class="keywordtype">char</span>* flags, <span class="keyword">const</span> <span class="keywordtype">char</span>* serv,
<a name="l07641"></a>07641         <span class="keyword">const</span> <span class="keywordtype">char</span>* regexp, <span class="keyword">const</span> <span class="keywordtype">char</span>* next);
<a name="l07642"></a>07642 
<a name="l07649"></a>07649     <span class="keywordtype">bool</span> replace(String&amp; str) <span class="keyword">const</span>;
<a name="l07650"></a>07650 
<a name="l07656"></a>07656     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dump(String&amp; buf, <span class="keyword">const</span> <span class="keywordtype">char</span>* sep = <span class="stringliteral">" "</span>);
<a name="l07657"></a>07657 
<a name="l07662"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html#4a0006672972cb75ebfb3d7b5b091e6b">07662</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; flags()<span class="keyword"> const</span>
<a name="l07663"></a>07663 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_flags; }
<a name="l07664"></a>07664 
<a name="l07669"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html#50a32d28f98bc9c4fd04220410fa01d5">07669</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; serv()<span class="keyword"> const</span>
<a name="l07670"></a>07670 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_service; }
<a name="l07671"></a>07671 
<a name="l07676"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html#de14798a181e19279adb0e6fab4e95a5">07676</a>     <span class="keyword">inline</span> <span class="keyword">const</span> Regexp&amp; regexp()<span class="keyword"> const</span>
<a name="l07677"></a>07677 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_regmatch; }
<a name="l07678"></a>07678 
<a name="l07683"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html#4b3323d2459f7f5164b356efc549fce7">07683</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; repTemplate()<span class="keyword"> const</span>
<a name="l07684"></a>07684 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_template; }
<a name="l07685"></a>07685 
<a name="l07690"></a><a class="code" href="classTelEngine_1_1NaptrRecord.html#d15ea5f0fa6c4a8e8cd448cb56569a98">07690</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; nextName()<span class="keyword"> const</span>
<a name="l07691"></a>07691 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_next; }
<a name="l07692"></a>07692 
<a name="l07693"></a>07693 <span class="keyword">protected</span>:
<a name="l07694"></a>07694     String m_flags;
<a name="l07695"></a>07695     String m_service;
<a name="l07696"></a>07696     Regexp m_regmatch;
<a name="l07697"></a>07697     String m_template;
<a name="l07698"></a>07698     String m_next;
<a name="l07699"></a>07699 
<a name="l07700"></a>07700 <span class="keyword">private</span>:
<a name="l07701"></a>07701     NaptrRecord() {}                     <span class="comment">// No default contructor</span>
<a name="l07702"></a>07702 };
<a name="l07703"></a>07703 
<a name="l07708"></a><a class="code" href="classTelEngine_1_1Resolver.html">07708</a> <span class="keyword">class </span>YATE_API Resolver
<a name="l07709"></a>07709 {
<a name="l07710"></a>07710 <span class="keyword">public</span>:
<a name="l07714"></a><a class="code" href="classTelEngine_1_1Resolver.html#1d1cfd8ffb84e947f82999c682b666a7">07714</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Resolver.html#1d1cfd8ffb84e947f82999c682b666a7">Type</a> {
<a name="l07715"></a>07715         Unknown,
<a name="l07716"></a>07716         Srv,                             <span class="comment">// SRV (Service Location)</span>
<a name="l07717"></a>07717         Naptr,                           <span class="comment">// NAPTR (Naming Authority Pointer)</span>
<a name="l07718"></a>07718         A4,                              <span class="comment">// A (Address)</span>
<a name="l07719"></a>07719         A6,                              <span class="comment">// AAAA (IPv6 Address)</span>
<a name="l07720"></a>07720         Txt,                             <span class="comment">// TXT (Text)</span>
<a name="l07721"></a>07721     };
<a name="l07722"></a>07722 
<a name="l07729"></a>07729     <span class="keyword">static</span> <span class="keywordtype">bool</span> available(Type type = Unknown);
<a name="l07730"></a>07730 
<a name="l07737"></a>07737     <span class="keyword">static</span> <span class="keywordtype">bool</span> init(<span class="keywordtype">int</span> timeout = -1, <span class="keywordtype">int</span> retries = -1);
<a name="l07738"></a>07738 
<a name="l07747"></a>07747     <span class="keyword">static</span> <span class="keywordtype">int</span> query(Type type, <span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07748"></a>07748 
<a name="l07756"></a>07756     <span class="keyword">static</span> <span class="keywordtype">int</span> srvQuery(<span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07757"></a>07757 
<a name="l07765"></a>07765     <span class="keyword">static</span> <span class="keywordtype">int</span> naptrQuery(<span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07766"></a>07766 
<a name="l07774"></a>07774     <span class="keyword">static</span> <span class="keywordtype">int</span> a4Query(<span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07775"></a>07775 
<a name="l07783"></a>07783     <span class="keyword">static</span> <span class="keywordtype">int</span> a6Query(<span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07784"></a>07784 
<a name="l07792"></a>07792     <span class="keyword">static</span> <span class="keywordtype">int</span> txtQuery(<span class="keyword">const</span> <span class="keywordtype">char</span>* dname, ObjList&amp; result, String* error = 0);
<a name="l07793"></a>07793 
<a name="l07797"></a><a class="code" href="classTelEngine_1_1Resolver.html#ffa43b76a083499faa7b013fdddfffbd">07797</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a> s_types[];
<a name="l07798"></a>07798 };
<a name="l07799"></a>07799 
<a name="l07804"></a><a class="code" href="classTelEngine_1_1Cipher.html">07804</a> <span class="keyword">class </span>YATE_API Cipher : <span class="keyword">public</span> GenObject
<a name="l07805"></a>07805 {
<a name="l07806"></a>07806 <span class="keyword">public</span>:
<a name="l07810"></a><a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">07810</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a> {
<a name="l07811"></a>07811         Bidir,
<a name="l07812"></a>07812         Encrypt,
<a name="l07813"></a>07813         Decrypt,
<a name="l07814"></a>07814     };
<a name="l07815"></a>07815 
<a name="l07820"></a><a class="code" href="classTelEngine_1_1Cipher.html#2f58b18f427cefe29e0efae895b814c3">07820</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* directions()
<a name="l07821"></a>07821         { <span class="keywordflow">return</span> s_directions; }
<a name="l07822"></a>07822 
<a name="l07829"></a><a class="code" href="classTelEngine_1_1Cipher.html#ae348f7b6311033de0ed6f6b35ffe383">07829</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a> direction(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a> defdir = Bidir)
<a name="l07830"></a>07830         { <span class="keywordflow">return</span> (<a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a>)<a class="code" href="namespaceTelEngine.html#4668c9172c6ae5f59f5782ecc6e05516">TelEngine::lookup</a>(name,s_directions,defdir); }
<a name="l07831"></a>07831 
<a name="l07835"></a>07835     <span class="keyword">virtual</span> ~Cipher();
<a name="l07836"></a>07836 
<a name="l07842"></a>07842     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
<a name="l07843"></a>07843 
<a name="l07849"></a>07849     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> valid(Direction dir = Bidir) <span class="keyword">const</span>;
<a name="l07850"></a>07850 
<a name="l07855"></a>07855     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blockSize() <span class="keyword">const</span> = 0;
<a name="l07856"></a>07856 
<a name="l07861"></a>07861     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initVectorSize() <span class="keyword">const</span>;
<a name="l07862"></a>07862 
<a name="l07868"></a>07868     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufferSize(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) <span class="keyword">const</span>;
<a name="l07869"></a>07869 
<a name="l07875"></a>07875     <span class="keywordtype">bool</span> bufferFull(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len) <span class="keyword">const</span>;
<a name="l07876"></a>07876 
<a name="l07884"></a>07884     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> setKey(<span class="keyword">const</span> <span class="keywordtype">void</span>* key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, Direction dir = Bidir) = 0;
<a name="l07885"></a>07885 
<a name="l07892"></a><a class="code" href="classTelEngine_1_1Cipher.html#f1533f3c87a2e5e12d2942c388267fed">07892</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> setKey(<span class="keyword">const</span> DataBlock&amp; key, <a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a> dir = Bidir)
<a name="l07893"></a>07893         { <span class="keywordflow">return</span> setKey(key.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),key.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>(),dir); }
<a name="l07894"></a>07894 
<a name="l07902"></a>07902     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> initVector(<span class="keyword">const</span> <span class="keywordtype">void</span>* vect, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, Direction dir = Bidir);
<a name="l07903"></a>07903 
<a name="l07910"></a><a class="code" href="classTelEngine_1_1Cipher.html#0f0623f4bdaca883910a535f172bfd0d">07910</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> initVector(<span class="keyword">const</span> DataBlock&amp; vect, <a class="code" href="classTelEngine_1_1Cipher.html#224b9163917ac32fc95a60d8c1eec3aa">Direction</a> dir = Bidir)
<a name="l07911"></a>07911         { <span class="keywordflow">return</span> initVector(vect.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),vect.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>(),dir); }
<a name="l07912"></a>07912 
<a name="l07920"></a>07920     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> encrypt(<span class="keywordtype">void</span>* outData, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keyword">const</span> <span class="keywordtype">void</span>* inpData = 0) = 0;
<a name="l07921"></a>07921 
<a name="l07927"></a><a class="code" href="classTelEngine_1_1Cipher.html#8b351378028f101abe2c28aee9cd48ba">07927</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> encrypt(DataBlock&amp; data)
<a name="l07928"></a>07928         { <span class="keywordflow">return</span> encrypt(data.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),data.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l07929"></a>07929 
<a name="l07937"></a>07937     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> decrypt(<span class="keywordtype">void</span>* outData, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keyword">const</span> <span class="keywordtype">void</span>* inpData = 0) = 0;
<a name="l07938"></a>07938 
<a name="l07944"></a><a class="code" href="classTelEngine_1_1Cipher.html#763e75bc71c26a763c0fb571ac73dd14">07944</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> decrypt(DataBlock&amp; data)
<a name="l07945"></a>07945         { <span class="keywordflow">return</span> decrypt(data.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),data.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>()); }
<a name="l07946"></a>07946 
<a name="l07947"></a>07947 <span class="keyword">private</span>:
<a name="l07948"></a>07948     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a> s_directions[];
<a name="l07949"></a>07949 };
<a name="l07950"></a>07950 
<a name="l07956"></a><a class="code" href="classTelEngine_1_1Compressor.html">07956</a> <span class="keyword">class </span>YATE_API Compressor : <span class="keyword">public</span> String
<a name="l07957"></a>07957 {
<a name="l07958"></a>07958     <a class="code" href="namespaceTelEngine.html#24f21eb06796ef4a600effa93365f50c">YCLASS</a>(Compressor,String)
<a name="l07959"></a>07959     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Compressor); <span class="comment">// no automatic copies please</span>
<a name="l07960"></a>07960 <span class="keyword">public</span>:
<a name="l07966"></a><a class="code" href="classTelEngine_1_1Compressor.html#268dd73a85a2f91308c82c671e5b5f01">07966</a>     <span class="keyword">inline</span> Compressor(<span class="keyword">const</span> <span class="keywordtype">char</span>* format, <span class="keyword">const</span> <span class="keywordtype">char</span>* name = 0)
<a name="l07967"></a>07967         : String(name), m_format(format)
<a name="l07968"></a>07968         {}
<a name="l07969"></a>07969 
<a name="l07973"></a><a class="code" href="classTelEngine_1_1Compressor.html#54b0b658ec0c817a52d16abd9a80d474">07973</a>     <span class="keyword">virtual</span> ~Compressor()
<a name="l07974"></a>07974         {}
<a name="l07975"></a>07975 
<a name="l07980"></a><a class="code" href="classTelEngine_1_1Compressor.html#2f7dad59920ac8eedf7e7b7ad8dca7b4">07980</a>     <span class="keyword">inline</span> <span class="keyword">const</span> String&amp; format()<span class="keyword"> const</span>
<a name="l07981"></a>07981 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_format; }
<a name="l07982"></a>07982 
<a name="l07990"></a><a class="code" href="classTelEngine_1_1Compressor.html#49ac3136a1354b137d06cabe586538b1">07990</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> init(<span class="keywordtype">bool</span> comp = <span class="keyword">true</span>, <span class="keywordtype">bool</span> decomp = <span class="keyword">true</span>,
<a name="l07991"></a>07991         <span class="keyword">const</span> NamedList&amp; params = <a class="code" href="classTelEngine_1_1NamedList.html#8f7111cca0cd4db7063364279518af53">NamedList::empty</a>())
<a name="l07992"></a>07992         { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l07993"></a>07993 
<a name="l07998"></a><a class="code" href="classTelEngine_1_1Compressor.html#65f96d3aa647b54d06c466f9a9449ea2">07998</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> finalize(<span class="keywordtype">bool</span> comp)
<a name="l07999"></a>07999         {}
<a name="l08000"></a>08000 
<a name="l08009"></a>08009     <span class="keyword">virtual</span> <span class="keywordtype">int</span> compress(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, DataBlock&amp; dest);
<a name="l08010"></a>08010 
<a name="l08019"></a>08019     <span class="keyword">virtual</span> <span class="keywordtype">int</span> decompress(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, DataBlock&amp; dest);
<a name="l08020"></a>08020 
<a name="l08031"></a>08031     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeComp(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">bool</span> flush) = 0;
<a name="l08032"></a>08032 
<a name="l08041"></a><a class="code" href="classTelEngine_1_1Compressor.html#500676e0da334e30394163e413cda101">08041</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeComp(<span class="keyword">const</span> DataBlock&amp; data, <span class="keywordtype">bool</span> flush)
<a name="l08042"></a>08042         { <span class="keywordflow">return</span> writeComp(data.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),data.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>(),flush); }
<a name="l08043"></a>08043 
<a name="l08052"></a><a class="code" href="classTelEngine_1_1Compressor.html#c9a25801d75f0dee792ea26a0e425af4">08052</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeComp(<span class="keyword">const</span> String&amp; data, <span class="keywordtype">bool</span> flush)
<a name="l08053"></a>08053         { <span class="keywordflow">return</span> writeComp(data.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),data.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>(),flush); }
<a name="l08054"></a>08054 
<a name="l08061"></a>08061     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readComp(DataBlock&amp; buf, <span class="keywordtype">bool</span> flush) = 0;
<a name="l08062"></a>08062 
<a name="l08071"></a>08071     <span class="keyword">virtual</span> <span class="keywordtype">int</span> writeDecomp(<span class="keyword">const</span> <span class="keywordtype">void</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len, <span class="keywordtype">bool</span> flush) = 0;
<a name="l08072"></a>08072 
<a name="l08080"></a><a class="code" href="classTelEngine_1_1Compressor.html#a3964c73c303b4ac22e6b6fc26a3cfac">08080</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeDecomp(<span class="keyword">const</span> DataBlock&amp; data, <span class="keywordtype">bool</span> flush)
<a name="l08081"></a>08081         { <span class="keywordflow">return</span> writeDecomp(data.<a class="code" href="classTelEngine_1_1DataBlock.html#e5911a048d63c6ea964463968a34e9e0">data</a>(),data.<a class="code" href="classTelEngine_1_1DataBlock.html#def4df49627e93e9be26936447917e68">length</a>(),flush); }
<a name="l08082"></a>08082 
<a name="l08090"></a><a class="code" href="classTelEngine_1_1Compressor.html#766589c60372a11666fca8c4da947806">08090</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> writeDecomp(<span class="keyword">const</span> String&amp; data, <span class="keywordtype">bool</span> flush)
<a name="l08091"></a>08091         { <span class="keywordflow">return</span> writeDecomp(data.<a class="code" href="classTelEngine_1_1String.html#14989d8fe448c5f947832aea3dae615a">c_str</a>(),data.<a class="code" href="classTelEngine_1_1String.html#def4df49627e93e9be26936447917e68">length</a>(),flush); }
<a name="l08092"></a>08092 
<a name="l08099"></a>08099     <span class="keyword">virtual</span> <span class="keywordtype">int</span> readDecomp(DataBlock&amp; buf, <span class="keywordtype">bool</span> flush) = 0;
<a name="l08100"></a>08100 
<a name="l08101"></a>08101 <span class="keyword">protected</span>:
<a name="l08102"></a>08102     String m_format;
<a name="l08103"></a>08103 };
<a name="l08104"></a>08104 
<a name="l08110"></a><a class="code" href="classTelEngine_1_1SysUsage.html">08110</a> <span class="keyword">class </span>YATE_API SysUsage
<a name="l08111"></a>08111 {
<a name="l08112"></a>08112 <span class="keyword">public</span>:
<a name="l08116"></a><a class="code" href="classTelEngine_1_1SysUsage.html#1d1cfd8ffb84e947f82999c682b666a7">08116</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1SysUsage.html#1d1cfd8ffb84e947f82999c682b666a7">Type</a> {
<a name="l08117"></a>08117         WallTime,
<a name="l08118"></a>08118         UserTime,
<a name="l08119"></a>08119         KernelTime
<a name="l08120"></a>08120     };
<a name="l08121"></a>08121 
<a name="l08125"></a>08125     <span class="keyword">static</span> <span class="keywordtype">void</span> init();
<a name="l08126"></a>08126 
<a name="l08131"></a>08131     <span class="keyword">static</span> u_int64_t startTime();
<a name="l08132"></a>08132 
<a name="l08138"></a>08138     <span class="keyword">static</span> u_int64_t usecRunTime(Type type = WallTime);
<a name="l08139"></a>08139 
<a name="l08145"></a>08145     <span class="keyword">static</span> u_int64_t msecRunTime(Type type = WallTime);
<a name="l08146"></a>08146 
<a name="l08152"></a>08152     <span class="keyword">static</span> u_int32_t secRunTime(Type type = WallTime);
<a name="l08153"></a>08153 
<a name="l08159"></a>08159     <span class="keyword">static</span> <span class="keywordtype">double</span> runTime(Type type = WallTime);
<a name="l08160"></a>08160 
<a name="l08161"></a>08161 };
<a name="l08162"></a>08162 
<a name="l08163"></a>08163 }; <span class="comment">// namespace TelEngine</span>
<a name="l08164"></a>08164 
<a name="l08165"></a>08165 <span class="preprocessor">#endif </span><span class="comment">/* __YATECLASS_H */</span>
<a name="l08166"></a>08166 
<a name="l08167"></a>08167 <span class="comment">/* vi: set ts=8 sw=4 sts=4 noet: */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Mar 1 15:45:05 2016 for Yate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>

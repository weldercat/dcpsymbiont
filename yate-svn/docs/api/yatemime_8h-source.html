<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Yate: yatemime.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>yatemime.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef __YATEMIME_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define __YATEMIME_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef __cplusplus</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#error C++ is required</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;yateclass.h&gt;</span>
<a name="l00030"></a>00030 
<a name="l00034"></a>00034 <span class="keyword">namespace </span>TelEngine {
<a name="l00035"></a>00035 
<a name="l00041"></a><a class="code" href="classTelEngine_1_1MimeHeaderLine.html">00041</a> <span class="keyword">class </span>YATE_API MimeHeaderLine : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>
<a name="l00042"></a>00042 {
<a name="l00043"></a>00043 <span class="keyword">public</span>:
<a name="l00052"></a>00052     MimeHeaderLine(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; value, <span class="keywordtype">char</span> sep = 0);
<a name="l00053"></a>00053 
<a name="l00060"></a>00060     MimeHeaderLine(<span class="keyword">const</span> MimeHeaderLine&amp; original, <span class="keyword">const</span> <span class="keywordtype">char</span>* newName = 0);
<a name="l00061"></a>00061 
<a name="l00065"></a>00065     <span class="keyword">virtual</span> ~MimeHeaderLine();
<a name="l00066"></a>00066 
<a name="l00072"></a>00072     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00073"></a>00073 
<a name="l00079"></a>00079     <span class="keyword">virtual</span> MimeHeaderLine* clone(<span class="keyword">const</span> <span class="keywordtype">char</span>* newName = 0) <span class="keyword">const</span>;
<a name="l00080"></a>00080 
<a name="l00086"></a>00086     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildLine(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; line, <span class="keywordtype">bool</span> header = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00087"></a>00087 
<a name="l00092"></a><a class="code" href="classTelEngine_1_1MimeHeaderLine.html#5375426b2602847028327c7e7d6133d9">00092</a>     <span class="keyword">inline</span> MimeHeaderLine&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l00093"></a>00093         { <a class="code" href="classTelEngine_1_1NamedString.html#712071aa5629d4eafe0b276d9c4c8baa">NamedString::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00094"></a>00094 
<a name="l00099"></a><a class="code" href="classTelEngine_1_1MimeHeaderLine.html#de564bdbac119923b58b69a577b2f1b6">00099</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; params()<span class="keyword"> const</span>
<a name="l00100"></a>00100 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_params; }
<a name="l00101"></a>00101 
<a name="l00106"></a><a class="code" href="classTelEngine_1_1MimeHeaderLine.html#c8e972530e2be9ccc41580991fed3cdb">00106</a>     <span class="keyword">inline</span> <span class="keywordtype">char</span> separator()<span class="keyword"> const</span>
<a name="l00107"></a>00107 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_separator; }
<a name="l00108"></a>00108 
<a name="l00114"></a>00114     <span class="keywordtype">void</span> setParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l00115"></a>00115 
<a name="l00120"></a>00120     <span class="keywordtype">void</span> delParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name);
<a name="l00121"></a>00121 
<a name="l00127"></a>00127     <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* getParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keyword">const</span>;
<a name="l00128"></a>00128 
<a name="l00134"></a>00134     <span class="keyword">static</span> <span class="keywordtype">void</span> addQuotes(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l00135"></a>00135 
<a name="l00141"></a>00141     <span class="keyword">static</span> <span class="keywordtype">void</span> delQuotes(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l00142"></a>00142 
<a name="l00149"></a>00149     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> quote(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l00150"></a>00150 
<a name="l00157"></a>00157     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> unquote(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str, <span class="keywordtype">bool</span> force = <span class="keyword">false</span>);
<a name="l00158"></a>00158 
<a name="l00166"></a>00166     <span class="keyword">static</span> <span class="keywordtype">int</span> findSep(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">char</span> sep, <span class="keywordtype">int</span> offs = 0);
<a name="l00167"></a>00167 
<a name="l00174"></a>00174     <span class="keyword">static</span> <span class="keywordtype">void</span> buildHeaders(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; buf, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; headers);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="keyword">protected</span>:
<a name="l00177"></a>00177     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_params;                    <span class="comment">// Header list of parameters</span>
<a name="l00178"></a>00178     <span class="keywordtype">char</span> m_separator;                    <span class="comment">// Parameter separator</span>
<a name="l00179"></a>00179 <span class="keyword">private</span>:
<a name="l00180"></a>00180     <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> MimeHeaderLine&amp;); <span class="comment">// no assignment</span>
<a name="l00181"></a>00181 };
<a name="l00182"></a>00182 
<a name="l00187"></a><a class="code" href="classTelEngine_1_1MimeAuthLine.html">00187</a> <span class="keyword">class </span>YATE_API MimeAuthLine : <span class="keyword">public</span> MimeHeaderLine
<a name="l00188"></a>00188 {
<a name="l00189"></a>00189 <span class="keyword">public</span>:
<a name="l00197"></a>00197     MimeAuthLine(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; value);
<a name="l00198"></a>00198 
<a name="l00205"></a>00205     MimeAuthLine(<span class="keyword">const</span> MimeAuthLine&amp; original, <span class="keyword">const</span> <span class="keywordtype">char</span>* newName = 0);
<a name="l00206"></a>00206 
<a name="l00212"></a>00212     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00213"></a>00213 
<a name="l00219"></a>00219     <span class="keyword">virtual</span> MimeHeaderLine* clone(<span class="keyword">const</span> <span class="keywordtype">char</span>* newName = 0) <span class="keyword">const</span>;
<a name="l00220"></a>00220 
<a name="l00226"></a>00226     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildLine(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; line, <span class="keywordtype">bool</span> header = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="keyword">private</span>:
<a name="l00229"></a>00229     <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> MimeAuthLine&amp;); <span class="comment">// no assignment</span>
<a name="l00230"></a>00230 };
<a name="l00231"></a>00231 
<a name="l00239"></a><a class="code" href="classTelEngine_1_1MimeBody.html">00239</a> <span class="keyword">class </span>YATE_API MimeBody : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1GenObject.html">GenObject</a>
<a name="l00240"></a>00240 {
<a name="l00241"></a>00241     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(MimeBody); <span class="comment">// no automatic copies please</span>
<a name="l00242"></a>00242 <span class="keyword">public</span>:
<a name="l00246"></a>00246     <span class="keyword">virtual</span> ~MimeBody();
<a name="l00247"></a>00247 
<a name="l00253"></a>00253     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00254"></a>00254 
<a name="l00259"></a><a class="code" href="classTelEngine_1_1MimeBody.html#ad3f42d0ac157bba79dd1e2c8b4111f2">00259</a>     <span class="keyword">inline</span> <span class="keyword">const</span> MimeHeaderLine&amp; getType()<span class="keyword"> const</span>
<a name="l00260"></a>00260 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_type; }
<a name="l00261"></a>00261 
<a name="l00267"></a>00267     MimeBody* getFirst(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type) <span class="keyword">const</span>;
<a name="l00268"></a>00268 
<a name="l00273"></a><a class="code" href="classTelEngine_1_1MimeBody.html#46d097b64a4f9c90027792670a3902fc">00273</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; headers()<span class="keyword"> const</span>
<a name="l00274"></a>00274 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_headers; }
<a name="l00275"></a>00275 
<a name="l00280"></a><a class="code" href="classTelEngine_1_1MimeBody.html#6361d36062d5f0175e1153185de14485">00280</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> appendHdr(MimeHeaderLine* hdr)
<a name="l00281"></a>00281         { <span class="keywordflow">if</span> (hdr) m_headers.append(hdr); }
<a name="l00282"></a>00282 
<a name="l00288"></a><a class="code" href="classTelEngine_1_1MimeBody.html#80fdc5e2bf216c5c318ac88d7efb2135">00288</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> removeHdr(MimeHeaderLine* hdr, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>)
<a name="l00289"></a>00289         { <span class="keywordflow">if</span> (hdr) m_headers.remove(hdr,delobj); }
<a name="l00290"></a>00290 
<a name="l00297"></a>00297     MimeHeaderLine* findHdr(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keyword">const</span> MimeHeaderLine* start = 0) <span class="keyword">const</span>;
<a name="l00298"></a>00298 
<a name="l00303"></a><a class="code" href="classTelEngine_1_1MimeBody.html#eb3a13b1be6e75ed0be1de601f01df3f">00303</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> buildHeaders(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; buf) {
<a name="l00304"></a>00304             m_type.buildLine(buf);
<a name="l00305"></a>00305             buf &lt;&lt; <span class="stringliteral">"\r\n"</span>;
<a name="l00306"></a>00306             <a class="code" href="classTelEngine_1_1MimeHeaderLine.html#ebae727ca047265fda59145294dfbc7e">MimeHeaderLine::buildHeaders</a>(buf,m_headers);
<a name="l00307"></a>00307         }
<a name="l00308"></a>00308 
<a name="l00317"></a>00317     <span class="keywordtype">bool</span> setParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0, <span class="keyword">const</span> <span class="keywordtype">char</span>* header = 0);
<a name="l00318"></a>00318 
<a name="l00326"></a>00326     <span class="keywordtype">bool</span> delParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* header = 0);
<a name="l00327"></a>00327 
<a name="l00335"></a>00335     <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* getParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* header = 0) <span class="keyword">const</span>;
<a name="l00336"></a>00336 
<a name="l00342"></a>00342     <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1DataBlock.html" title="A class that holds just a block of raw data.">DataBlock</a>&amp; getBody() <span class="keyword">const</span>;
<a name="l00343"></a>00343 
<a name="l00348"></a><a class="code" href="classTelEngine_1_1MimeBody.html#afabbaca38d2a53b5a89837c0f75fc5a">00348</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1DataBlock.html" title="A class that holds just a block of raw data.">DataBlock</a>&amp; body()<span class="keyword"> const</span>
<a name="l00349"></a>00349 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_body; }
<a name="l00350"></a>00350 
<a name="l00355"></a><a class="code" href="classTelEngine_1_1MimeBody.html#07020567e986f82279c538b546fbbb34">00355</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isSDP()<span class="keyword"> const</span>
<a name="l00356"></a>00356 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00357"></a>00357 
<a name="l00362"></a><a class="code" href="classTelEngine_1_1MimeBody.html#c5635ed1a05cfe5698c5b243ed2a0899">00362</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isMultipart()<span class="keyword"> const</span>
<a name="l00363"></a>00363 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00364"></a>00364 
<a name="l00369"></a>00369     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span> = 0;
<a name="l00370"></a>00370 
<a name="l00381"></a>00381     <span class="keyword">static</span> MimeBody* build(<span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len, <span class="keyword">const</span> MimeHeaderLine&amp; type);
<a name="l00382"></a>00382 
<a name="l00389"></a>00389     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>* getUnfoldedLine(<span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; buf, <span class="keywordtype">int</span>&amp; len);
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="keyword">protected</span>:
<a name="l00397"></a>00397     MimeBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type);
<a name="l00398"></a>00398 
<a name="l00405"></a>00405     MimeBody(<span class="keyword">const</span> MimeHeaderLine&amp; type);
<a name="l00406"></a>00406 
<a name="l00410"></a>00410     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span> = 0;
<a name="l00411"></a>00411 
<a name="l00415"></a><a class="code" href="classTelEngine_1_1MimeBody.html#def2946254bd9ec62c3b22ec8e80f56a">00415</a>     <span class="keyword">mutable</span> <a class="code" href="classTelEngine_1_1DataBlock.html" title="A class that holds just a block of raw data.">DataBlock</a> m_body;
<a name="l00416"></a>00416 
<a name="l00420"></a><a class="code" href="classTelEngine_1_1MimeBody.html#7e851b03081494e533cf072dbd1f8a76">00420</a>     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_headers;
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 <span class="keyword">private</span>:
<a name="l00423"></a>00423     MimeHeaderLine m_type;               <span class="comment">// Content type header line</span>
<a name="l00424"></a>00424 };
<a name="l00425"></a>00425 
<a name="l00430"></a><a class="code" href="classTelEngine_1_1MimeMultipartBody.html">00430</a> <span class="keyword">class </span>YATE_API MimeMultipartBody : <span class="keyword">public</span> MimeBody
<a name="l00431"></a>00431 {
<a name="l00432"></a>00432 <span class="keyword">public</span>:
<a name="l00440"></a>00440     <span class="keyword">explicit</span> MimeMultipartBody(<span class="keyword">const</span> <span class="keywordtype">char</span>* subtype = <span class="stringliteral">"mixed"</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* boundary = 0);
<a name="l00441"></a>00441 
<a name="l00448"></a>00448     MimeMultipartBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00449"></a>00449 
<a name="l00456"></a>00456     MimeMultipartBody(<span class="keyword">const</span> MimeHeaderLine&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00457"></a>00457 
<a name="l00461"></a>00461     <span class="keyword">virtual</span> ~MimeMultipartBody();
<a name="l00462"></a>00462 
<a name="l00467"></a><a class="code" href="classTelEngine_1_1MimeMultipartBody.html#c5c8a5b949630413b628f2fdeaa9e492">00467</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; bodies()<span class="keyword"> const</span>
<a name="l00468"></a>00468 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_bodies; }
<a name="l00469"></a>00469 
<a name="l00474"></a><a class="code" href="classTelEngine_1_1MimeMultipartBody.html#f152231b943cfa95cc2036f4c9a4b65b">00474</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> appendBody(MimeBody* body)
<a name="l00475"></a>00475         { <span class="keywordflow">if</span> (body) m_bodies.append(body); }
<a name="l00476"></a>00476 
<a name="l00482"></a><a class="code" href="classTelEngine_1_1MimeMultipartBody.html#757fafa393dda20b04d38971340f7f30">00482</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> removeBody(MimeBody* body, <span class="keywordtype">bool</span> delobj = <span class="keyword">true</span>)
<a name="l00483"></a>00483         { <span class="keywordflow">if</span> (body) m_bodies.remove(body,delobj); }
<a name="l00484"></a>00484 
<a name="l00493"></a>00493     MimeBody* findBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; content, MimeBody** start = 0) <span class="keyword">const</span>;
<a name="l00494"></a>00494 
<a name="l00500"></a>00500     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00501"></a>00501 
<a name="l00506"></a><a class="code" href="classTelEngine_1_1MimeMultipartBody.html#c5635ed1a05cfe5698c5b243ed2a0899">00506</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isMultipart()<span class="keyword"> const</span>
<a name="l00507"></a>00507 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00508"></a>00508 
<a name="l00513"></a>00513     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span>;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 <span class="keyword">protected</span>:
<a name="l00519"></a>00519     MimeMultipartBody(<span class="keyword">const</span> MimeMultipartBody&amp; original);
<a name="l00520"></a>00520 
<a name="l00524"></a>00524     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span>;
<a name="l00525"></a>00525 
<a name="l00532"></a>00532     <span class="keywordtype">void</span> parse(<span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="keyword">private</span>:
<a name="l00535"></a>00535     <span class="comment">// Parse input buffer for first body boundary or data end</span>
<a name="l00536"></a>00536     <span class="comment">// Advance buffer pass the boundary line and decrease the buffer length</span>
<a name="l00537"></a>00537     <span class="comment">// Set endBody to true if the last boundary was found</span>
<a name="l00538"></a>00538     <span class="comment">// Return the length of data before the found boundary</span>
<a name="l00539"></a>00539     <span class="keywordtype">int</span> findBoundary(<span class="keyword">const</span> <span class="keywordtype">char</span>*&amp; buf, <span class="keywordtype">int</span>&amp; len,
<a name="l00540"></a>00540         <span class="keyword">const</span> <span class="keywordtype">char</span>* boundary, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bLen, <span class="keywordtype">bool</span>&amp; endBody);
<a name="l00541"></a>00541     <span class="comment">// Build a boundary string to be used when parsing or building body</span>
<a name="l00542"></a>00542     <span class="comment">// Remove quotes if present. Trim blanks</span>
<a name="l00543"></a>00543     <span class="comment">// Insert CRLF and boundary marks ('--') before parameter</span>
<a name="l00544"></a>00544     <span class="comment">// @param boundary Destination string</span>
<a name="l00545"></a>00545     <span class="comment">// @return False if the parameter is missing or the boundary is empty</span>
<a name="l00546"></a>00546     <span class="keywordtype">bool</span> getBoundary(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; boundary) <span class="keyword">const</span>;
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 
<a name="l00549"></a>00549     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_bodies;                    <span class="comment">// The list of bodies contained in this multipart</span>
<a name="l00550"></a>00550 };
<a name="l00551"></a>00551 
<a name="l00556"></a><a class="code" href="classTelEngine_1_1MimeSdpBody.html">00556</a> <span class="keyword">class </span>YATE_API MimeSdpBody : <span class="keyword">public</span> MimeBody
<a name="l00557"></a>00557 {
<a name="l00558"></a>00558 <span class="keyword">public</span>:
<a name="l00563"></a>00563     MimeSdpBody(<span class="keywordtype">bool</span> hashing = <span class="keyword">false</span>);
<a name="l00564"></a>00564 
<a name="l00571"></a>00571     MimeSdpBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00572"></a>00572 
<a name="l00579"></a>00579     MimeSdpBody(<span class="keyword">const</span> MimeHeaderLine&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00580"></a>00580 
<a name="l00584"></a>00584     <span class="keyword">virtual</span> ~MimeSdpBody();
<a name="l00585"></a>00585 
<a name="l00591"></a>00591     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00592"></a>00592 
<a name="l00597"></a><a class="code" href="classTelEngine_1_1MimeSdpBody.html#07020567e986f82279c538b546fbbb34">00597</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isSDP()<span class="keyword"> const</span>
<a name="l00598"></a>00598 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00599"></a>00599 
<a name="l00604"></a>00604     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span>;
<a name="l00605"></a>00605 
<a name="l00610"></a><a class="code" href="classTelEngine_1_1MimeSdpBody.html#9c2ebb4c38a545ae91ca83921896017f">00610</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; lines()<span class="keyword"> const</span>
<a name="l00611"></a>00611 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_lines; }
<a name="l00612"></a>00612 
<a name="l00617"></a><a class="code" href="classTelEngine_1_1MimeSdpBody.html#ca8f08c16393e3a7121f43b2faf06cf4">00617</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hash()<span class="keyword"> const</span>
<a name="l00618"></a>00618 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_hash; }
<a name="l00619"></a>00619 
<a name="l00626"></a>00626     <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* addLine(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l00627"></a>00627 
<a name="l00633"></a>00633     <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* getLine(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keyword">const</span>;
<a name="l00634"></a>00634 
<a name="l00640"></a>00640     <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* getNextLine(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* line) <span class="keyword">const</span>;
<a name="l00641"></a>00641 
<a name="l00642"></a>00642 <span class="keyword">protected</span>:
<a name="l00646"></a>00646     MimeSdpBody(<span class="keyword">const</span> MimeSdpBody&amp; original);
<a name="l00647"></a>00647 
<a name="l00651"></a>00651     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span>;
<a name="l00652"></a>00652 
<a name="l00653"></a>00653 <span class="keyword">private</span>:
<a name="l00654"></a>00654     <span class="comment">// Build the lines from a data buffer</span>
<a name="l00655"></a>00655     <span class="keywordtype">void</span> buildLines(<span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00656"></a>00656 
<a name="l00657"></a>00657     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_lines;
<a name="l00658"></a>00658     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* m_lineAppend;
<a name="l00659"></a>00659     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_hash;
<a name="l00660"></a>00660     <span class="keywordtype">bool</span> m_hashing;
<a name="l00661"></a>00661 };
<a name="l00662"></a>00662 
<a name="l00667"></a><a class="code" href="classTelEngine_1_1MimeBinaryBody.html">00667</a> <span class="keyword">class </span>YATE_API MimeBinaryBody : <span class="keyword">public</span> MimeBody
<a name="l00668"></a>00668 {
<a name="l00669"></a>00669 <span class="keyword">public</span>:
<a name="l00676"></a>00676     MimeBinaryBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00677"></a>00677 
<a name="l00684"></a>00684     MimeBinaryBody(<span class="keyword">const</span> MimeHeaderLine&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00685"></a>00685 
<a name="l00689"></a>00689     <span class="keyword">virtual</span> ~MimeBinaryBody();
<a name="l00690"></a>00690 
<a name="l00696"></a>00696     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00697"></a>00697 
<a name="l00702"></a>00702     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span>;
<a name="l00703"></a>00703 
<a name="l00704"></a>00704 <span class="keyword">protected</span>:
<a name="l00708"></a>00708     MimeBinaryBody(<span class="keyword">const</span> MimeBinaryBody&amp; original);
<a name="l00709"></a>00709 
<a name="l00713"></a>00713     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span>;
<a name="l00714"></a>00714 };
<a name="l00715"></a>00715 
<a name="l00720"></a><a class="code" href="classTelEngine_1_1MimeStringBody.html">00720</a> <span class="keyword">class </span>YATE_API MimeStringBody : <span class="keyword">public</span> MimeBody
<a name="l00721"></a>00721 {
<a name="l00722"></a>00722 <span class="keyword">public</span>:
<a name="l00729"></a>00729     MimeStringBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len = -1);
<a name="l00730"></a>00730 
<a name="l00737"></a>00737     MimeStringBody(<span class="keyword">const</span> MimeHeaderLine&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len = -1);
<a name="l00738"></a>00738 
<a name="l00742"></a>00742     <span class="keyword">virtual</span> ~MimeStringBody();
<a name="l00743"></a>00743 
<a name="l00749"></a>00749     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00750"></a>00750 
<a name="l00755"></a>00755     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span>;
<a name="l00756"></a>00756 
<a name="l00761"></a><a class="code" href="classTelEngine_1_1MimeStringBody.html#b2a80c607cbfd339aa004f3c32150a36">00761</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; text()<span class="keyword"> const</span>
<a name="l00762"></a>00762 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_text; }
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 <span class="keyword">protected</span>:
<a name="l00768"></a>00768     MimeStringBody(<span class="keyword">const</span> MimeStringBody&amp; original);
<a name="l00769"></a>00769 
<a name="l00773"></a>00773     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span>;
<a name="l00774"></a>00774 
<a name="l00775"></a>00775 <span class="keyword">private</span>:
<a name="l00776"></a>00776     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> m_text;
<a name="l00777"></a>00777 };
<a name="l00778"></a>00778 
<a name="l00783"></a><a class="code" href="classTelEngine_1_1MimeLinesBody.html">00783</a> <span class="keyword">class </span>YATE_API MimeLinesBody : <span class="keyword">public</span> MimeBody
<a name="l00784"></a>00784 {
<a name="l00785"></a>00785 <span class="keyword">public</span>:
<a name="l00792"></a>00792     MimeLinesBody(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00793"></a>00793 
<a name="l00800"></a>00800     MimeLinesBody(<span class="keyword">const</span> MimeHeaderLine&amp; type, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf, <span class="keywordtype">int</span> len);
<a name="l00801"></a>00801 
<a name="l00805"></a>00805     <span class="keyword">virtual</span> ~MimeLinesBody();
<a name="l00806"></a>00806 
<a name="l00812"></a>00812     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00813"></a>00813 
<a name="l00818"></a>00818     <span class="keyword">virtual</span> MimeBody* clone() <span class="keyword">const</span>;
<a name="l00819"></a>00819 
<a name="l00824"></a><a class="code" href="classTelEngine_1_1MimeLinesBody.html#9c2ebb4c38a545ae91ca83921896017f">00824</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>&amp; lines()<span class="keyword"> const</span>
<a name="l00825"></a>00825 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_lines; }
<a name="l00826"></a>00826 
<a name="l00831"></a><a class="code" href="classTelEngine_1_1MimeLinesBody.html#1956d39b615eb54440ed2fc78200fe77">00831</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> addLine(<span class="keyword">const</span> <span class="keywordtype">char</span>* line)
<a name="l00832"></a>00832         { m_lines.append(<span class="keyword">new</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>(line)); }
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 <span class="keyword">protected</span>:
<a name="l00838"></a>00838     MimeLinesBody(<span class="keyword">const</span> MimeLinesBody&amp; original);
<a name="l00839"></a>00839 
<a name="l00843"></a>00843     <span class="keyword">virtual</span> <span class="keywordtype">void</span> buildBody() <span class="keyword">const</span>;
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 <span class="keyword">private</span>:
<a name="l00846"></a>00846     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_lines;
<a name="l00847"></a>00847 };
<a name="l00848"></a>00848 
<a name="l00849"></a>00849 }; <span class="comment">// namespace TelEngine</span>
<a name="l00850"></a>00850 
<a name="l00851"></a>00851 <span class="preprocessor">#endif </span><span class="comment">/* __YATEMIME_H */</span>
<a name="l00852"></a>00852 
<a name="l00853"></a>00853 <span class="comment">/* vi: set ts=8 sw=4 sts=4 noet: */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Mar 1 15:45:05 2016 for Yate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>

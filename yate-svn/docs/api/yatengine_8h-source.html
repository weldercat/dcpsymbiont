<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Yate: yatengine.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>yatengine.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef __YATENGINE_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define __YATENGINE_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef __cplusplus</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#error C++ is required</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;yateclass.h&gt;</span>
<a name="l00030"></a>00030 
<a name="l00034"></a>00034 <span class="keyword">namespace </span>TelEngine {
<a name="l00035"></a>00035 
<a name="l00040"></a><a class="code" href="classTelEngine_1_1Configuration.html">00040</a> <span class="keyword">class </span>YATE_API Configuration : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a>00042     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Configuration); <span class="comment">// no automatic copies please</span>
<a name="l00043"></a>00043 <span class="keyword">public</span>:
<a name="l00047"></a>00047     Configuration();
<a name="l00048"></a>00048 
<a name="l00054"></a>00054     <span class="keyword">explicit</span> Configuration(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keywordtype">bool</span> warn = <span class="keyword">true</span>);
<a name="l00055"></a>00055 
<a name="l00059"></a><a class="code" href="classTelEngine_1_1Configuration.html#4fb4265e174bda11146385e8c4b8ea3c">00059</a>     <span class="keyword">inline</span> Configuration&amp; operator=(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; value)
<a name="l00060"></a>00060         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00061"></a>00061 
<a name="l00066"></a><a class="code" href="classTelEngine_1_1Configuration.html#b862791540b3ca23d1053be2ad632f2e">00066</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sections()<span class="keyword"> const</span>
<a name="l00067"></a>00067 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_sections.length(); }
<a name="l00068"></a>00068 
<a name="l00073"></a><a class="code" href="classTelEngine_1_1Configuration.html#cf69b4cb547f80415cf2ab4a9a9e589c">00073</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count()<span class="keyword"> const</span>
<a name="l00074"></a>00074 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_sections.count(); }
<a name="l00075"></a>00075 
<a name="l00081"></a>00081     <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>* getSection(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index) <span class="keyword">const</span>;
<a name="l00082"></a>00082 
<a name="l00088"></a>00088     <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>* getSection(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect) <span class="keyword">const</span>;
<a name="l00089"></a>00089 
<a name="l00096"></a>00096     <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* getKey(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key) <span class="keyword">const</span>;
<a name="l00097"></a>00097 
<a name="l00105"></a>00105     <span class="keyword">const</span> <span class="keywordtype">char</span>* getValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, <span class="keyword">const</span> <span class="keywordtype">char</span>* defvalue = 0) <span class="keyword">const</span>;
<a name="l00106"></a>00106 
<a name="l00118"></a>00118     <span class="keywordtype">int</span> getIntValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, <span class="keywordtype">int</span> defvalue = 0,
<a name="l00119"></a>00119         <span class="keywordtype">int</span> minvalue = INT_MIN, <span class="keywordtype">int</span> maxvalue = INT_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00120"></a>00120 
<a name="l00129"></a>00129     <span class="keywordtype">int</span> getIntValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* tokens, <span class="keywordtype">int</span> defvalue = 0) <span class="keyword">const</span>;
<a name="l00130"></a>00130 
<a name="l00142"></a>00142     int64_t getInt64Value(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, int64_t defvalue = 0,
<a name="l00143"></a>00143         int64_t minvalue = LLONG_MIN, int64_t maxvalue = LLONG_MAX, <span class="keywordtype">bool</span> clamp = <span class="keyword">true</span>) <span class="keyword">const</span>;
<a name="l00144"></a>00144 
<a name="l00152"></a>00152     <span class="keywordtype">double</span> getDoubleValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, <span class="keywordtype">double</span> defvalue = 0.0) <span class="keyword">const</span>;
<a name="l00153"></a>00153 
<a name="l00161"></a>00161     <span class="keywordtype">bool</span> getBoolValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key, <span class="keywordtype">bool</span> defvalue = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00162"></a>00162 
<a name="l00167"></a>00167     <span class="keywordtype">void</span> clearSection(<span class="keyword">const</span> <span class="keywordtype">char</span>* sect = 0);
<a name="l00168"></a>00168 
<a name="l00174"></a>00174     <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>* createSection(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect);
<a name="l00175"></a>00175 
<a name="l00181"></a>00181     <span class="keywordtype">void</span> clearKey(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; key);
<a name="l00182"></a>00182 
<a name="l00189"></a>00189     <span class="keywordtype">void</span> addValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l00190"></a>00190 
<a name="l00197"></a>00197     <span class="keywordtype">void</span> setValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <span class="keywordtype">char</span>* value = 0);
<a name="l00198"></a>00198 
<a name="l00205"></a>00205     <span class="keywordtype">void</span> setValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keywordtype">int</span> value);
<a name="l00206"></a>00206 
<a name="l00213"></a>00213     <span class="keywordtype">void</span> setValue(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keywordtype">bool</span> value);
<a name="l00214"></a>00214 
<a name="l00220"></a>00220     <span class="keywordtype">bool</span> load(<span class="keywordtype">bool</span> warn = <span class="keyword">true</span>);
<a name="l00221"></a>00221 
<a name="l00226"></a>00226     <span class="keywordtype">bool</span> save() <span class="keyword">const</span>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="keyword">private</span>:
<a name="l00229"></a>00229     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> *getSectHolder(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect) <span class="keyword">const</span>;
<a name="l00230"></a>00230     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> *makeSectHolder(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sect);
<a name="l00231"></a>00231     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_sections;
<a name="l00232"></a>00232 };
<a name="l00233"></a>00233 
<a name="l00238"></a><a class="code" href="classTelEngine_1_1SharedVars.html">00238</a> <span class="keyword">class </span>YATE_API SharedVars : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240 <span class="keyword">public</span>:
<a name="l00244"></a><a class="code" href="classTelEngine_1_1SharedVars.html#317b168683968501bbb92c08c4b1e2d6">00244</a>     <span class="keyword">inline</span> SharedVars()
<a name="l00245"></a>00245         : <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>(false,<span class="stringliteral">"SharedVars"</span>), m_vars(<span class="stringliteral">""</span>)
<a name="l00246"></a>00246         { }
<a name="l00247"></a>00247 
<a name="l00253"></a>00253     <span class="keywordtype">void</span> <span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; rval);
<a name="l00254"></a>00254 
<a name="l00260"></a>00260     <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keyword">const</span> <span class="keywordtype">char</span>* val);
<a name="l00261"></a>00261 
<a name="l00268"></a>00268     <span class="keywordtype">bool</span> create(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keyword">const</span> <span class="keywordtype">char</span>* val = 0);
<a name="l00269"></a>00269 
<a name="l00274"></a>00274     <span class="keywordtype">void</span> clear(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name);
<a name="l00275"></a>00275 
<a name="l00281"></a>00281     <span class="keywordtype">bool</span> exists(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name);
<a name="l00282"></a>00282 
<a name="l00289"></a>00289     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inc(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wrap = 0);
<a name="l00290"></a>00290 
<a name="l00297"></a>00297     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dec(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> wrap = 0);
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="keyword">private</span>:
<a name="l00300"></a>00300     <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a> m_vars;
<a name="l00301"></a>00301 };
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="keyword">class </span>MessageDispatcher;
<a name="l00304"></a>00304 <span class="keyword">class </span>MessageRelay;
<a name="l00305"></a>00305 <span class="keyword">class </span>Engine;
<a name="l00306"></a>00306 
<a name="l00311"></a><a class="code" href="classTelEngine_1_1Message.html">00311</a> <span class="keyword">class </span>YATE_API Message : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>
<a name="l00312"></a>00312 {
<a name="l00313"></a>00313     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1MessageDispatcher.html" title="A message dispatching hub.">MessageDispatcher</a>;
<a name="l00314"></a>00314 <span class="keyword">public</span>:
<a name="l00322"></a>00322     <span class="keyword">explicit</span> Message(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* retval = 0, <span class="keywordtype">bool</span> broadcast = <span class="keyword">false</span>);
<a name="l00323"></a>00323 
<a name="l00329"></a>00329     Message(<span class="keyword">const</span> Message&amp; original);
<a name="l00330"></a>00330 
<a name="l00337"></a>00337     Message(<span class="keyword">const</span> Message&amp; original, <span class="keywordtype">bool</span> broadcast);
<a name="l00338"></a>00338 
<a name="l00342"></a>00342     ~Message();
<a name="l00343"></a>00343 
<a name="l00349"></a>00349     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00350"></a>00350 
<a name="l00355"></a><a class="code" href="classTelEngine_1_1Message.html#b967abea1ca600b2d2162aa33973e248">00355</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; retValue()
<a name="l00356"></a>00356         { <span class="keywordflow">return</span> m_return; }
<a name="l00357"></a>00357 
<a name="l00362"></a><a class="code" href="classTelEngine_1_1Message.html#9ac21bcc5af6beb6b98352258f2057e9">00362</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; retValue()<span class="keyword"> const</span>
<a name="l00363"></a>00363 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_return; }
<a name="l00364"></a>00364 
<a name="l00369"></a><a class="code" href="classTelEngine_1_1Message.html#8d1d9f339e0af37f73e66d8485809d39">00369</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1RefObject.html">RefObject</a>* userData()<span class="keyword"> const</span>
<a name="l00370"></a>00370 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data; }
<a name="l00371"></a>00371 
<a name="l00378"></a>00378     <span class="keywordtype">void</span> userData(<a class="code" href="classTelEngine_1_1RefObject.html">RefObject</a>* data);
<a name="l00379"></a>00379 
<a name="l00385"></a><a class="code" href="classTelEngine_1_1Message.html#3e358071872b5d8b8cec2643cb8b0c34">00385</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span>* userObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name)<span class="keyword"> const</span>
<a name="l00386"></a>00386 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_data ? m_data-&gt;getObject(name) : 0; }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 
<a name="l00394"></a><a class="code" href="classTelEngine_1_1Message.html#3cd31574e84b409024d17ccdae6a96ee">00394</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setNotify(<span class="keywordtype">bool</span> notify = <span class="keyword">true</span>)
<a name="l00395"></a>00395         { m_notify = notify; }
<a name="l00396"></a>00396 
<a name="l00401"></a><a class="code" href="classTelEngine_1_1Message.html#84094bd4802ac2ba451128f24548699a">00401</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> broadcast()<span class="keyword"> const</span>
<a name="l00402"></a>00402 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_broadcast; }
<a name="l00403"></a>00403 
<a name="l00408"></a><a class="code" href="classTelEngine_1_1Message.html#e74f2e31a8a4563a9608369c2b62be9f">00408</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1Time.html" title="A time holding class.">Time</a>&amp; msgTime()
<a name="l00409"></a>00409         { <span class="keywordflow">return</span> m_time; }
<a name="l00410"></a>00410 
<a name="l00415"></a><a class="code" href="classTelEngine_1_1Message.html#8899b4e2311b76d726d9186dc3acb235">00415</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1Time.html" title="A time holding class.">Time</a>&amp; msgTime()<span class="keyword"> const</span>
<a name="l00416"></a>00416 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_time; }
<a name="l00417"></a>00417 
<a name="l00421"></a><a class="code" href="classTelEngine_1_1Message.html#b3285a2c0aecead722de9d6c2782ea77">00421</a>     <span class="keyword">inline</span> Message&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l00422"></a>00422         { <a class="code" href="classTelEngine_1_1String.html#eec29f03ccc4bb7fc94e3e44ad7d761a">String::operator=</a>(value); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00423"></a>00423 
<a name="l00429"></a>00429     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> encode(<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>) <span class="keyword">const</span>;
<a name="l00430"></a>00430 
<a name="l00437"></a>00437     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> encode(<span class="keywordtype">bool</span> received, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>) <span class="keyword">const</span>;
<a name="l00438"></a>00438 
<a name="l00447"></a>00447     <span class="keywordtype">int</span> decode(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; <span class="keywordtype">id</span>);
<a name="l00448"></a>00448 
<a name="l00458"></a>00458     <span class="keywordtype">int</span> decode(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">bool</span>&amp; received, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keywordtype">id</span>);
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="keyword">protected</span>:
<a name="l00467"></a>00467     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dispatched(<span class="keywordtype">bool</span> accepted);
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 <span class="keyword">private</span>:
<a name="l00470"></a>00470     Message(); <span class="comment">// no default constructor please</span>
<a name="l00471"></a>00471     Message&amp; operator=(<span class="keyword">const</span> Message&amp; value); <span class="comment">// no assignment please</span>
<a name="l00472"></a>00472     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> m_return;
<a name="l00473"></a>00473     <a class="code" href="classTelEngine_1_1Time.html" title="A time holding class.">Time</a> m_time;
<a name="l00474"></a>00474     <a class="code" href="classTelEngine_1_1RefObject.html">RefObject</a>* m_data;
<a name="l00475"></a>00475     <span class="keywordtype">bool</span> m_notify;
<a name="l00476"></a>00476     <span class="keywordtype">bool</span> m_broadcast;
<a name="l00477"></a>00477     <span class="keywordtype">void</span> commonEncode(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; str) <span class="keyword">const</span>;
<a name="l00478"></a>00478     <span class="keywordtype">int</span> commonDecode(<span class="keyword">const</span> <span class="keywordtype">char</span>* str, <span class="keywordtype">int</span> offs);
<a name="l00479"></a>00479 };
<a name="l00480"></a>00480 
<a name="l00487"></a><a class="code" href="classTelEngine_1_1MessageHandler.html">00487</a> <span class="keyword">class </span>YATE_API MessageHandler : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>
<a name="l00488"></a>00488 {
<a name="l00489"></a>00489     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1MessageDispatcher.html" title="A message dispatching hub.">MessageDispatcher</a>;
<a name="l00490"></a>00490     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1MessageRelay.html" title="A message handler relay.">MessageRelay</a>;
<a name="l00491"></a>00491     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(MessageHandler); <span class="comment">// no automatic copies please</span>
<a name="l00492"></a>00492 <span class="keyword">public</span>:
<a name="l00500"></a>00500     <span class="keyword">explicit</span> MessageHandler(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">unsigned</span> priority = 100,
<a name="l00501"></a>00501         <span class="keyword">const</span> <span class="keywordtype">char</span>* trackName = 0, <span class="keywordtype">bool</span> addPriority = <span class="keyword">true</span>);
<a name="l00502"></a>00502 
<a name="l00506"></a>00506     <span class="keyword">virtual</span> ~MessageHandler();
<a name="l00507"></a>00507 
<a name="l00511"></a>00511     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#9cc4a4249317f5c7eb006842cf233672">destruct</a>();
<a name="l00512"></a>00512 
<a name="l00518"></a>00518     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> received(Message&amp; msg) = 0;
<a name="l00519"></a>00519 
<a name="l00524"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#6de4bb70383ff51809d5496eeb9695b6">00524</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> priority()<span class="keyword"> const</span>
<a name="l00525"></a>00525 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_priority; }
<a name="l00526"></a>00526 
<a name="l00531"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#97fc57bdb38af7bbf87aa9fd405de80e">00531</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; trackName()<span class="keyword"> const</span>
<a name="l00532"></a>00532 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_trackName; }
<a name="l00533"></a>00533 
<a name="l00539"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#75679d1823e04007e8cd7da27fc2e4ca">00539</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> trackName(<span class="keyword">const</span> <span class="keywordtype">char</span>* name)
<a name="l00540"></a>00540         { <span class="keywordflow">if</span> (!m_dispatcher) m_trackName = name; }
<a name="l00541"></a>00541 
<a name="l00546"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#54c8e7113a4bb16feb8d01602c0b4424">00546</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* objectsCounter()<span class="keyword"> const</span>
<a name="l00547"></a>00547 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_counter; }
<a name="l00548"></a>00548 
<a name="l00552"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#863828b5569cdf5b73c341e8b093d91e">00552</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* filter()<span class="keyword"> const</span>
<a name="l00553"></a>00553 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_filter; }
<a name="l00554"></a>00554 
<a name="l00560"></a>00560     <span class="keywordtype">void</span> setFilter(<a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* filter);
<a name="l00561"></a>00561 
<a name="l00567"></a><a class="code" href="classTelEngine_1_1MessageHandler.html#73608c76039f6753ba2165bfcb7a7be9">00567</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setFilter(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value)
<a name="l00568"></a>00568         { setFilter(<span class="keyword">new</span> <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>(name,value)); }
<a name="l00569"></a>00569 
<a name="l00573"></a>00573     <span class="keywordtype">void</span> clearFilter();
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 <span class="keyword">protected</span>:
<a name="l00580"></a>00580     <span class="keywordtype">void</span> cleanup();
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 <span class="keyword">private</span>:
<a name="l00583"></a>00583     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> receivedInternal(Message&amp; msg);
<a name="l00584"></a>00584     <span class="keywordtype">void</span> safeNow();
<a name="l00585"></a>00585     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> m_trackName;
<a name="l00586"></a>00586     <span class="keywordtype">unsigned</span> m_priority;
<a name="l00587"></a>00587     <span class="keywordtype">int</span> m_unsafe;
<a name="l00588"></a>00588     <a class="code" href="classTelEngine_1_1MessageDispatcher.html" title="A message dispatching hub.">MessageDispatcher</a>* m_dispatcher;
<a name="l00589"></a>00589     <a class="code" href="classTelEngine_1_1NamedString.html" title="A named string class.">NamedString</a>* m_filter;
<a name="l00590"></a>00590     <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* m_counter;
<a name="l00591"></a>00591 };
<a name="l00592"></a>00592 
<a name="l00597"></a><a class="code" href="classTelEngine_1_1MessageReceiver.html">00597</a> <span class="keyword">class </span>YATE_API MessageReceiver : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1GenObject.html">GenObject</a>
<a name="l00598"></a>00598 {
<a name="l00599"></a>00599 <span class="keyword">public</span>:
<a name="l00606"></a>00606     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> received(Message&amp; msg, <span class="keywordtype">int</span> <span class="keywordtype">id</span>) = 0;
<a name="l00607"></a>00607 };
<a name="l00608"></a>00608 
<a name="l00613"></a><a class="code" href="classTelEngine_1_1MessageRelay.html">00613</a> <span class="keyword">class </span>YATE_API MessageRelay : <span class="keyword">public</span> MessageHandler
<a name="l00614"></a>00614 {
<a name="l00615"></a>00615     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(MessageRelay); <span class="comment">// no automatic copies please</span>
<a name="l00616"></a>00616 <span class="keyword">public</span>:
<a name="l00626"></a><a class="code" href="classTelEngine_1_1MessageRelay.html#b3fcc334c8592132c32bb6ed6cf195b1">00626</a>     <span class="keyword">inline</span> MessageRelay(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, MessageReceiver* receiver, <span class="keywordtype">int</span> <span class="keywordtype">id</span>,
<a name="l00627"></a>00627         <span class="keywordtype">int</span> priority = 100, <span class="keyword">const</span> <span class="keywordtype">char</span>* trackName = 0, <span class="keywordtype">bool</span> addPriority = <span class="keyword">true</span>)
<a name="l00628"></a>00628         : MessageHandler(name,priority,trackName,addPriority),
<a name="l00629"></a>00629           m_receiver(receiver), m_id(id)
<a name="l00630"></a>00630         { }
<a name="l00631"></a>00631 
<a name="l00638"></a><a class="code" href="classTelEngine_1_1MessageRelay.html#349325c8b3b3ebebffca0d35e4613b31">00638</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> received(Message&amp; msg)
<a name="l00639"></a>00639         { <span class="keywordflow">return</span> m_receiver &amp;&amp; m_receiver-&gt;received(msg,m_id); }
<a name="l00640"></a>00640 
<a name="l00645"></a><a class="code" href="classTelEngine_1_1MessageRelay.html#67c5505c191c19aefa81f8f006267fa5">00645</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> id()<span class="keyword"> const</span>
<a name="l00646"></a>00646 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_id; }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648 <span class="keyword">private</span>:
<a name="l00649"></a>00649     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> receivedInternal(Message&amp; msg);
<a name="l00650"></a>00650     MessageReceiver* m_receiver;
<a name="l00651"></a>00651     <span class="keywordtype">int</span> m_id;
<a name="l00652"></a>00652 };
<a name="l00653"></a>00653 
<a name="l00660"></a><a class="code" href="classTelEngine_1_1MessageNotifier.html">00660</a> <span class="keyword">class </span>YATE_API MessageNotifier
<a name="l00661"></a>00661 {
<a name="l00662"></a>00662 <span class="keyword">public</span>:
<a name="l00666"></a>00666     <span class="keyword">virtual</span> ~MessageNotifier();
<a name="l00667"></a>00667 
<a name="l00673"></a>00673     <span class="keyword">virtual</span> <span class="keywordtype">void</span> dispatched(<span class="keyword">const</span> Message&amp; msg, <span class="keywordtype">bool</span> handled) = 0;
<a name="l00674"></a>00674 };
<a name="l00675"></a>00675 
<a name="l00682"></a><a class="code" href="classTelEngine_1_1MessagePostHook.html">00682</a> <span class="keyword">class </span>YATE_API MessagePostHook : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1RefObject.html">RefObject</a>, <span class="keyword">public</span> MessageNotifier
<a name="l00683"></a>00683 {
<a name="l00684"></a>00684 };
<a name="l00685"></a>00685 
<a name="l00692"></a><a class="code" href="classTelEngine_1_1MessageDispatcher.html">00692</a> <span class="keyword">class </span>YATE_API MessageDispatcher : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1GenObject.html">GenObject</a>, <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>
<a name="l00693"></a>00693 {
<a name="l00694"></a>00694     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Engine.html" title="Engine globals.">Engine</a>;
<a name="l00695"></a>00695     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(MessageDispatcher); <span class="comment">// no automatic copies please</span>
<a name="l00696"></a>00696 <span class="keyword">public</span>:
<a name="l00701"></a>00701     MessageDispatcher(<span class="keyword">const</span> <span class="keywordtype">char</span>* trackParam = 0);
<a name="l00702"></a>00702 
<a name="l00706"></a>00706     ~MessageDispatcher();
<a name="l00707"></a>00707 
<a name="l00712"></a><a class="code" href="classTelEngine_1_1MessageDispatcher.html#0221fa41df01aa7ecd36b585679ab008">00712</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; trackParam()<span class="keyword"> const</span>
<a name="l00713"></a>00713 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_trackParam; }
<a name="l00714"></a>00714 
<a name="l00723"></a>00723     <span class="keywordtype">bool</span> install(MessageHandler* handler);
<a name="l00724"></a>00724 
<a name="l00730"></a>00730     <span class="keywordtype">bool</span> uninstall(MessageHandler* handler);
<a name="l00731"></a>00731 
<a name="l00743"></a>00743     <span class="keywordtype">bool</span> dispatch(Message&amp; msg);
<a name="l00744"></a>00744 
<a name="l00750"></a>00750     <span class="keywordtype">bool</span> enqueue(Message* msg);
<a name="l00751"></a>00751 
<a name="l00755"></a>00755     <span class="keywordtype">void</span> dequeue();
<a name="l00756"></a>00756 
<a name="l00761"></a>00761     <span class="keywordtype">bool</span> dequeueOne();
<a name="l00762"></a>00762 
<a name="l00767"></a><a class="code" href="classTelEngine_1_1MessageDispatcher.html#1daac6d09975ec8b1ee34fd6cb87033e">00767</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> warnTime(u_int64_t usec)
<a name="l00768"></a>00768         { m_warnTime = usec; }
<a name="l00769"></a>00769 
<a name="l00773"></a><a class="code" href="classTelEngine_1_1MessageDispatcher.html#c8bb3912a3ce86b15842e79d0b421204">00773</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> clear()
<a name="l00774"></a>00774         { m_handlers.clear(); m_hookAppend = &amp;m_hooks; m_hooks.clear(); }
<a name="l00775"></a>00775 
<a name="l00780"></a>00780     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> messageCount();
<a name="l00781"></a>00781 
<a name="l00786"></a>00786     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handlerCount();
<a name="l00787"></a>00787 
<a name="l00792"></a>00792     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> postHookCount();
<a name="l00793"></a>00793 
<a name="l00799"></a>00799     <span class="keywordtype">void</span> setHook(MessagePostHook* hook, <span class="keywordtype">bool</span> <span class="keyword">remove</span> = <span class="keyword">false</span>);
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 <span class="keyword">protected</span>:
<a name="l00806"></a><a class="code" href="classTelEngine_1_1MessageDispatcher.html#6464960f8bf6c6c727fc5332c41515fb">00806</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> trackParam(<span class="keyword">const</span> <span class="keywordtype">char</span>* paramName)
<a name="l00807"></a>00807         { m_trackParam = paramName; }
<a name="l00808"></a>00808 
<a name="l00809"></a>00809 <span class="keyword">private</span>:
<a name="l00810"></a>00810     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_handlers;
<a name="l00811"></a>00811     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_messages;
<a name="l00812"></a>00812     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_hooks;
<a name="l00813"></a>00813     <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a> m_hookMutex;
<a name="l00814"></a>00814     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* m_msgAppend;
<a name="l00815"></a>00815     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* m_hookAppend;
<a name="l00816"></a>00816     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> m_trackParam;
<a name="l00817"></a>00817     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_changes;
<a name="l00818"></a>00818     u_int64_t m_warnTime;
<a name="l00819"></a>00819     <span class="keywordtype">int</span> m_hookCount;
<a name="l00820"></a>00820     <span class="keywordtype">bool</span> m_hookHole;
<a name="l00821"></a>00821 };
<a name="l00822"></a>00822 
<a name="l00827"></a><a class="code" href="classTelEngine_1_1MessageHook.html">00827</a> <span class="keyword">class </span>YATE_API MessageHook : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1RefObject.html">RefObject</a>
<a name="l00828"></a>00828 {
<a name="l00829"></a>00829 <span class="keyword">public</span>:
<a name="l00835"></a>00835     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> enqueue(Message* msg) = 0;
<a name="l00836"></a>00836 
<a name="l00840"></a>00840     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear() = 0;
<a name="l00841"></a>00841 
<a name="l00847"></a>00847     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> matchesFilter(<span class="keyword">const</span> Message&amp; msg) = 0;
<a name="l00848"></a>00848 };
<a name="l00849"></a>00849 
<a name="l00850"></a>00850 
<a name="l00856"></a><a class="code" href="classTelEngine_1_1MessageQueue.html">00856</a> <span class="keyword">class </span>YATE_API MessageQueue : <span class="keyword">public</span> MessageHook, <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1Mutex.html" title="Mutex support.">Mutex</a>
<a name="l00857"></a>00857 {
<a name="l00858"></a>00858     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classTelEngine_1_1Engine.html" title="Engine globals.">Engine</a>;
<a name="l00859"></a>00859 <span class="keyword">public</span>:
<a name="l00865"></a>00865     MessageQueue(<span class="keyword">const</span> <span class="keywordtype">char</span>* hookName, <span class="keywordtype">int</span> numWorkers = 0);
<a name="l00866"></a>00866 
<a name="l00870"></a>00870     ~MessageQueue();
<a name="l00871"></a>00871 
<a name="l00877"></a>00877     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> enqueue(Message* msg);
<a name="l00878"></a>00878 
<a name="l00883"></a>00883     <span class="keywordtype">bool</span> dequeue();
<a name="l00884"></a>00884 
<a name="l00890"></a>00890     <span class="keywordtype">void</span> addFilter(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value);
<a name="l00891"></a>00891 
<a name="l00896"></a>00896     <span class="keywordtype">void</span> removeFilter(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name);
<a name="l00897"></a>00897 
<a name="l00901"></a>00901     <span class="keyword">virtual</span> <span class="keywordtype">void</span> clear();
<a name="l00902"></a>00902 
<a name="l00907"></a>00907     <span class="keywordtype">void</span> removeThread(<a class="code" href="classTelEngine_1_1Thread.html" title="Thread support class.">Thread</a>* thread);
<a name="l00908"></a>00908 
<a name="l00913"></a><a class="code" href="classTelEngine_1_1MessageQueue.html#cf69b4cb547f80415cf2ab4a9a9e589c">00913</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count()<span class="keyword"> const</span>
<a name="l00914"></a>00914 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_count; }
<a name="l00915"></a>00915 
<a name="l00920"></a><a class="code" href="classTelEngine_1_1MessageQueue.html#27caae8def3afe254d66a1c52a604453">00920</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>&amp; getFilters()<span class="keyword"> const</span>
<a name="l00921"></a>00921 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_filters; }
<a name="l00922"></a>00922 
<a name="l00928"></a>00928     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> matchesFilter(<span class="keyword">const</span> Message&amp; msg);
<a name="l00929"></a>00929 <span class="keyword">protected</span>:
<a name="l00930"></a>00930 
<a name="l00936"></a>00936     <span class="keyword">virtual</span> <span class="keywordtype">void</span> received(Message&amp; msg);
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 <span class="keyword">private</span>:
<a name="l00939"></a>00939     <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a> m_filters;
<a name="l00940"></a>00940     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_messages;
<a name="l00941"></a>00941     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_workers;
<a name="l00942"></a>00942     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* m_append;
<a name="l00943"></a>00943     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_count;
<a name="l00944"></a>00944 };
<a name="l00945"></a>00945 
<a name="l00946"></a>00946 
<a name="l00957"></a><a class="code" href="classTelEngine_1_1Plugin.html">00957</a> <span class="keyword">class </span>YATE_API Plugin : <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1GenObject.html">GenObject</a>, <span class="keyword">public</span> <a class="code" href="classTelEngine_1_1DebugEnabler.html" title="A holder for a debug level.">DebugEnabler</a>
<a name="l00958"></a>00958 {
<a name="l00959"></a>00959 <span class="keyword">public</span>:
<a name="l00965"></a>00965     <span class="keyword">explicit</span> Plugin(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> earlyInit = <span class="keyword">false</span>);
<a name="l00966"></a>00966 
<a name="l00972"></a>00972     <span class="keyword">virtual</span> ~Plugin();
<a name="l00973"></a>00973 
<a name="l00978"></a><a class="code" href="classTelEngine_1_1Plugin.html#c099daf6baa0da9d069e0a9cf2ffbb8d">00978</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; toString()<span class="keyword"> const</span>
<a name="l00979"></a>00979 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_name; }
<a name="l00980"></a>00980 
<a name="l00986"></a>00986     <span class="keyword">virtual</span> <span class="keywordtype">void</span>* getObject(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name) <span class="keyword">const</span>;
<a name="l00987"></a>00987 
<a name="l00991"></a>00991     <span class="keyword">virtual</span> <span class="keywordtype">void</span> initialize() = 0;
<a name="l00992"></a>00992 
<a name="l00997"></a><a class="code" href="classTelEngine_1_1Plugin.html#d58949ce4d6196843a7d3a5a8e105ec1">00997</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isBusy()<span class="keyword"> const</span>
<a name="l00998"></a>00998 <span class="keyword">        </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00999"></a>00999 
<a name="l01004"></a><a class="code" href="classTelEngine_1_1Plugin.html#c7fa2815980eb7a696b3ce00436c44ba">01004</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name()<span class="keyword"> const</span>
<a name="l01005"></a>01005 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_name; }
<a name="l01006"></a>01006 
<a name="l01011"></a><a class="code" href="classTelEngine_1_1Plugin.html#54c8e7113a4bb16feb8d01602c0b4424">01011</a>     <span class="keyword">inline</span> <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* objectsCounter()<span class="keyword"> const</span>
<a name="l01012"></a>01012 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_counter; }
<a name="l01013"></a>01013 
<a name="l01018"></a><a class="code" href="classTelEngine_1_1Plugin.html#a16e9378f415505832133ba19d5d4bb6">01018</a>     <span class="keywordtype">bool</span> earlyInit()<span class="keyword"> const</span>
<a name="l01019"></a>01019 <span class="keyword">        </span>{ <span class="keywordflow">return</span> m_early; }
<a name="l01020"></a>01020 
<a name="l01021"></a>01021 <span class="keyword">private</span>:
<a name="l01022"></a>01022     Plugin(); <span class="comment">// no default constructor please</span>
<a name="l01023"></a>01023     <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> m_name;
<a name="l01024"></a>01024     <a class="code" href="classTelEngine_1_1NamedCounter.html" title="Atomic counter with name.">NamedCounter</a>* m_counter;
<a name="l01025"></a>01025     <span class="keywordtype">bool</span> m_early;
<a name="l01026"></a>01026 };
<a name="l01027"></a>01027 
<a name="l01028"></a>01028 <span class="preprocessor">#if 0 </span><span class="comment">/* for documentation generator */</span>
<a name="l01029"></a>01029 
<a name="l01033"></a>01033 <span class="keywordtype">void</span> <a class="code" href="namespaceTelEngine.html#0077aec51e59f7715186818ff95a0d35">INIT_PLUGIN</a>(<span class="keyword">class</span> pclass);
<a name="l01034"></a>01034 
<a name="l01040"></a>01040 <span class="keywordtype">bool</span> <a class="code" href="namespaceTelEngine.html#ac50eebaf157eb6c843612d60b5e3235">UNLOAD_PLUGIN</a>(<span class="keywordtype">bool</span> unloadNow);
<a name="l01041"></a>01041 <span class="preprocessor">#endif</span>
<a name="l01042"></a>01042 <span class="preprocessor"></span>
<a name="l01043"></a>01043 <span class="preprocessor">#define INIT_PLUGIN(pclass) static pclass __plugin</span>
<a name="l01044"></a>01044 <span class="preprocessor"></span><span class="preprocessor">#ifdef DISABLE_UNLOAD</span>
<a name="l01045"></a>01045 <span class="preprocessor"></span><span class="preprocessor">#define UNLOAD_PLUGIN(arg) static bool _unused_unload(bool arg)</span>
<a name="l01046"></a>01046 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l01047"></a>01047 <span class="preprocessor"></span><span class="preprocessor">#ifdef _WINDOWS</span>
<a name="l01048"></a>01048 <span class="preprocessor"></span><span class="preprocessor">#define UNLOAD_PLUGIN(arg) extern "C" __declspec(dllexport) bool _unload(bool arg)</span>
<a name="l01049"></a>01049 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l01050"></a>01050 <span class="preprocessor"></span><span class="preprocessor">#define UNLOAD_PLUGIN(arg) extern "C" bool _unload(bool arg)</span>
<a name="l01051"></a>01051 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01052"></a>01052 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01053"></a>01053 <span class="preprocessor"></span>
<a name="l01060"></a><a class="code" href="classTelEngine_1_1EngineCheck.html">01060</a> <span class="keyword">class </span>YATE_API EngineCheck
<a name="l01061"></a>01061 {
<a name="l01062"></a>01062 <span class="keyword">public</span>:
<a name="l01066"></a><a class="code" href="classTelEngine_1_1EngineCheck.html#a0c840632e15c1c2f6bb8d430c78aade">01066</a>     <span class="keyword">virtual</span> ~EngineCheck()
<a name="l01067"></a>01067         { }
<a name="l01068"></a>01068 
<a name="l01075"></a>01075     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> check(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* cmds) = 0;
<a name="l01076"></a>01076 
<a name="l01081"></a>01081     <span class="keyword">static</span> <span class="keywordtype">void</span> setChecker(EngineCheck* ptr = 0);
<a name="l01082"></a>01082 };
<a name="l01083"></a>01083 
<a name="l01087"></a><a class="code" href="namespaceTelEngine.html#2183a2b0b320ddc9209016a32347bbf7">01087</a> <span class="keyword">typedef</span> int (*<a class="code" href="namespaceTelEngine.html#2183a2b0b320ddc9209016a32347bbf7">EngineLoop</a>)();
<a name="l01088"></a>01088 
<a name="l01095"></a><a class="code" href="classTelEngine_1_1Engine.html">01095</a> <span class="keyword">class </span>YATE_API Engine
<a name="l01096"></a>01096 {
<a name="l01097"></a>01097     <span class="keyword">friend</span> <span class="keyword">class </span>EnginePrivate;
<a name="l01098"></a>01098     <span class="keyword">friend</span> <span class="keyword">class </span>EngineCommand;
<a name="l01099"></a>01099     <a class="code" href="namespaceTelEngine.html#ca9689d1027503561ea6a86525ee2afa">YNOCOPY</a>(Engine); <span class="comment">// no automatic copies please</span>
<a name="l01100"></a>01100 <span class="keyword">public</span>:
<a name="l01104"></a><a class="code" href="classTelEngine_1_1Engine.html#3dfe11cf1a3a8121f6cd7fec4bf5947e">01104</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Engine.html#3dfe11cf1a3a8121f6cd7fec4bf5947e">RunMode</a> {
<a name="l01105"></a>01105         Stopped = 0,
<a name="l01106"></a>01106         Console = 1,
<a name="l01107"></a>01107         Server = 2,
<a name="l01108"></a>01108         <a class="code" href="classTelEngine_1_1Client.html" title="Class that runs the User Interface.">Client</a> = 3,
<a name="l01109"></a>01109         ClientProxy = 4,
<a name="l01110"></a>01110     };
<a name="l01111"></a>01111 
<a name="l01112"></a>01112     <span class="keyword">enum</span> CallAccept {
<a name="l01113"></a>01113         Accept = 0,
<a name="l01114"></a>01114         Partial = 1,
<a name="l01115"></a>01115         Congestion = 2,
<a name="l01116"></a>01116         Reject = 3,
<a name="l01117"></a>01117     };
<a name="l01118"></a>01118 
<a name="l01125"></a><a class="code" href="classTelEngine_1_1Engine.html#7e0f7aeb7f80a3b65b90416a9719b7a6">01125</a>     <span class="keyword">enum</span> <a class="code" href="classTelEngine_1_1Engine.html#7e0f7aeb7f80a3b65b90416a9719b7a6">PluginMode</a> {
<a name="l01126"></a>01126         LoadFail = 0,
<a name="l01127"></a>01127         LoadLate,
<a name="l01128"></a>01128         LoadEarly
<a name="l01129"></a>01129     };
<a name="l01130"></a>01130 
<a name="l01141"></a>01141     <span class="keyword">static</span> <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv, <span class="keyword">const</span> <span class="keywordtype">char</span>** env,
<a name="l01142"></a>01142         RunMode mode = Console, <a class="code" href="namespaceTelEngine.html#2183a2b0b320ddc9209016a32347bbf7">EngineLoop</a> loop = 0, <span class="keywordtype">bool</span> fail = <span class="keyword">false</span>);
<a name="l01143"></a>01143 
<a name="l01149"></a>01149     <span class="keyword">static</span> <span class="keywordtype">void</span> help(<span class="keywordtype">bool</span> client, <span class="keywordtype">bool</span> errout = <span class="keyword">false</span>);
<a name="l01150"></a>01150 
<a name="l01155"></a>01155     <span class="keywordtype">int</span> engineInit();
<a name="l01156"></a>01156 
<a name="l01161"></a>01161     <span class="keywordtype">int</span> engineCleanup();
<a name="l01162"></a>01162 
<a name="l01167"></a>01167     <span class="keywordtype">int</span> run();
<a name="l01168"></a>01168 
<a name="l01173"></a>01173     <span class="keyword">static</span> Engine* <span class="keyword">self</span>();
<a name="l01174"></a>01174 
<a name="l01179"></a><a class="code" href="classTelEngine_1_1Engine.html#1c88d866bcaf4dfc831cb949c147ffd9">01179</a>     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1Engine.html#3dfe11cf1a3a8121f6cd7fec4bf5947e">RunMode</a> mode()
<a name="l01180"></a>01180         { <span class="keywordflow">return</span> s_mode; }
<a name="l01181"></a>01181 
<a name="l01186"></a><a class="code" href="classTelEngine_1_1Engine.html#802f262b3ae04d9ae009c82cf135b13b">01186</a>     <span class="keyword">inline</span> <span class="keyword">static</span> CallAccept accept() {
<a name="l01187"></a>01187         <span class="keywordflow">return</span> (s_congestion &amp;&amp; (s_accept &lt; Congestion)) ? Congestion : s_accept;
<a name="l01188"></a>01188     }
<a name="l01189"></a>01189 
<a name="l01194"></a><a class="code" href="classTelEngine_1_1Engine.html#e65a28168ff0b3839c38a1cfb335c535">01194</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> setAccept(CallAccept ca) {
<a name="l01195"></a>01195         s_accept = ca;
<a name="l01196"></a>01196     }
<a name="l01197"></a>01197 
<a name="l01202"></a><a class="code" href="classTelEngine_1_1Engine.html#cf7cc27b2d08162231fbe9cc5a9e6f3a">01202</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a>* getCallAcceptStates() {
<a name="l01203"></a>01203         <span class="keywordflow">return</span> s_callAccept;
<a name="l01204"></a>01204     }
<a name="l01205"></a>01205 
<a name="l01210"></a>01210     <span class="keyword">static</span> <span class="keywordtype">void</span> setCongestion(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason = 0);
<a name="l01211"></a>01211 
<a name="l01216"></a><a class="code" href="classTelEngine_1_1Engine.html#d52db525933b76f4bd51075d19d8f004">01216</a>     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getCongestion()
<a name="l01217"></a>01217         { <span class="keywordflow">return</span> s_congestion; }
<a name="l01218"></a>01218 
<a name="l01223"></a><a class="code" href="classTelEngine_1_1Engine.html#166179bca82218afba68ae767d318924">01223</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> clientMode()
<a name="l01224"></a>01224         { <span class="keywordflow">return</span> (s_mode == <a class="code" href="classTelEngine_1_1Client.html" title="Class that runs the User Interface.">Client</a>) || (s_mode == ClientProxy); }
<a name="l01225"></a>01225 
<a name="l01232"></a>01232     <span class="keyword">static</span> <span class="keywordtype">bool</span> Register(<span class="keyword">const</span> Plugin* plugin, <span class="keywordtype">bool</span> reg = <span class="keyword">true</span>);
<a name="l01233"></a>01233 
<a name="l01238"></a><a class="code" href="classTelEngine_1_1Engine.html#8a19daacb85cd820012150f4e0215ce6">01238</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; nodeName()
<a name="l01239"></a>01239         { <span class="keywordflow">return</span> s_node; }
<a name="l01240"></a>01240 
<a name="l01245"></a><a class="code" href="classTelEngine_1_1Engine.html#b0dee886f4c10ebff6904c5851e9fd43">01245</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; sharedPath()
<a name="l01246"></a>01246         { <span class="keywordflow">return</span> s_shrpath; }
<a name="l01247"></a>01247 
<a name="l01254"></a>01254     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> configFile(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> user = <span class="keyword">false</span>);
<a name="l01255"></a>01255 
<a name="l01261"></a>01261     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; configPath(<span class="keywordtype">bool</span> user = <span class="keyword">false</span>);
<a name="l01262"></a>01262 
<a name="l01267"></a><a class="code" href="classTelEngine_1_1Engine.html#ce3d8ed5872149a0a3e5c5eb54f35b51">01267</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; configSuffix()
<a name="l01268"></a>01268         { <span class="keywordflow">return</span> s_cfgsuffix; }
<a name="l01269"></a>01269 
<a name="l01273"></a><a class="code" href="classTelEngine_1_1Engine.html#62579eb1a4ef436c184ed7eaf5347ed8">01273</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; modulePath()
<a name="l01274"></a>01274         { <span class="keywordflow">return</span> s_modpath; }
<a name="l01275"></a>01275 
<a name="l01281"></a>01281     <span class="keyword">static</span> <span class="keywordtype">void</span> extraPath(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; path);
<a name="l01282"></a>01282 
<a name="l01289"></a>01289     <span class="keyword">static</span> <span class="keywordtype">void</span> userPath(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; path);
<a name="l01290"></a>01290 
<a name="l01295"></a><a class="code" href="classTelEngine_1_1Engine.html#f76d26ac6cb542db24e1f2f9a7e3e7bf">01295</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; moduleSuffix()
<a name="l01296"></a>01296         { <span class="keywordflow">return</span> s_modsuffix; }
<a name="l01297"></a>01297 
<a name="l01302"></a>01302     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* pathSeparator();
<a name="l01303"></a>01303 
<a name="l01311"></a>01311     <span class="keyword">static</span> <span class="keyword">const</span> Configuration&amp; config();
<a name="l01312"></a>01312 
<a name="l01317"></a>01317     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runId();
<a name="l01318"></a>01318 
<a name="l01323"></a><a class="code" href="classTelEngine_1_1Engine.html#8cf10a511683dcdf192e6b53a25515aa">01323</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a>&amp; runParams()
<a name="l01324"></a>01324         { <span class="keywordflow">return</span> s_params; }
<a name="l01325"></a>01325 
<a name="l01329"></a>01329     <span class="keyword">static</span> <span class="keywordtype">void</span> init();
<a name="l01330"></a>01330 
<a name="l01336"></a>01336     <span class="keyword">static</span> <span class="keywordtype">bool</span> init(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name);
<a name="l01337"></a>01337 
<a name="l01342"></a>01342     <span class="keyword">static</span> <span class="keywordtype">void</span> halt(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> code);
<a name="l01343"></a>01343 
<a name="l01350"></a>01350     <span class="keyword">static</span> <span class="keywordtype">bool</span> restart(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> code, <span class="keywordtype">bool</span> gracefull = <span class="keyword">false</span>);
<a name="l01351"></a>01351 
<a name="l01356"></a><a class="code" href="classTelEngine_1_1Engine.html#efa849a947c192c077e4226909e9f919">01356</a>     <span class="keyword">static</span> <span class="keywordtype">bool</span> started()
<a name="l01357"></a>01357         { <span class="keywordflow">return</span> s_started; }
<a name="l01358"></a>01358 
<a name="l01363"></a><a class="code" href="classTelEngine_1_1Engine.html#f0c7e111b9b125a276685abd649d9577">01363</a>     <span class="keyword">static</span> <span class="keywordtype">bool</span> exiting()
<a name="l01364"></a>01364         { <span class="keywordflow">return</span> (s_haltcode != -1); }
<a name="l01365"></a>01365 
<a name="l01371"></a>01371     <span class="keyword">static</span> <span class="keywordtype">bool</span> install(MessageHandler* handler);
<a name="l01372"></a>01372 
<a name="l01378"></a>01378     <span class="keyword">static</span> <span class="keywordtype">bool</span> uninstall(MessageHandler* handler);
<a name="l01379"></a>01379 
<a name="l01386"></a>01386     <span class="keyword">static</span> <span class="keywordtype">bool</span> enqueue(Message* msg, <span class="keywordtype">bool</span> skipHooks = <span class="keyword">false</span>);
<a name="l01387"></a>01387 
<a name="l01395"></a><a class="code" href="classTelEngine_1_1Engine.html#e9f37da5e56e0e5baf516d03afd92a7d">01395</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> enqueue(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> broadcast = <span class="keyword">false</span>)
<a name="l01396"></a>01396         { <span class="keywordflow">return</span> name &amp;&amp; *name &amp;&amp; enqueue(<span class="keyword">new</span> Message(name,0,broadcast)); }
<a name="l01397"></a>01397 
<a name="l01403"></a>01403     <span class="keyword">static</span> <span class="keywordtype">bool</span> dispatch(Message* msg);
<a name="l01404"></a>01404 
<a name="l01410"></a>01410     <span class="keyword">static</span> <span class="keywordtype">bool</span> dispatch(Message&amp; msg);
<a name="l01411"></a>01411 
<a name="l01419"></a>01419     <span class="keyword">static</span> <span class="keywordtype">bool</span> dispatch(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> broadcast = <span class="keyword">false</span>);
<a name="l01420"></a>01420 
<a name="l01426"></a><a class="code" href="classTelEngine_1_1Engine.html#26b1251594cbd70dc5774518ec7b42ba">01426</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setHook(MessagePostHook* hook, <span class="keywordtype">bool</span> <span class="keyword">remove</span> = <span class="keyword">false</span>)
<a name="l01427"></a>01427         { m_dispatcher.setHook(hook,<span class="keyword">remove</span>); }
<a name="l01428"></a>01428 
<a name="l01433"></a><a class="code" href="classTelEngine_1_1Engine.html#ce0d2b8027fc7d9b78e1d0e15c970b94">01433</a>     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; trackParam()
<a name="l01434"></a>01434         { <span class="keywordflow">return</span> s_self ? s_self-&gt;m_dispatcher.trackParam() : <a class="code" href="classTelEngine_1_1String.html#45d69b02f1e1f30d7b0b5320725950be">String::empty</a>(); }
<a name="l01435"></a>01435 
<a name="l01441"></a>01441     <span class="keyword">static</span> <span class="keywordtype">bool</span> installHook(MessageHook* hook);
<a name="l01442"></a>01442 
<a name="l01447"></a>01447     <span class="keyword">static</span> <span class="keywordtype">void</span> uninstallHook(MessageHook* hook);
<a name="l01448"></a>01448 
<a name="l01453"></a>01453     <span class="keywordtype">int</span> usedPlugins();
<a name="l01454"></a>01454 
<a name="l01459"></a><a class="code" href="classTelEngine_1_1Engine.html#da7d3d221ee0d87bb9f927f58fc61985">01459</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> messageCount()
<a name="l01460"></a>01460         { <span class="keywordflow">return</span> m_dispatcher.messageCount(); }
<a name="l01461"></a>01461 
<a name="l01466"></a><a class="code" href="classTelEngine_1_1Engine.html#4da8395b9ce6b8554d26dc8905e2e69b">01466</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> handlerCount()
<a name="l01467"></a>01467         { <span class="keywordflow">return</span> m_dispatcher.handlerCount(); }
<a name="l01468"></a>01468 
<a name="l01473"></a><a class="code" href="classTelEngine_1_1Engine.html#ab8b41dc62ff68ac2378aae5122d0f89">01473</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> postHookCount()
<a name="l01474"></a>01474         { <span class="keywordflow">return</span> m_dispatcher.postHookCount(); }
<a name="l01475"></a>01475 
<a name="l01481"></a>01481     <span class="keywordtype">bool</span> loadPluginDir(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; relPath);
<a name="l01482"></a>01482 
<a name="l01487"></a>01487     <span class="keyword">static</span> <span class="keywordtype">void</span> pluginMode(PluginMode mode);
<a name="l01488"></a>01488 
<a name="l01494"></a>01494     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a>* events(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type);
<a name="l01495"></a>01495 
<a name="l01500"></a>01500     <span class="keyword">static</span> <span class="keywordtype">void</span> clearEvents(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; type);
<a name="l01501"></a>01501 
<a name="l01506"></a>01506     <span class="keyword">static</span> SharedVars&amp; sharedVars();
<a name="l01507"></a>01507 
<a name="l01514"></a>01514     <span class="keyword">static</span> <span class="keywordtype">void</span> buildCmdLine(<a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; line);
<a name="l01515"></a>01515 
<a name="l01524"></a>01524     <span class="keyword">static</span> <span class="keywordtype">void</span> initLibrary(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; line, <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>* output = 0);
<a name="l01525"></a>01525 
<a name="l01531"></a>01531     <span class="keyword">static</span> <span class="keywordtype">int</span> cleanupLibrary();
<a name="l01532"></a>01532 
<a name="l01533"></a>01533 <span class="keyword">protected</span>:
<a name="l01538"></a>01538     ~Engine();
<a name="l01539"></a>01539 
<a name="l01547"></a>01547     <span class="keywordtype">bool</span> loadPlugin(<span class="keyword">const</span> <span class="keywordtype">char</span>* file, <span class="keywordtype">bool</span> local = <span class="keyword">false</span>, <span class="keywordtype">bool</span> nounload = <span class="keyword">false</span>);
<a name="l01548"></a>01548 
<a name="l01552"></a>01552     <span class="keywordtype">void</span> loadPlugins();
<a name="l01553"></a>01553 
<a name="l01557"></a>01557     <span class="keywordtype">void</span> initPlugins();
<a name="l01558"></a>01558 
<a name="l01559"></a>01559 <span class="keyword">private</span>:
<a name="l01560"></a>01560     Engine();
<a name="l01561"></a>01561     <span class="keywordtype">void</span> internalStatisticsStart();
<a name="l01562"></a>01562     <span class="keywordtype">void</span> tryPluginFile(<span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; name, <span class="keyword">const</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a>&amp; path, <span class="keywordtype">bool</span> defload);
<a name="l01563"></a>01563     <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> m_libs;
<a name="l01564"></a>01564     MessageDispatcher m_dispatcher;
<a name="l01565"></a>01565     <span class="keyword">static</span> Engine* s_self;
<a name="l01566"></a>01566     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> s_node;
<a name="l01567"></a>01567     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> s_shrpath;
<a name="l01568"></a>01568     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> s_cfgsuffix;
<a name="l01569"></a>01569     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> s_modpath;
<a name="l01570"></a>01570     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1String.html" title="A C-style string handling class.">String</a> s_modsuffix;
<a name="l01571"></a>01571     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1ObjList.html" title="An object list class.">ObjList</a> s_extramod;
<a name="l01572"></a>01572     <span class="keyword">static</span> <a class="code" href="classTelEngine_1_1NamedList.html" title="A named string container class.">NamedList</a> s_params;
<a name="l01573"></a>01573     <span class="keyword">static</span> <span class="keywordtype">int</span> s_haltcode;
<a name="l01574"></a>01574     <span class="keyword">static</span> RunMode s_mode;
<a name="l01575"></a>01575     <span class="keyword">static</span> <span class="keywordtype">bool</span> s_started;
<a name="l01576"></a>01576     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> s_congestion;
<a name="l01577"></a>01577     <span class="keyword">static</span> CallAccept s_accept;
<a name="l01578"></a>01578     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structTelEngine_1_1TokenDict.html">TokenDict</a> s_callAccept[];
<a name="l01579"></a>01579 };
<a name="l01580"></a>01580 
<a name="l01581"></a>01581 }; <span class="comment">// namespace TelEngine</span>
<a name="l01582"></a>01582 
<a name="l01583"></a>01583 <span class="preprocessor">#endif </span><span class="comment">/* __YATENGINE_H */</span>
<a name="l01584"></a>01584 
<a name="l01585"></a>01585 <span class="comment">/* vi: set ts=8 sw=4 sts=4 noet: */</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Tue Mar 1 15:45:05 2016 for Yate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
